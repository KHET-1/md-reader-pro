{"version":3,"file":"bundle.ae8166d4af679587fb60.js","mappings":"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","sources":["webpack://md-reader-pro/./node_modules/prismjs/components/prism-css.js","webpack://md-reader-pro/./node_modules/prismjs/components/prism-javascript.js","webpack://md-reader-pro/./node_modules/prismjs/components/prism-json.js","webpack://md-reader-pro/./node_modules/prismjs/components/prism-markdown.js","webpack://md-reader-pro/./node_modules/prismjs/components/prism-markup.js","webpack://md-reader-pro/./node_modules/prismjs/components/prism-python.js","webpack://md-reader-pro/./node_modules/prismjs/prism.js","webpack://md-reader-pro/webpack/bootstrap","webpack://md-reader-pro/webpack/runtime/global","webpack://md-reader-pro/./src/utils/AnimationManager.js","webpack://md-reader-pro/./src/utils/NotificationManager.js","webpack://md-reader-pro/./src/utils/ErrorManager.js","webpack://md-reader-pro/./src/core/EditorState.js","webpack://md-reader-pro/./src/core/Settings.js","webpack://md-reader-pro/./src/io/EditorIO.js","webpack://md-reader-pro/./node_modules/marked/lib/marked.esm.js","webpack://md-reader-pro/./node_modules/dompurify/dist/purify.es.mjs","webpack://md-reader-pro/./src/ui/EditorUI.js","webpack://md-reader-pro/./src/plugins/PluginRegistry.js","webpack://md-reader-pro/./src/plugins/PluginBridge.js","webpack://md-reader-pro/./src/plugins/PluginLoader.js","webpack://md-reader-pro/./src/plugins/PluginPanel.js","webpack://md-reader-pro/./src/plugins/Storefront.js","webpack://md-reader-pro/./src/index.js"],"sourcesContent":["(function (Prism) {\n\n\tvar string = /(?:\"(?:\\\\(?:\\r\\n|[\\s\\S])|[^\"\\\\\\r\\n])*\"|'(?:\\\\(?:\\r\\n|[\\s\\S])|[^'\\\\\\r\\n])*')/;\n\n\tPrism.languages.css = {\n\t\t'comment': /\\/\\*[\\s\\S]*?\\*\\//,\n\t\t'atrule': {\n\t\t\tpattern: RegExp('@[\\\\w-](?:' + /[^;{\\s\"']|\\s+(?!\\s)/.source + '|' + string.source + ')*?' + /(?:;|(?=\\s*\\{))/.source),\n\t\t\tinside: {\n\t\t\t\t'rule': /^@[\\w-]+/,\n\t\t\t\t'selector-function-argument': {\n\t\t\t\t\tpattern: /(\\bselector\\s*\\(\\s*(?![\\s)]))(?:[^()\\s]|\\s+(?![\\s)])|\\((?:[^()]|\\([^()]*\\))*\\))+(?=\\s*\\))/,\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t\talias: 'selector'\n\t\t\t\t},\n\t\t\t\t'keyword': {\n\t\t\t\t\tpattern: /(^|[^\\w-])(?:and|not|only|or)(?![\\w-])/,\n\t\t\t\t\tlookbehind: true\n\t\t\t\t}\n\t\t\t\t// See rest below\n\t\t\t}\n\t\t},\n\t\t'url': {\n\t\t\t// https://drafts.csswg.org/css-values-3/#urls\n\t\t\tpattern: RegExp('\\\\burl\\\\((?:' + string.source + '|' + /(?:[^\\\\\\r\\n()\"']|\\\\[\\s\\S])*/.source + ')\\\\)', 'i'),\n\t\t\tgreedy: true,\n\t\t\tinside: {\n\t\t\t\t'function': /^url/i,\n\t\t\t\t'punctuation': /^\\(|\\)$/,\n\t\t\t\t'string': {\n\t\t\t\t\tpattern: RegExp('^' + string.source + '$'),\n\t\t\t\t\talias: 'url'\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t'selector': {\n\t\t\tpattern: RegExp('(^|[{}\\\\s])[^{}\\\\s](?:[^{};\"\\'\\\\s]|\\\\s+(?![\\\\s{])|' + string.source + ')*(?=\\\\s*\\\\{)'),\n\t\t\tlookbehind: true\n\t\t},\n\t\t'string': {\n\t\t\tpattern: string,\n\t\t\tgreedy: true\n\t\t},\n\t\t'property': {\n\t\t\tpattern: /(^|[^-\\w\\xA0-\\uFFFF])(?!\\s)[-_a-z\\xA0-\\uFFFF](?:(?!\\s)[-\\w\\xA0-\\uFFFF])*(?=\\s*:)/i,\n\t\t\tlookbehind: true\n\t\t},\n\t\t'important': /!important\\b/i,\n\t\t'function': {\n\t\t\tpattern: /(^|[^-a-z0-9])[-a-z0-9]+(?=\\()/i,\n\t\t\tlookbehind: true\n\t\t},\n\t\t'punctuation': /[(){};:,]/\n\t};\n\n\tPrism.languages.css['atrule'].inside.rest = Prism.languages.css;\n\n\tvar markup = Prism.languages.markup;\n\tif (markup) {\n\t\tmarkup.tag.addInlined('style', 'css');\n\t\tmarkup.tag.addAttribute('style', 'css');\n\t}\n\n}(Prism));\n","Prism.languages.javascript = Prism.languages.extend('clike', {\n\t'class-name': [\n\t\tPrism.languages.clike['class-name'],\n\t\t{\n\t\t\tpattern: /(^|[^$\\w\\xA0-\\uFFFF])(?!\\s)[_$A-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\.(?:constructor|prototype))/,\n\t\t\tlookbehind: true\n\t\t}\n\t],\n\t'keyword': [\n\t\t{\n\t\t\tpattern: /((?:^|\\})\\s*)catch\\b/,\n\t\t\tlookbehind: true\n\t\t},\n\t\t{\n\t\t\tpattern: /(^|[^.]|\\.\\.\\.\\s*)\\b(?:as|assert(?=\\s*\\{)|async(?=\\s*(?:function\\b|\\(|[$\\w\\xA0-\\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\\s*(?:\\{|$))|for|from(?=\\s*(?:['\"]|$))|function|(?:get|set)(?=\\s*(?:[#\\[$\\w\\xA0-\\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\\b/,\n\t\t\tlookbehind: true\n\t\t},\n\t],\n\t// Allow for all non-ASCII characters (See http://stackoverflow.com/a/2008444)\n\t'function': /#?(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*(?:\\.\\s*(?:apply|bind|call)\\s*)?\\()/,\n\t'number': {\n\t\tpattern: RegExp(\n\t\t\t/(^|[^\\w$])/.source +\n\t\t\t'(?:' +\n\t\t\t(\n\t\t\t\t// constant\n\t\t\t\t/NaN|Infinity/.source +\n\t\t\t\t'|' +\n\t\t\t\t// binary integer\n\t\t\t\t/0[bB][01]+(?:_[01]+)*n?/.source +\n\t\t\t\t'|' +\n\t\t\t\t// octal integer\n\t\t\t\t/0[oO][0-7]+(?:_[0-7]+)*n?/.source +\n\t\t\t\t'|' +\n\t\t\t\t// hexadecimal integer\n\t\t\t\t/0[xX][\\dA-Fa-f]+(?:_[\\dA-Fa-f]+)*n?/.source +\n\t\t\t\t'|' +\n\t\t\t\t// decimal bigint\n\t\t\t\t/\\d+(?:_\\d+)*n/.source +\n\t\t\t\t'|' +\n\t\t\t\t// decimal number (integer or float) but no bigint\n\t\t\t\t/(?:\\d+(?:_\\d+)*(?:\\.(?:\\d+(?:_\\d+)*)?)?|\\.\\d+(?:_\\d+)*)(?:[Ee][+-]?\\d+(?:_\\d+)*)?/.source\n\t\t\t) +\n\t\t\t')' +\n\t\t\t/(?![\\w$])/.source\n\t\t),\n\t\tlookbehind: true\n\t},\n\t'operator': /--|\\+\\+|\\*\\*=?|=>|&&=?|\\|\\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\\.{3}|\\?\\?=?|\\?\\.?|[~:]/\n});\n\nPrism.languages.javascript['class-name'][0].pattern = /(\\b(?:class|extends|implements|instanceof|interface|new)\\s+)[\\w.\\\\]+/;\n\nPrism.languages.insertBefore('javascript', 'keyword', {\n\t'regex': {\n\t\tpattern: RegExp(\n\t\t\t// lookbehind\n\t\t\t// eslint-disable-next-line regexp/no-dupe-characters-character-class\n\t\t\t/((?:^|[^$\\w\\xA0-\\uFFFF.\"'\\])\\s]|\\b(?:return|yield))\\s*)/.source +\n\t\t\t// Regex pattern:\n\t\t\t// There are 2 regex patterns here. The RegExp set notation proposal added support for nested character\n\t\t\t// classes if the `v` flag is present. Unfortunately, nested CCs are both context-free and incompatible\n\t\t\t// with the only syntax, so we have to define 2 different regex patterns.\n\t\t\t/\\//.source +\n\t\t\t'(?:' +\n\t\t\t/(?:\\[(?:[^\\]\\\\\\r\\n]|\\\\.)*\\]|\\\\.|[^/\\\\\\[\\r\\n])+\\/[dgimyus]{0,7}/.source +\n\t\t\t'|' +\n\t\t\t// `v` flag syntax. This supports 3 levels of nested character classes.\n\t\t\t/(?:\\[(?:[^[\\]\\\\\\r\\n]|\\\\.|\\[(?:[^[\\]\\\\\\r\\n]|\\\\.|\\[(?:[^[\\]\\\\\\r\\n]|\\\\.)*\\])*\\])*\\]|\\\\.|[^/\\\\\\[\\r\\n])+\\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source +\n\t\t\t')' +\n\t\t\t// lookahead\n\t\t\t/(?=(?:\\s|\\/\\*(?:[^*]|\\*(?!\\/))*\\*\\/)*(?:$|[\\r\\n,.;:})\\]]|\\/\\/))/.source\n\t\t),\n\t\tlookbehind: true,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'regex-source': {\n\t\t\t\tpattern: /^(\\/)[\\s\\S]+(?=\\/[a-z]*$)/,\n\t\t\t\tlookbehind: true,\n\t\t\t\talias: 'language-regex',\n\t\t\t\tinside: Prism.languages.regex\n\t\t\t},\n\t\t\t'regex-delimiter': /^\\/|\\/$/,\n\t\t\t'regex-flags': /^[a-z]+$/,\n\t\t}\n\t},\n\t// This must be declared before keyword because we use \"function\" inside the look-forward\n\t'function-variable': {\n\t\tpattern: /#?(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*[=:]\\s*(?:async\\s*)?(?:\\bfunction\\b|(?:\\((?:[^()]|\\([^()]*\\))*\\)|(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*)\\s*=>))/,\n\t\talias: 'function'\n\t},\n\t'parameter': [\n\t\t{\n\t\t\tpattern: /(function(?:\\s+(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*)?\\s*\\(\\s*)(?!\\s)(?:[^()\\s]|\\s+(?![\\s)])|\\([^()]*\\))+(?=\\s*\\))/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /(^|[^$\\w\\xA0-\\uFFFF])(?!\\s)[_$a-z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*=>)/i,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /(\\(\\s*)(?!\\s)(?:[^()\\s]|\\s+(?![\\s)])|\\([^()]*\\))+(?=\\s*\\)\\s*=>)/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /((?:\\b|\\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\\w\\xA0-\\uFFFF]))(?:(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*\\s*)\\(\\s*|\\]\\s*\\(\\s*)(?!\\s)(?:[^()\\s]|\\s+(?![\\s)])|\\([^()]*\\))+(?=\\s*\\)\\s*\\{)/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t}\n\t],\n\t'constant': /\\b[A-Z](?:[A-Z_]|\\dx?)*\\b/\n});\n\nPrism.languages.insertBefore('javascript', 'string', {\n\t'hashbang': {\n\t\tpattern: /^#!.*/,\n\t\tgreedy: true,\n\t\talias: 'comment'\n\t},\n\t'template-string': {\n\t\tpattern: /`(?:\\\\[\\s\\S]|\\$\\{(?:[^{}]|\\{(?:[^{}]|\\{[^}]*\\})*\\})+\\}|(?!\\$\\{)[^\\\\`])*`/,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'template-punctuation': {\n\t\t\t\tpattern: /^`|`$/,\n\t\t\t\talias: 'string'\n\t\t\t},\n\t\t\t'interpolation': {\n\t\t\t\tpattern: /((?:^|[^\\\\])(?:\\\\{2})*)\\$\\{(?:[^{}]|\\{(?:[^{}]|\\{[^}]*\\})*\\})+\\}/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'interpolation-punctuation': {\n\t\t\t\t\t\tpattern: /^\\$\\{|\\}$/,\n\t\t\t\t\t\talias: 'punctuation'\n\t\t\t\t\t},\n\t\t\t\t\trest: Prism.languages.javascript\n\t\t\t\t}\n\t\t\t},\n\t\t\t'string': /[\\s\\S]+/\n\t\t}\n\t},\n\t'string-property': {\n\t\tpattern: /((?:^|[,{])[ \\t]*)([\"'])(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\2)[^\\\\\\r\\n])*\\2(?=\\s*:)/m,\n\t\tlookbehind: true,\n\t\tgreedy: true,\n\t\talias: 'property'\n\t}\n});\n\nPrism.languages.insertBefore('javascript', 'operator', {\n\t'literal-property': {\n\t\tpattern: /((?:^|[,{])[ \\t]*)(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*:)/m,\n\t\tlookbehind: true,\n\t\talias: 'property'\n\t},\n});\n\nif (Prism.languages.markup) {\n\tPrism.languages.markup.tag.addInlined('script', 'javascript');\n\n\t// add attribute support for all DOM events.\n\t// https://developer.mozilla.org/en-US/docs/Web/Events#Standard_events\n\tPrism.languages.markup.tag.addAttribute(\n\t\t/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,\n\t\t'javascript'\n\t);\n}\n\nPrism.languages.js = Prism.languages.javascript;\n","// https://www.json.org/json-en.html\nPrism.languages.json = {\n\t'property': {\n\t\tpattern: /(^|[^\\\\])\"(?:\\\\.|[^\\\\\"\\r\\n])*\"(?=\\s*:)/,\n\t\tlookbehind: true,\n\t\tgreedy: true\n\t},\n\t'string': {\n\t\tpattern: /(^|[^\\\\])\"(?:\\\\.|[^\\\\\"\\r\\n])*\"(?!\\s*:)/,\n\t\tlookbehind: true,\n\t\tgreedy: true\n\t},\n\t'comment': {\n\t\tpattern: /\\/\\/.*|\\/\\*[\\s\\S]*?(?:\\*\\/|$)/,\n\t\tgreedy: true\n\t},\n\t'number': /-?\\b\\d+(?:\\.\\d+)?(?:e[+-]?\\d+)?\\b/i,\n\t'punctuation': /[{}[\\],]/,\n\t'operator': /:/,\n\t'boolean': /\\b(?:false|true)\\b/,\n\t'null': {\n\t\tpattern: /\\bnull\\b/,\n\t\talias: 'keyword'\n\t}\n};\n\nPrism.languages.webmanifest = Prism.languages.json;\n","(function (Prism) {\n\n\t// Allow only one line break\n\tvar inner = /(?:\\\\.|[^\\\\\\n\\r]|(?:\\n|\\r\\n?)(?![\\r\\n]))/.source;\n\n\t/**\n\t * This function is intended for the creation of the bold or italic pattern.\n\t *\n\t * This also adds a lookbehind group to the given pattern to ensure that the pattern is not backslash-escaped.\n\t *\n\t * _Note:_ Keep in mind that this adds a capturing group.\n\t *\n\t * @param {string} pattern\n\t * @returns {RegExp}\n\t */\n\tfunction createInline(pattern) {\n\t\tpattern = pattern.replace(/<inner>/g, function () { return inner; });\n\t\treturn RegExp(/((?:^|[^\\\\])(?:\\\\{2})*)/.source + '(?:' + pattern + ')');\n\t}\n\n\n\tvar tableCell = /(?:\\\\.|``(?:[^`\\r\\n]|`(?!`))+``|`[^`\\r\\n]+`|[^\\\\|\\r\\n`])+/.source;\n\tvar tableRow = /\\|?__(?:\\|__)+\\|?(?:(?:\\n|\\r\\n?)|(?![\\s\\S]))/.source.replace(/__/g, function () { return tableCell; });\n\tvar tableLine = /\\|?[ \\t]*:?-{3,}:?[ \\t]*(?:\\|[ \\t]*:?-{3,}:?[ \\t]*)+\\|?(?:\\n|\\r\\n?)/.source;\n\n\n\tPrism.languages.markdown = Prism.languages.extend('markup', {});\n\tPrism.languages.insertBefore('markdown', 'prolog', {\n\t\t'front-matter-block': {\n\t\t\tpattern: /(^(?:\\s*[\\r\\n])?)---(?!.)[\\s\\S]*?[\\r\\n]---(?!.)/,\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true,\n\t\t\tinside: {\n\t\t\t\t'punctuation': /^---|---$/,\n\t\t\t\t'front-matter': {\n\t\t\t\t\tpattern: /\\S+(?:\\s+\\S+)*/,\n\t\t\t\t\talias: ['yaml', 'language-yaml'],\n\t\t\t\t\tinside: Prism.languages.yaml\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t'blockquote': {\n\t\t\t// > ...\n\t\t\tpattern: /^>(?:[\\t ]*>)*/m,\n\t\t\talias: 'punctuation'\n\t\t},\n\t\t'table': {\n\t\t\tpattern: RegExp('^' + tableRow + tableLine + '(?:' + tableRow + ')*', 'm'),\n\t\t\tinside: {\n\t\t\t\t'table-data-rows': {\n\t\t\t\t\tpattern: RegExp('^(' + tableRow + tableLine + ')(?:' + tableRow + ')*$'),\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t\tinside: {\n\t\t\t\t\t\t'table-data': {\n\t\t\t\t\t\t\tpattern: RegExp(tableCell),\n\t\t\t\t\t\t\tinside: Prism.languages.markdown\n\t\t\t\t\t\t},\n\t\t\t\t\t\t'punctuation': /\\|/\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t'table-line': {\n\t\t\t\t\tpattern: RegExp('^(' + tableRow + ')' + tableLine + '$'),\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t\tinside: {\n\t\t\t\t\t\t'punctuation': /\\||:?-{3,}:?/\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t'table-header-row': {\n\t\t\t\t\tpattern: RegExp('^' + tableRow + '$'),\n\t\t\t\t\tinside: {\n\t\t\t\t\t\t'table-header': {\n\t\t\t\t\t\t\tpattern: RegExp(tableCell),\n\t\t\t\t\t\t\talias: 'important',\n\t\t\t\t\t\t\tinside: Prism.languages.markdown\n\t\t\t\t\t\t},\n\t\t\t\t\t\t'punctuation': /\\|/\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t'code': [\n\t\t\t{\n\t\t\t\t// Prefixed by 4 spaces or 1 tab and preceded by an empty line\n\t\t\t\tpattern: /((?:^|\\n)[ \\t]*\\n|(?:^|\\r\\n?)[ \\t]*\\r\\n?)(?: {4}|\\t).+(?:(?:\\n|\\r\\n?)(?: {4}|\\t).+)*/,\n\t\t\t\tlookbehind: true,\n\t\t\t\talias: 'keyword'\n\t\t\t},\n\t\t\t{\n\t\t\t\t// ```optional language\n\t\t\t\t// code block\n\t\t\t\t// ```\n\t\t\t\tpattern: /^```[\\s\\S]*?^```$/m,\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'code-block': {\n\t\t\t\t\t\tpattern: /^(```.*(?:\\n|\\r\\n?))[\\s\\S]+?(?=(?:\\n|\\r\\n?)^```$)/m,\n\t\t\t\t\t\tlookbehind: true\n\t\t\t\t\t},\n\t\t\t\t\t'code-language': {\n\t\t\t\t\t\tpattern: /^(```).+/,\n\t\t\t\t\t\tlookbehind: true\n\t\t\t\t\t},\n\t\t\t\t\t'punctuation': /```/\n\t\t\t\t}\n\t\t\t}\n\t\t],\n\t\t'title': [\n\t\t\t{\n\t\t\t\t// title 1\n\t\t\t\t// =======\n\n\t\t\t\t// title 2\n\t\t\t\t// -------\n\t\t\t\tpattern: /\\S.*(?:\\n|\\r\\n?)(?:==+|--+)(?=[ \\t]*$)/m,\n\t\t\t\talias: 'important',\n\t\t\t\tinside: {\n\t\t\t\t\tpunctuation: /==+$|--+$/\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\t// # title 1\n\t\t\t\t// ###### title 6\n\t\t\t\tpattern: /(^\\s*)#.+/m,\n\t\t\t\tlookbehind: true,\n\t\t\t\talias: 'important',\n\t\t\t\tinside: {\n\t\t\t\t\tpunctuation: /^#+|#+$/\n\t\t\t\t}\n\t\t\t}\n\t\t],\n\t\t'hr': {\n\t\t\t// ***\n\t\t\t// ---\n\t\t\t// * * *\n\t\t\t// -----------\n\t\t\tpattern: /(^\\s*)([*-])(?:[\\t ]*\\2){2,}(?=\\s*$)/m,\n\t\t\tlookbehind: true,\n\t\t\talias: 'punctuation'\n\t\t},\n\t\t'list': {\n\t\t\t// * item\n\t\t\t// + item\n\t\t\t// - item\n\t\t\t// 1. item\n\t\t\tpattern: /(^\\s*)(?:[*+-]|\\d+\\.)(?=[\\t ].)/m,\n\t\t\tlookbehind: true,\n\t\t\talias: 'punctuation'\n\t\t},\n\t\t'url-reference': {\n\t\t\t// [id]: http://example.com \"Optional title\"\n\t\t\t// [id]: http://example.com 'Optional title'\n\t\t\t// [id]: http://example.com (Optional title)\n\t\t\t// [id]: <http://example.com> \"Optional title\"\n\t\t\tpattern: /!?\\[[^\\]]+\\]:[\\t ]+(?:\\S+|<(?:\\\\.|[^>\\\\])+>)(?:[\\t ]+(?:\"(?:\\\\.|[^\"\\\\])*\"|'(?:\\\\.|[^'\\\\])*'|\\((?:\\\\.|[^)\\\\])*\\)))?/,\n\t\t\tinside: {\n\t\t\t\t'variable': {\n\t\t\t\t\tpattern: /^(!?\\[)[^\\]]+/,\n\t\t\t\t\tlookbehind: true\n\t\t\t\t},\n\t\t\t\t'string': /(?:\"(?:\\\\.|[^\"\\\\])*\"|'(?:\\\\.|[^'\\\\])*'|\\((?:\\\\.|[^)\\\\])*\\))$/,\n\t\t\t\t'punctuation': /^[\\[\\]!:]|[<>]/\n\t\t\t},\n\t\t\talias: 'url'\n\t\t},\n\t\t'bold': {\n\t\t\t// **strong**\n\t\t\t// __strong__\n\n\t\t\t// allow one nested instance of italic text using the same delimiter\n\t\t\tpattern: createInline(/\\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\\b|\\*\\*(?:(?!\\*)<inner>|\\*(?:(?!\\*)<inner>)+\\*)+\\*\\*/.source),\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true,\n\t\t\tinside: {\n\t\t\t\t'content': {\n\t\t\t\t\tpattern: /(^..)[\\s\\S]+(?=..$)/,\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t\tinside: {} // see below\n\t\t\t\t},\n\t\t\t\t'punctuation': /\\*\\*|__/\n\t\t\t}\n\t\t},\n\t\t'italic': {\n\t\t\t// *em*\n\t\t\t// _em_\n\n\t\t\t// allow one nested instance of bold text using the same delimiter\n\t\t\tpattern: createInline(/\\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\\b|\\*(?:(?!\\*)<inner>|\\*\\*(?:(?!\\*)<inner>)+\\*\\*)+\\*/.source),\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true,\n\t\t\tinside: {\n\t\t\t\t'content': {\n\t\t\t\t\tpattern: /(^.)[\\s\\S]+(?=.$)/,\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t\tinside: {} // see below\n\t\t\t\t},\n\t\t\t\t'punctuation': /[*_]/\n\t\t\t}\n\t\t},\n\t\t'strike': {\n\t\t\t// ~~strike through~~\n\t\t\t// ~strike~\n\t\t\t// eslint-disable-next-line regexp/strict\n\t\t\tpattern: createInline(/(~~?)(?:(?!~)<inner>)+\\2/.source),\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true,\n\t\t\tinside: {\n\t\t\t\t'content': {\n\t\t\t\t\tpattern: /(^~~?)[\\s\\S]+(?=\\1$)/,\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t\tinside: {} // see below\n\t\t\t\t},\n\t\t\t\t'punctuation': /~~?/\n\t\t\t}\n\t\t},\n\t\t'code-snippet': {\n\t\t\t// `code`\n\t\t\t// ``code``\n\t\t\tpattern: /(^|[^\\\\`])(?:``[^`\\r\\n]+(?:`[^`\\r\\n]+)*``(?!`)|`[^`\\r\\n]+`(?!`))/,\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true,\n\t\t\talias: ['code', 'keyword']\n\t\t},\n\t\t'url': {\n\t\t\t// [example](http://example.com \"Optional title\")\n\t\t\t// [example][id]\n\t\t\t// [example] [id]\n\t\t\tpattern: createInline(/!?\\[(?:(?!\\])<inner>)+\\](?:\\([^\\s)]+(?:[\\t ]+\"(?:\\\\.|[^\"\\\\])*\")?\\)|[ \\t]?\\[(?:(?!\\])<inner>)+\\])/.source),\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true,\n\t\t\tinside: {\n\t\t\t\t'operator': /^!/,\n\t\t\t\t'content': {\n\t\t\t\t\tpattern: /(^\\[)[^\\]]+(?=\\])/,\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t\tinside: {} // see below\n\t\t\t\t},\n\t\t\t\t'variable': {\n\t\t\t\t\tpattern: /(^\\][ \\t]?\\[)[^\\]]+(?=\\]$)/,\n\t\t\t\t\tlookbehind: true\n\t\t\t\t},\n\t\t\t\t'url': {\n\t\t\t\t\tpattern: /(^\\]\\()[^\\s)]+/,\n\t\t\t\t\tlookbehind: true\n\t\t\t\t},\n\t\t\t\t'string': {\n\t\t\t\t\tpattern: /(^[ \\t]+)\"(?:\\\\.|[^\"\\\\])*\"(?=\\)$)/,\n\t\t\t\t\tlookbehind: true\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\n\t['url', 'bold', 'italic', 'strike'].forEach(function (token) {\n\t\t['url', 'bold', 'italic', 'strike', 'code-snippet'].forEach(function (inside) {\n\t\t\tif (token !== inside) {\n\t\t\t\tPrism.languages.markdown[token].inside.content.inside[inside] = Prism.languages.markdown[inside];\n\t\t\t}\n\t\t});\n\t});\n\n\tPrism.hooks.add('after-tokenize', function (env) {\n\t\tif (env.language !== 'markdown' && env.language !== 'md') {\n\t\t\treturn;\n\t\t}\n\n\t\tfunction walkTokens(tokens) {\n\t\t\tif (!tokens || typeof tokens === 'string') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfor (var i = 0, l = tokens.length; i < l; i++) {\n\t\t\t\tvar token = tokens[i];\n\n\t\t\t\tif (token.type !== 'code') {\n\t\t\t\t\twalkTokens(token.content);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t/*\n\t\t\t\t * Add the correct `language-xxxx` class to this code block. Keep in mind that the `code-language` token\n\t\t\t\t * is optional. But the grammar is defined so that there is only one case we have to handle:\n\t\t\t\t *\n\t\t\t\t * token.content = [\n\t\t\t\t *     <span class=\"punctuation\">```</span>,\n\t\t\t\t *     <span class=\"code-language\">xxxx</span>,\n\t\t\t\t *     '\\n', // exactly one new lines (\\r or \\n or \\r\\n)\n\t\t\t\t *     <span class=\"code-block\">...</span>,\n\t\t\t\t *     '\\n', // exactly one new lines again\n\t\t\t\t *     <span class=\"punctuation\">```</span>\n\t\t\t\t * ];\n\t\t\t\t */\n\n\t\t\t\tvar codeLang = token.content[1];\n\t\t\t\tvar codeBlock = token.content[3];\n\n\t\t\t\tif (codeLang && codeBlock &&\n\t\t\t\t\tcodeLang.type === 'code-language' && codeBlock.type === 'code-block' &&\n\t\t\t\t\ttypeof codeLang.content === 'string') {\n\n\t\t\t\t\t// this might be a language that Prism does not support\n\n\t\t\t\t\t// do some replacements to support C++, C#, and F#\n\t\t\t\t\tvar lang = codeLang.content.replace(/\\b#/g, 'sharp').replace(/\\b\\+\\+/g, 'pp');\n\t\t\t\t\t// only use the first word\n\t\t\t\t\tlang = (/[a-z][\\w-]*/i.exec(lang) || [''])[0].toLowerCase();\n\t\t\t\t\tvar alias = 'language-' + lang;\n\n\t\t\t\t\t// add alias\n\t\t\t\t\tif (!codeBlock.alias) {\n\t\t\t\t\t\tcodeBlock.alias = [alias];\n\t\t\t\t\t} else if (typeof codeBlock.alias === 'string') {\n\t\t\t\t\t\tcodeBlock.alias = [codeBlock.alias, alias];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcodeBlock.alias.push(alias);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\twalkTokens(env.tokens);\n\t});\n\n\tPrism.hooks.add('wrap', function (env) {\n\t\tif (env.type !== 'code-block') {\n\t\t\treturn;\n\t\t}\n\n\t\tvar codeLang = '';\n\t\tfor (var i = 0, l = env.classes.length; i < l; i++) {\n\t\t\tvar cls = env.classes[i];\n\t\t\tvar match = /language-(.+)/.exec(cls);\n\t\t\tif (match) {\n\t\t\t\tcodeLang = match[1];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tvar grammar = Prism.languages[codeLang];\n\n\t\tif (!grammar) {\n\t\t\tif (codeLang && codeLang !== 'none' && Prism.plugins.autoloader) {\n\t\t\t\tvar id = 'md-' + new Date().valueOf() + '-' + Math.floor(Math.random() * 1e16);\n\t\t\t\tenv.attributes['id'] = id;\n\n\t\t\t\tPrism.plugins.autoloader.loadLanguages(codeLang, function () {\n\t\t\t\t\tvar ele = document.getElementById(id);\n\t\t\t\t\tif (ele) {\n\t\t\t\t\t\tele.innerHTML = Prism.highlight(ele.textContent, Prism.languages[codeLang], codeLang);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\tenv.content = Prism.highlight(textContent(env.content), grammar, codeLang);\n\t\t}\n\t});\n\n\tvar tagPattern = RegExp(Prism.languages.markup.tag.pattern.source, 'gi');\n\n\t/**\n\t * A list of known entity names.\n\t *\n\t * This will always be incomplete to save space. The current list is the one used by lowdash's unescape function.\n\t *\n\t * @see {@link https://github.com/lodash/lodash/blob/2da024c3b4f9947a48517639de7560457cd4ec6c/unescape.js#L2}\n\t */\n\tvar KNOWN_ENTITY_NAMES = {\n\t\t'amp': '&',\n\t\t'lt': '<',\n\t\t'gt': '>',\n\t\t'quot': '\"',\n\t};\n\n\t// IE 11 doesn't support `String.fromCodePoint`\n\tvar fromCodePoint = String.fromCodePoint || String.fromCharCode;\n\n\t/**\n\t * Returns the text content of a given HTML source code string.\n\t *\n\t * @param {string} html\n\t * @returns {string}\n\t */\n\tfunction textContent(html) {\n\t\t// remove all tags\n\t\tvar text = html.replace(tagPattern, '');\n\n\t\t// decode known entities\n\t\ttext = text.replace(/&(\\w{1,8}|#x?[\\da-f]{1,8});/gi, function (m, code) {\n\t\t\tcode = code.toLowerCase();\n\n\t\t\tif (code[0] === '#') {\n\t\t\t\tvar value;\n\t\t\t\tif (code[1] === 'x') {\n\t\t\t\t\tvalue = parseInt(code.slice(2), 16);\n\t\t\t\t} else {\n\t\t\t\t\tvalue = Number(code.slice(1));\n\t\t\t\t}\n\n\t\t\t\treturn fromCodePoint(value);\n\t\t\t} else {\n\t\t\t\tvar known = KNOWN_ENTITY_NAMES[code];\n\t\t\t\tif (known) {\n\t\t\t\t\treturn known;\n\t\t\t\t}\n\n\t\t\t\t// unable to decode\n\t\t\t\treturn m;\n\t\t\t}\n\t\t});\n\n\t\treturn text;\n\t}\n\n\tPrism.languages.md = Prism.languages.markdown;\n\n}(Prism));\n","Prism.languages.markup = {\n\t'comment': {\n\t\tpattern: /<!--(?:(?!<!--)[\\s\\S])*?-->/,\n\t\tgreedy: true\n\t},\n\t'prolog': {\n\t\tpattern: /<\\?[\\s\\S]+?\\?>/,\n\t\tgreedy: true\n\t},\n\t'doctype': {\n\t\t// https://www.w3.org/TR/xml/#NT-doctypedecl\n\t\tpattern: /<!DOCTYPE(?:[^>\"'[\\]]|\"[^\"]*\"|'[^']*')+(?:\\[(?:[^<\"'\\]]|\"[^\"]*\"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\\]\\s*)?>/i,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'internal-subset': {\n\t\t\t\tpattern: /(^[^\\[]*\\[)[\\s\\S]+(?=\\]>$)/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: null // see below\n\t\t\t},\n\t\t\t'string': {\n\t\t\t\tpattern: /\"[^\"]*\"|'[^']*'/,\n\t\t\t\tgreedy: true\n\t\t\t},\n\t\t\t'punctuation': /^<!|>$|[[\\]]/,\n\t\t\t'doctype-tag': /^DOCTYPE/i,\n\t\t\t'name': /[^\\s<>'\"]+/\n\t\t}\n\t},\n\t'cdata': {\n\t\tpattern: /<!\\[CDATA\\[[\\s\\S]*?\\]\\]>/i,\n\t\tgreedy: true\n\t},\n\t'tag': {\n\t\tpattern: /<\\/?(?!\\d)[^\\s>\\/=$<%]+(?:\\s(?:\\s*[^\\s>\\/=]+(?:\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+(?=[\\s>]))|(?=[\\s/>])))+)?\\s*\\/?>/,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'tag': {\n\t\t\t\tpattern: /^<\\/?[^\\s>\\/]+/,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': /^<\\/?/,\n\t\t\t\t\t'namespace': /^[^\\s>\\/:]+:/\n\t\t\t\t}\n\t\t\t},\n\t\t\t'special-attr': [],\n\t\t\t'attr-value': {\n\t\t\t\tpattern: /=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+)/,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpattern: /^=/,\n\t\t\t\t\t\t\talias: 'attr-equals'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpattern: /^(\\s*)[\"']|[\"']$/,\n\t\t\t\t\t\t\tlookbehind: true\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t},\n\t\t\t'punctuation': /\\/?>/,\n\t\t\t'attr-name': {\n\t\t\t\tpattern: /[^\\s>\\/]+/,\n\t\t\t\tinside: {\n\t\t\t\t\t'namespace': /^[^\\s>\\/:]+:/\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t},\n\t'entity': [\n\t\t{\n\t\t\tpattern: /&[\\da-z]{1,8};/i,\n\t\t\talias: 'named-entity'\n\t\t},\n\t\t/&#x?[\\da-f]{1,8};/i\n\t]\n};\n\nPrism.languages.markup['tag'].inside['attr-value'].inside['entity'] =\n\tPrism.languages.markup['entity'];\nPrism.languages.markup['doctype'].inside['internal-subset'].inside = Prism.languages.markup;\n\n// Plugin to make entity title show the real entity, idea by Roman Komarov\nPrism.hooks.add('wrap', function (env) {\n\n\tif (env.type === 'entity') {\n\t\tenv.attributes['title'] = env.content.replace(/&amp;/, '&');\n\t}\n});\n\nObject.defineProperty(Prism.languages.markup.tag, 'addInlined', {\n\t/**\n\t * Adds an inlined language to markup.\n\t *\n\t * An example of an inlined language is CSS with `<style>` tags.\n\t *\n\t * @param {string} tagName The name of the tag that contains the inlined language. This name will be treated as\n\t * case insensitive.\n\t * @param {string} lang The language key.\n\t * @example\n\t * addInlined('style', 'css');\n\t */\n\tvalue: function addInlined(tagName, lang) {\n\t\tvar includedCdataInside = {};\n\t\tincludedCdataInside['language-' + lang] = {\n\t\t\tpattern: /(^<!\\[CDATA\\[)[\\s\\S]+?(?=\\]\\]>$)/i,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages[lang]\n\t\t};\n\t\tincludedCdataInside['cdata'] = /^<!\\[CDATA\\[|\\]\\]>$/i;\n\n\t\tvar inside = {\n\t\t\t'included-cdata': {\n\t\t\t\tpattern: /<!\\[CDATA\\[[\\s\\S]*?\\]\\]>/i,\n\t\t\t\tinside: includedCdataInside\n\t\t\t}\n\t\t};\n\t\tinside['language-' + lang] = {\n\t\t\tpattern: /[\\s\\S]+/,\n\t\t\tinside: Prism.languages[lang]\n\t\t};\n\n\t\tvar def = {};\n\t\tdef[tagName] = {\n\t\t\tpattern: RegExp(/(<__[^>]*>)(?:<!\\[CDATA\\[(?:[^\\]]|\\](?!\\]>))*\\]\\]>|(?!<!\\[CDATA\\[)[\\s\\S])*?(?=<\\/__>)/.source.replace(/__/g, function () { return tagName; }), 'i'),\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true,\n\t\t\tinside: inside\n\t\t};\n\n\t\tPrism.languages.insertBefore('markup', 'cdata', def);\n\t}\n});\nObject.defineProperty(Prism.languages.markup.tag, 'addAttribute', {\n\t/**\n\t * Adds an pattern to highlight languages embedded in HTML attributes.\n\t *\n\t * An example of an inlined language is CSS with `style` attributes.\n\t *\n\t * @param {string} attrName The name of the tag that contains the inlined language. This name will be treated as\n\t * case insensitive.\n\t * @param {string} lang The language key.\n\t * @example\n\t * addAttribute('style', 'css');\n\t */\n\tvalue: function (attrName, lang) {\n\t\tPrism.languages.markup.tag.inside['special-attr'].push({\n\t\t\tpattern: RegExp(\n\t\t\t\t/(^|[\"'\\s])/.source + '(?:' + attrName + ')' + /\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+(?=[\\s>]))/.source,\n\t\t\t\t'i'\n\t\t\t),\n\t\t\tlookbehind: true,\n\t\t\tinside: {\n\t\t\t\t'attr-name': /^[^\\s=]+/,\n\t\t\t\t'attr-value': {\n\t\t\t\t\tpattern: /=[\\s\\S]+/,\n\t\t\t\t\tinside: {\n\t\t\t\t\t\t'value': {\n\t\t\t\t\t\t\tpattern: /(^=\\s*([\"']|(?![\"'])))\\S[\\s\\S]*(?=\\2$)/,\n\t\t\t\t\t\t\tlookbehind: true,\n\t\t\t\t\t\t\talias: [lang, 'language-' + lang],\n\t\t\t\t\t\t\tinside: Prism.languages[lang]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t'punctuation': [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tpattern: /^=/,\n\t\t\t\t\t\t\t\talias: 'attr-equals'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t/\"|'/\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n});\n\nPrism.languages.html = Prism.languages.markup;\nPrism.languages.mathml = Prism.languages.markup;\nPrism.languages.svg = Prism.languages.markup;\n\nPrism.languages.xml = Prism.languages.extend('markup', {});\nPrism.languages.ssml = Prism.languages.xml;\nPrism.languages.atom = Prism.languages.xml;\nPrism.languages.rss = Prism.languages.xml;\n","Prism.languages.python = {\n\t'comment': {\n\t\tpattern: /(^|[^\\\\])#.*/,\n\t\tlookbehind: true,\n\t\tgreedy: true\n\t},\n\t'string-interpolation': {\n\t\tpattern: /(?:f|fr|rf)(?:(\"\"\"|''')[\\s\\S]*?\\1|(\"|')(?:\\\\.|(?!\\2)[^\\\\\\r\\n])*\\2)/i,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'interpolation': {\n\t\t\t\t// \"{\" <expression> <optional \"!s\", \"!r\", or \"!a\"> <optional \":\" format specifier> \"}\"\n\t\t\t\tpattern: /((?:^|[^{])(?:\\{\\{)*)\\{(?!\\{)(?:[^{}]|\\{(?!\\{)(?:[^{}]|\\{(?!\\{)(?:[^{}])+\\})+\\})+\\}/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'format-spec': {\n\t\t\t\t\t\tpattern: /(:)[^:(){}]+(?=\\}$)/,\n\t\t\t\t\t\tlookbehind: true\n\t\t\t\t\t},\n\t\t\t\t\t'conversion-option': {\n\t\t\t\t\t\tpattern: /![sra](?=[:}]$)/,\n\t\t\t\t\t\talias: 'punctuation'\n\t\t\t\t\t},\n\t\t\t\t\trest: null\n\t\t\t\t}\n\t\t\t},\n\t\t\t'string': /[\\s\\S]+/\n\t\t}\n\t},\n\t'triple-quoted-string': {\n\t\tpattern: /(?:[rub]|br|rb)?(\"\"\"|''')[\\s\\S]*?\\1/i,\n\t\tgreedy: true,\n\t\talias: 'string'\n\t},\n\t'string': {\n\t\tpattern: /(?:[rub]|br|rb)?(\"|')(?:\\\\.|(?!\\1)[^\\\\\\r\\n])*\\1/i,\n\t\tgreedy: true\n\t},\n\t'function': {\n\t\tpattern: /((?:^|\\s)def[ \\t]+)[a-zA-Z_]\\w*(?=\\s*\\()/g,\n\t\tlookbehind: true\n\t},\n\t'class-name': {\n\t\tpattern: /(\\bclass\\s+)\\w+/i,\n\t\tlookbehind: true\n\t},\n\t'decorator': {\n\t\tpattern: /(^[\\t ]*)@\\w+(?:\\.\\w+)*/m,\n\t\tlookbehind: true,\n\t\talias: ['annotation', 'punctuation'],\n\t\tinside: {\n\t\t\t'punctuation': /\\./\n\t\t}\n\t},\n\t'keyword': /\\b(?:_(?=\\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\\b/,\n\t'builtin': /\\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\\b/,\n\t'boolean': /\\b(?:False|None|True)\\b/,\n\t'number': /\\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\\b|(?:\\b\\d+(?:_\\d+)*(?:\\.(?:\\d+(?:_\\d+)*)?)?|\\B\\.\\d+(?:_\\d+)*)(?:e[+-]?\\d+(?:_\\d+)*)?j?(?!\\w)/i,\n\t'operator': /[-+%=]=?|!=|:=|\\*\\*?=?|\\/\\/?=?|<[<=>]?|>[=>]?|[&|^~]/,\n\t'punctuation': /[{}[\\];(),.:]/\n};\n\nPrism.languages.python['string-interpolation'].inside['interpolation'].inside.rest = Prism.languages.python;\n\nPrism.languages.py = Prism.languages.python;\n","\n/* **********************************************\n     Begin prism-core.js\n********************************************** */\n\n/// <reference lib=\"WebWorker\"/>\n\nvar _self = (typeof window !== 'undefined')\n\t? window   // if in browser\n\t: (\n\t\t(typeof WorkerGlobalScope !== 'undefined' && self instanceof WorkerGlobalScope)\n\t\t\t? self // if in worker\n\t\t\t: {}   // if in node js\n\t);\n\n/**\n * Prism: Lightweight, robust, elegant syntax highlighting\n *\n * @license MIT <https://opensource.org/licenses/MIT>\n * @author Lea Verou <https://lea.verou.me>\n * @namespace\n * @public\n */\nvar Prism = (function (_self) {\n\n\t// Private helper vars\n\tvar lang = /(?:^|\\s)lang(?:uage)?-([\\w-]+)(?=\\s|$)/i;\n\tvar uniqueId = 0;\n\n\t// The grammar object for plaintext\n\tvar plainTextGrammar = {};\n\n\n\tvar _ = {\n\t\t/**\n\t\t * By default, Prism will attempt to highlight all code elements (by calling {@link Prism.highlightAll}) on the\n\t\t * current page after the page finished loading. This might be a problem if e.g. you wanted to asynchronously load\n\t\t * additional languages or plugins yourself.\n\t\t *\n\t\t * By setting this value to `true`, Prism will not automatically highlight all code elements on the page.\n\t\t *\n\t\t * You obviously have to change this value before the automatic highlighting started. To do this, you can add an\n\t\t * empty Prism object into the global scope before loading the Prism script like this:\n\t\t *\n\t\t * ```js\n\t\t * window.Prism = window.Prism || {};\n\t\t * Prism.manual = true;\n\t\t * // add a new <script> to load Prism's script\n\t\t * ```\n\t\t *\n\t\t * @default false\n\t\t * @type {boolean}\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\tmanual: _self.Prism && _self.Prism.manual,\n\t\t/**\n\t\t * By default, if Prism is in a web worker, it assumes that it is in a worker it created itself, so it uses\n\t\t * `addEventListener` to communicate with its parent instance. However, if you're using Prism manually in your\n\t\t * own worker, you don't want it to do this.\n\t\t *\n\t\t * By setting this value to `true`, Prism will not add its own listeners to the worker.\n\t\t *\n\t\t * You obviously have to change this value before Prism executes. To do this, you can add an\n\t\t * empty Prism object into the global scope before loading the Prism script like this:\n\t\t *\n\t\t * ```js\n\t\t * window.Prism = window.Prism || {};\n\t\t * Prism.disableWorkerMessageHandler = true;\n\t\t * // Load Prism's script\n\t\t * ```\n\t\t *\n\t\t * @default false\n\t\t * @type {boolean}\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\tdisableWorkerMessageHandler: _self.Prism && _self.Prism.disableWorkerMessageHandler,\n\n\t\t/**\n\t\t * A namespace for utility methods.\n\t\t *\n\t\t * All function in this namespace that are not explicitly marked as _public_ are for __internal use only__ and may\n\t\t * change or disappear at any time.\n\t\t *\n\t\t * @namespace\n\t\t * @memberof Prism\n\t\t */\n\t\tutil: {\n\t\t\tencode: function encode(tokens) {\n\t\t\t\tif (tokens instanceof Token) {\n\t\t\t\t\treturn new Token(tokens.type, encode(tokens.content), tokens.alias);\n\t\t\t\t} else if (Array.isArray(tokens)) {\n\t\t\t\t\treturn tokens.map(encode);\n\t\t\t\t} else {\n\t\t\t\t\treturn tokens.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/\\u00a0/g, ' ');\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns the name of the type of the given value.\n\t\t\t *\n\t\t\t * @param {any} o\n\t\t\t * @returns {string}\n\t\t\t * @example\n\t\t\t * type(null)      === 'Null'\n\t\t\t * type(undefined) === 'Undefined'\n\t\t\t * type(123)       === 'Number'\n\t\t\t * type('foo')     === 'String'\n\t\t\t * type(true)      === 'Boolean'\n\t\t\t * type([1, 2])    === 'Array'\n\t\t\t * type({})        === 'Object'\n\t\t\t * type(String)    === 'Function'\n\t\t\t * type(/abc+/)    === 'RegExp'\n\t\t\t */\n\t\t\ttype: function (o) {\n\t\t\t\treturn Object.prototype.toString.call(o).slice(8, -1);\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns a unique number for the given object. Later calls will still return the same number.\n\t\t\t *\n\t\t\t * @param {Object} obj\n\t\t\t * @returns {number}\n\t\t\t */\n\t\t\tobjId: function (obj) {\n\t\t\t\tif (!obj['__id']) {\n\t\t\t\t\tObject.defineProperty(obj, '__id', { value: ++uniqueId });\n\t\t\t\t}\n\t\t\t\treturn obj['__id'];\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Creates a deep clone of the given object.\n\t\t\t *\n\t\t\t * The main intended use of this function is to clone language definitions.\n\t\t\t *\n\t\t\t * @param {T} o\n\t\t\t * @param {Record<number, any>} [visited]\n\t\t\t * @returns {T}\n\t\t\t * @template T\n\t\t\t */\n\t\t\tclone: function deepClone(o, visited) {\n\t\t\t\tvisited = visited || {};\n\n\t\t\t\tvar clone; var id;\n\t\t\t\tswitch (_.util.type(o)) {\n\t\t\t\t\tcase 'Object':\n\t\t\t\t\t\tid = _.util.objId(o);\n\t\t\t\t\t\tif (visited[id]) {\n\t\t\t\t\t\t\treturn visited[id];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tclone = /** @type {Record<string, any>} */ ({});\n\t\t\t\t\t\tvisited[id] = clone;\n\n\t\t\t\t\t\tfor (var key in o) {\n\t\t\t\t\t\t\tif (o.hasOwnProperty(key)) {\n\t\t\t\t\t\t\t\tclone[key] = deepClone(o[key], visited);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn /** @type {any} */ (clone);\n\n\t\t\t\t\tcase 'Array':\n\t\t\t\t\t\tid = _.util.objId(o);\n\t\t\t\t\t\tif (visited[id]) {\n\t\t\t\t\t\t\treturn visited[id];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tclone = [];\n\t\t\t\t\t\tvisited[id] = clone;\n\n\t\t\t\t\t\t(/** @type {Array} */(/** @type {any} */(o))).forEach(function (v, i) {\n\t\t\t\t\t\t\tclone[i] = deepClone(v, visited);\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\treturn /** @type {any} */ (clone);\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn o;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns the Prism language of the given element set by a `language-xxxx` or `lang-xxxx` class.\n\t\t\t *\n\t\t\t * If no language is set for the element or the element is `null` or `undefined`, `none` will be returned.\n\t\t\t *\n\t\t\t * @param {Element} element\n\t\t\t * @returns {string}\n\t\t\t */\n\t\t\tgetLanguage: function (element) {\n\t\t\t\twhile (element) {\n\t\t\t\t\tvar m = lang.exec(element.className);\n\t\t\t\t\tif (m) {\n\t\t\t\t\t\treturn m[1].toLowerCase();\n\t\t\t\t\t}\n\t\t\t\t\telement = element.parentElement;\n\t\t\t\t}\n\t\t\t\treturn 'none';\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Sets the Prism `language-xxxx` class of the given element.\n\t\t\t *\n\t\t\t * @param {Element} element\n\t\t\t * @param {string} language\n\t\t\t * @returns {void}\n\t\t\t */\n\t\t\tsetLanguage: function (element, language) {\n\t\t\t\t// remove all `language-xxxx` classes\n\t\t\t\t// (this might leave behind a leading space)\n\t\t\t\telement.className = element.className.replace(RegExp(lang, 'gi'), '');\n\n\t\t\t\t// add the new `language-xxxx` class\n\t\t\t\t// (using `classList` will automatically clean up spaces for us)\n\t\t\t\telement.classList.add('language-' + language);\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns the script element that is currently executing.\n\t\t\t *\n\t\t\t * This does __not__ work for line script element.\n\t\t\t *\n\t\t\t * @returns {HTMLScriptElement | null}\n\t\t\t */\n\t\t\tcurrentScript: function () {\n\t\t\t\tif (typeof document === 'undefined') {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\tif (document.currentScript && document.currentScript.tagName === 'SCRIPT' && 1 < 2 /* hack to trip TS' flow analysis */) {\n\t\t\t\t\treturn /** @type {any} */ (document.currentScript);\n\t\t\t\t}\n\n\t\t\t\t// IE11 workaround\n\t\t\t\t// we'll get the src of the current script by parsing IE11's error stack trace\n\t\t\t\t// this will not work for inline scripts\n\n\t\t\t\ttry {\n\t\t\t\t\tthrow new Error();\n\t\t\t\t} catch (err) {\n\t\t\t\t\t// Get file src url from stack. Specifically works with the format of stack traces in IE.\n\t\t\t\t\t// A stack will look like this:\n\t\t\t\t\t//\n\t\t\t\t\t// Error\n\t\t\t\t\t//    at _.util.currentScript (http://localhost/components/prism-core.js:119:5)\n\t\t\t\t\t//    at Global code (http://localhost/components/prism-core.js:606:1)\n\n\t\t\t\t\tvar src = (/at [^(\\r\\n]*\\((.*):[^:]+:[^:]+\\)$/i.exec(err.stack) || [])[1];\n\t\t\t\t\tif (src) {\n\t\t\t\t\t\tvar scripts = document.getElementsByTagName('script');\n\t\t\t\t\t\tfor (var i in scripts) {\n\t\t\t\t\t\t\tif (scripts[i].src == src) {\n\t\t\t\t\t\t\t\treturn scripts[i];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns whether a given class is active for `element`.\n\t\t\t *\n\t\t\t * The class can be activated if `element` or one of its ancestors has the given class and it can be deactivated\n\t\t\t * if `element` or one of its ancestors has the negated version of the given class. The _negated version_ of the\n\t\t\t * given class is just the given class with a `no-` prefix.\n\t\t\t *\n\t\t\t * Whether the class is active is determined by the closest ancestor of `element` (where `element` itself is\n\t\t\t * closest ancestor) that has the given class or the negated version of it. If neither `element` nor any of its\n\t\t\t * ancestors have the given class or the negated version of it, then the default activation will be returned.\n\t\t\t *\n\t\t\t * In the paradoxical situation where the closest ancestor contains __both__ the given class and the negated\n\t\t\t * version of it, the class is considered active.\n\t\t\t *\n\t\t\t * @param {Element} element\n\t\t\t * @param {string} className\n\t\t\t * @param {boolean} [defaultActivation=false]\n\t\t\t * @returns {boolean}\n\t\t\t */\n\t\t\tisActive: function (element, className, defaultActivation) {\n\t\t\t\tvar no = 'no-' + className;\n\n\t\t\t\twhile (element) {\n\t\t\t\t\tvar classList = element.classList;\n\t\t\t\t\tif (classList.contains(className)) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tif (classList.contains(no)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\telement = element.parentElement;\n\t\t\t\t}\n\t\t\t\treturn !!defaultActivation;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * This namespace contains all currently loaded languages and the some helper functions to create and modify languages.\n\t\t *\n\t\t * @namespace\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\tlanguages: {\n\t\t\t/**\n\t\t\t * The grammar for plain, unformatted text.\n\t\t\t */\n\t\t\tplain: plainTextGrammar,\n\t\t\tplaintext: plainTextGrammar,\n\t\t\ttext: plainTextGrammar,\n\t\t\ttxt: plainTextGrammar,\n\n\t\t\t/**\n\t\t\t * Creates a deep copy of the language with the given id and appends the given tokens.\n\t\t\t *\n\t\t\t * If a token in `redef` also appears in the copied language, then the existing token in the copied language\n\t\t\t * will be overwritten at its original position.\n\t\t\t *\n\t\t\t * ## Best practices\n\t\t\t *\n\t\t\t * Since the position of overwriting tokens (token in `redef` that overwrite tokens in the copied language)\n\t\t\t * doesn't matter, they can technically be in any order. However, this can be confusing to others that trying to\n\t\t\t * understand the language definition because, normally, the order of tokens matters in Prism grammars.\n\t\t\t *\n\t\t\t * Therefore, it is encouraged to order overwriting tokens according to the positions of the overwritten tokens.\n\t\t\t * Furthermore, all non-overwriting tokens should be placed after the overwriting ones.\n\t\t\t *\n\t\t\t * @param {string} id The id of the language to extend. This has to be a key in `Prism.languages`.\n\t\t\t * @param {Grammar} redef The new tokens to append.\n\t\t\t * @returns {Grammar} The new language created.\n\t\t\t * @public\n\t\t\t * @example\n\t\t\t * Prism.languages['css-with-colors'] = Prism.languages.extend('css', {\n\t\t\t *     // Prism.languages.css already has a 'comment' token, so this token will overwrite CSS' 'comment' token\n\t\t\t *     // at its original position\n\t\t\t *     'comment': { ... },\n\t\t\t *     // CSS doesn't have a 'color' token, so this token will be appended\n\t\t\t *     'color': /\\b(?:red|green|blue)\\b/\n\t\t\t * });\n\t\t\t */\n\t\t\textend: function (id, redef) {\n\t\t\t\tvar lang = _.util.clone(_.languages[id]);\n\n\t\t\t\tfor (var key in redef) {\n\t\t\t\t\tlang[key] = redef[key];\n\t\t\t\t}\n\n\t\t\t\treturn lang;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Inserts tokens _before_ another token in a language definition or any other grammar.\n\t\t\t *\n\t\t\t * ## Usage\n\t\t\t *\n\t\t\t * This helper method makes it easy to modify existing languages. For example, the CSS language definition\n\t\t\t * not only defines CSS highlighting for CSS documents, but also needs to define highlighting for CSS embedded\n\t\t\t * in HTML through `<style>` elements. To do this, it needs to modify `Prism.languages.markup` and add the\n\t\t\t * appropriate tokens. However, `Prism.languages.markup` is a regular JavaScript object literal, so if you do\n\t\t\t * this:\n\t\t\t *\n\t\t\t * ```js\n\t\t\t * Prism.languages.markup.style = {\n\t\t\t *     // token\n\t\t\t * };\n\t\t\t * ```\n\t\t\t *\n\t\t\t * then the `style` token will be added (and processed) at the end. `insertBefore` allows you to insert tokens\n\t\t\t * before existing tokens. For the CSS example above, you would use it like this:\n\t\t\t *\n\t\t\t * ```js\n\t\t\t * Prism.languages.insertBefore('markup', 'cdata', {\n\t\t\t *     'style': {\n\t\t\t *         // token\n\t\t\t *     }\n\t\t\t * });\n\t\t\t * ```\n\t\t\t *\n\t\t\t * ## Special cases\n\t\t\t *\n\t\t\t * If the grammars of `inside` and `insert` have tokens with the same name, the tokens in `inside`'s grammar\n\t\t\t * will be ignored.\n\t\t\t *\n\t\t\t * This behavior can be used to insert tokens after `before`:\n\t\t\t *\n\t\t\t * ```js\n\t\t\t * Prism.languages.insertBefore('markup', 'comment', {\n\t\t\t *     'comment': Prism.languages.markup.comment,\n\t\t\t *     // tokens after 'comment'\n\t\t\t * });\n\t\t\t * ```\n\t\t\t *\n\t\t\t * ## Limitations\n\t\t\t *\n\t\t\t * The main problem `insertBefore` has to solve is iteration order. Since ES2015, the iteration order for object\n\t\t\t * properties is guaranteed to be the insertion order (except for integer keys) but some browsers behave\n\t\t\t * differently when keys are deleted and re-inserted. So `insertBefore` can't be implemented by temporarily\n\t\t\t * deleting properties which is necessary to insert at arbitrary positions.\n\t\t\t *\n\t\t\t * To solve this problem, `insertBefore` doesn't actually insert the given tokens into the target object.\n\t\t\t * Instead, it will create a new object and replace all references to the target object with the new one. This\n\t\t\t * can be done without temporarily deleting properties, so the iteration order is well-defined.\n\t\t\t *\n\t\t\t * However, only references that can be reached from `Prism.languages` or `insert` will be replaced. I.e. if\n\t\t\t * you hold the target object in a variable, then the value of the variable will not change.\n\t\t\t *\n\t\t\t * ```js\n\t\t\t * var oldMarkup = Prism.languages.markup;\n\t\t\t * var newMarkup = Prism.languages.insertBefore('markup', 'comment', { ... });\n\t\t\t *\n\t\t\t * assert(oldMarkup !== Prism.languages.markup);\n\t\t\t * assert(newMarkup === Prism.languages.markup);\n\t\t\t * ```\n\t\t\t *\n\t\t\t * @param {string} inside The property of `root` (e.g. a language id in `Prism.languages`) that contains the\n\t\t\t * object to be modified.\n\t\t\t * @param {string} before The key to insert before.\n\t\t\t * @param {Grammar} insert An object containing the key-value pairs to be inserted.\n\t\t\t * @param {Object<string, any>} [root] The object containing `inside`, i.e. the object that contains the\n\t\t\t * object to be modified.\n\t\t\t *\n\t\t\t * Defaults to `Prism.languages`.\n\t\t\t * @returns {Grammar} The new grammar object.\n\t\t\t * @public\n\t\t\t */\n\t\t\tinsertBefore: function (inside, before, insert, root) {\n\t\t\t\troot = root || /** @type {any} */ (_.languages);\n\t\t\t\tvar grammar = root[inside];\n\t\t\t\t/** @type {Grammar} */\n\t\t\t\tvar ret = {};\n\n\t\t\t\tfor (var token in grammar) {\n\t\t\t\t\tif (grammar.hasOwnProperty(token)) {\n\n\t\t\t\t\t\tif (token == before) {\n\t\t\t\t\t\t\tfor (var newToken in insert) {\n\t\t\t\t\t\t\t\tif (insert.hasOwnProperty(newToken)) {\n\t\t\t\t\t\t\t\t\tret[newToken] = insert[newToken];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Do not insert token which also occur in insert. See #1525\n\t\t\t\t\t\tif (!insert.hasOwnProperty(token)) {\n\t\t\t\t\t\t\tret[token] = grammar[token];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvar old = root[inside];\n\t\t\t\troot[inside] = ret;\n\n\t\t\t\t// Update references in other language definitions\n\t\t\t\t_.languages.DFS(_.languages, function (key, value) {\n\t\t\t\t\tif (value === old && key != inside) {\n\t\t\t\t\t\tthis[key] = ret;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\treturn ret;\n\t\t\t},\n\n\t\t\t// Traverse a language definition with Depth First Search\n\t\t\tDFS: function DFS(o, callback, type, visited) {\n\t\t\t\tvisited = visited || {};\n\n\t\t\t\tvar objId = _.util.objId;\n\n\t\t\t\tfor (var i in o) {\n\t\t\t\t\tif (o.hasOwnProperty(i)) {\n\t\t\t\t\t\tcallback.call(o, i, o[i], type || i);\n\n\t\t\t\t\t\tvar property = o[i];\n\t\t\t\t\t\tvar propertyType = _.util.type(property);\n\n\t\t\t\t\t\tif (propertyType === 'Object' && !visited[objId(property)]) {\n\t\t\t\t\t\t\tvisited[objId(property)] = true;\n\t\t\t\t\t\t\tDFS(property, callback, null, visited);\n\t\t\t\t\t\t} else if (propertyType === 'Array' && !visited[objId(property)]) {\n\t\t\t\t\t\t\tvisited[objId(property)] = true;\n\t\t\t\t\t\t\tDFS(property, callback, i, visited);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tplugins: {},\n\n\t\t/**\n\t\t * This is the most high-level function in Prisms API.\n\t\t * It fetches all the elements that have a `.language-xxxx` class and then calls {@link Prism.highlightElement} on\n\t\t * each one of them.\n\t\t *\n\t\t * This is equivalent to `Prism.highlightAllUnder(document, async, callback)`.\n\t\t *\n\t\t * @param {boolean} [async=false] Same as in {@link Prism.highlightAllUnder}.\n\t\t * @param {HighlightCallback} [callback] Same as in {@link Prism.highlightAllUnder}.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\thighlightAll: function (async, callback) {\n\t\t\t_.highlightAllUnder(document, async, callback);\n\t\t},\n\n\t\t/**\n\t\t * Fetches all the descendants of `container` that have a `.language-xxxx` class and then calls\n\t\t * {@link Prism.highlightElement} on each one of them.\n\t\t *\n\t\t * The following hooks will be run:\n\t\t * 1. `before-highlightall`\n\t\t * 2. `before-all-elements-highlight`\n\t\t * 3. All hooks of {@link Prism.highlightElement} for each element.\n\t\t *\n\t\t * @param {ParentNode} container The root element, whose descendants that have a `.language-xxxx` class will be highlighted.\n\t\t * @param {boolean} [async=false] Whether each element is to be highlighted asynchronously using Web Workers.\n\t\t * @param {HighlightCallback} [callback] An optional callback to be invoked on each element after its highlighting is done.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\thighlightAllUnder: function (container, async, callback) {\n\t\t\tvar env = {\n\t\t\t\tcallback: callback,\n\t\t\t\tcontainer: container,\n\t\t\t\tselector: 'code[class*=\"language-\"], [class*=\"language-\"] code, code[class*=\"lang-\"], [class*=\"lang-\"] code'\n\t\t\t};\n\n\t\t\t_.hooks.run('before-highlightall', env);\n\n\t\t\tenv.elements = Array.prototype.slice.apply(env.container.querySelectorAll(env.selector));\n\n\t\t\t_.hooks.run('before-all-elements-highlight', env);\n\n\t\t\tfor (var i = 0, element; (element = env.elements[i++]);) {\n\t\t\t\t_.highlightElement(element, async === true, env.callback);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Highlights the code inside a single element.\n\t\t *\n\t\t * The following hooks will be run:\n\t\t * 1. `before-sanity-check`\n\t\t * 2. `before-highlight`\n\t\t * 3. All hooks of {@link Prism.highlight}. These hooks will be run by an asynchronous worker if `async` is `true`.\n\t\t * 4. `before-insert`\n\t\t * 5. `after-highlight`\n\t\t * 6. `complete`\n\t\t *\n\t\t * Some the above hooks will be skipped if the element doesn't contain any text or there is no grammar loaded for\n\t\t * the element's language.\n\t\t *\n\t\t * @param {Element} element The element containing the code.\n\t\t * It must have a class of `language-xxxx` to be processed, where `xxxx` is a valid language identifier.\n\t\t * @param {boolean} [async=false] Whether the element is to be highlighted asynchronously using Web Workers\n\t\t * to improve performance and avoid blocking the UI when highlighting very large chunks of code. This option is\n\t\t * [disabled by default](https://prismjs.com/faq.html#why-is-asynchronous-highlighting-disabled-by-default).\n\t\t *\n\t\t * Note: All language definitions required to highlight the code must be included in the main `prism.js` file for\n\t\t * asynchronous highlighting to work. You can build your own bundle on the\n\t\t * [Download page](https://prismjs.com/download.html).\n\t\t * @param {HighlightCallback} [callback] An optional callback to be invoked after the highlighting is done.\n\t\t * Mostly useful when `async` is `true`, since in that case, the highlighting is done asynchronously.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\thighlightElement: function (element, async, callback) {\n\t\t\t// Find language\n\t\t\tvar language = _.util.getLanguage(element);\n\t\t\tvar grammar = _.languages[language];\n\n\t\t\t// Set language on the element, if not present\n\t\t\t_.util.setLanguage(element, language);\n\n\t\t\t// Set language on the parent, for styling\n\t\t\tvar parent = element.parentElement;\n\t\t\tif (parent && parent.nodeName.toLowerCase() === 'pre') {\n\t\t\t\t_.util.setLanguage(parent, language);\n\t\t\t}\n\n\t\t\tvar code = element.textContent;\n\n\t\t\tvar env = {\n\t\t\t\telement: element,\n\t\t\t\tlanguage: language,\n\t\t\t\tgrammar: grammar,\n\t\t\t\tcode: code\n\t\t\t};\n\n\t\t\tfunction insertHighlightedCode(highlightedCode) {\n\t\t\t\tenv.highlightedCode = highlightedCode;\n\n\t\t\t\t_.hooks.run('before-insert', env);\n\n\t\t\t\tenv.element.innerHTML = env.highlightedCode;\n\n\t\t\t\t_.hooks.run('after-highlight', env);\n\t\t\t\t_.hooks.run('complete', env);\n\t\t\t\tcallback && callback.call(env.element);\n\t\t\t}\n\n\t\t\t_.hooks.run('before-sanity-check', env);\n\n\t\t\t// plugins may change/add the parent/element\n\t\t\tparent = env.element.parentElement;\n\t\t\tif (parent && parent.nodeName.toLowerCase() === 'pre' && !parent.hasAttribute('tabindex')) {\n\t\t\t\tparent.setAttribute('tabindex', '0');\n\t\t\t}\n\n\t\t\tif (!env.code) {\n\t\t\t\t_.hooks.run('complete', env);\n\t\t\t\tcallback && callback.call(env.element);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t_.hooks.run('before-highlight', env);\n\n\t\t\tif (!env.grammar) {\n\t\t\t\tinsertHighlightedCode(_.util.encode(env.code));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (async && _self.Worker) {\n\t\t\t\tvar worker = new Worker(_.filename);\n\n\t\t\t\tworker.onmessage = function (evt) {\n\t\t\t\t\tinsertHighlightedCode(evt.data);\n\t\t\t\t};\n\n\t\t\t\tworker.postMessage(JSON.stringify({\n\t\t\t\t\tlanguage: env.language,\n\t\t\t\t\tcode: env.code,\n\t\t\t\t\timmediateClose: true\n\t\t\t\t}));\n\t\t\t} else {\n\t\t\t\tinsertHighlightedCode(_.highlight(env.code, env.grammar, env.language));\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Low-level function, only use if you know what youre doing. It accepts a string of text as input\n\t\t * and the language definitions to use, and returns a string with the HTML produced.\n\t\t *\n\t\t * The following hooks will be run:\n\t\t * 1. `before-tokenize`\n\t\t * 2. `after-tokenize`\n\t\t * 3. `wrap`: On each {@link Token}.\n\t\t *\n\t\t * @param {string} text A string with the code to be highlighted.\n\t\t * @param {Grammar} grammar An object containing the tokens to use.\n\t\t *\n\t\t * Usually a language definition like `Prism.languages.markup`.\n\t\t * @param {string} language The name of the language definition passed to `grammar`.\n\t\t * @returns {string} The highlighted HTML.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t * @example\n\t\t * Prism.highlight('var foo = true;', Prism.languages.javascript, 'javascript');\n\t\t */\n\t\thighlight: function (text, grammar, language) {\n\t\t\tvar env = {\n\t\t\t\tcode: text,\n\t\t\t\tgrammar: grammar,\n\t\t\t\tlanguage: language\n\t\t\t};\n\t\t\t_.hooks.run('before-tokenize', env);\n\t\t\tif (!env.grammar) {\n\t\t\t\tthrow new Error('The language \"' + env.language + '\" has no grammar.');\n\t\t\t}\n\t\t\tenv.tokens = _.tokenize(env.code, env.grammar);\n\t\t\t_.hooks.run('after-tokenize', env);\n\t\t\treturn Token.stringify(_.util.encode(env.tokens), env.language);\n\t\t},\n\n\t\t/**\n\t\t * This is the heart of Prism, and the most low-level function you can use. It accepts a string of text as input\n\t\t * and the language definitions to use, and returns an array with the tokenized code.\n\t\t *\n\t\t * When the language definition includes nested tokens, the function is called recursively on each of these tokens.\n\t\t *\n\t\t * This method could be useful in other contexts as well, as a very crude parser.\n\t\t *\n\t\t * @param {string} text A string with the code to be highlighted.\n\t\t * @param {Grammar} grammar An object containing the tokens to use.\n\t\t *\n\t\t * Usually a language definition like `Prism.languages.markup`.\n\t\t * @returns {TokenStream} An array of strings and tokens, a token stream.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t * @example\n\t\t * let code = `var foo = 0;`;\n\t\t * let tokens = Prism.tokenize(code, Prism.languages.javascript);\n\t\t * tokens.forEach(token => {\n\t\t *     if (token instanceof Prism.Token && token.type === 'number') {\n\t\t *         console.log(`Found numeric literal: ${token.content}`);\n\t\t *     }\n\t\t * });\n\t\t */\n\t\ttokenize: function (text, grammar) {\n\t\t\tvar rest = grammar.rest;\n\t\t\tif (rest) {\n\t\t\t\tfor (var token in rest) {\n\t\t\t\t\tgrammar[token] = rest[token];\n\t\t\t\t}\n\n\t\t\t\tdelete grammar.rest;\n\t\t\t}\n\n\t\t\tvar tokenList = new LinkedList();\n\t\t\taddAfter(tokenList, tokenList.head, text);\n\n\t\t\tmatchGrammar(text, tokenList, grammar, tokenList.head, 0);\n\n\t\t\treturn toArray(tokenList);\n\t\t},\n\n\t\t/**\n\t\t * @namespace\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\thooks: {\n\t\t\tall: {},\n\n\t\t\t/**\n\t\t\t * Adds the given callback to the list of callbacks for the given hook.\n\t\t\t *\n\t\t\t * The callback will be invoked when the hook it is registered for is run.\n\t\t\t * Hooks are usually directly run by a highlight function but you can also run hooks yourself.\n\t\t\t *\n\t\t\t * One callback function can be registered to multiple hooks and the same hook multiple times.\n\t\t\t *\n\t\t\t * @param {string} name The name of the hook.\n\t\t\t * @param {HookCallback} callback The callback function which is given environment variables.\n\t\t\t * @public\n\t\t\t */\n\t\t\tadd: function (name, callback) {\n\t\t\t\tvar hooks = _.hooks.all;\n\n\t\t\t\thooks[name] = hooks[name] || [];\n\n\t\t\t\thooks[name].push(callback);\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Runs a hook invoking all registered callbacks with the given environment variables.\n\t\t\t *\n\t\t\t * Callbacks will be invoked synchronously and in the order in which they were registered.\n\t\t\t *\n\t\t\t * @param {string} name The name of the hook.\n\t\t\t * @param {Object<string, any>} env The environment variables of the hook passed to all callbacks registered.\n\t\t\t * @public\n\t\t\t */\n\t\t\trun: function (name, env) {\n\t\t\t\tvar callbacks = _.hooks.all[name];\n\n\t\t\t\tif (!callbacks || !callbacks.length) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tfor (var i = 0, callback; (callback = callbacks[i++]);) {\n\t\t\t\t\tcallback(env);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tToken: Token\n\t};\n\t_self.Prism = _;\n\n\n\t// Typescript note:\n\t// The following can be used to import the Token type in JSDoc:\n\t//\n\t//   @typedef {InstanceType<import(\"./prism-core\")[\"Token\"]>} Token\n\n\t/**\n\t * Creates a new token.\n\t *\n\t * @param {string} type See {@link Token#type type}\n\t * @param {string | TokenStream} content See {@link Token#content content}\n\t * @param {string|string[]} [alias] The alias(es) of the token.\n\t * @param {string} [matchedStr=\"\"] A copy of the full string this token was created from.\n\t * @class\n\t * @global\n\t * @public\n\t */\n\tfunction Token(type, content, alias, matchedStr) {\n\t\t/**\n\t\t * The type of the token.\n\t\t *\n\t\t * This is usually the key of a pattern in a {@link Grammar}.\n\t\t *\n\t\t * @type {string}\n\t\t * @see GrammarToken\n\t\t * @public\n\t\t */\n\t\tthis.type = type;\n\t\t/**\n\t\t * The strings or tokens contained by this token.\n\t\t *\n\t\t * This will be a token stream if the pattern matched also defined an `inside` grammar.\n\t\t *\n\t\t * @type {string | TokenStream}\n\t\t * @public\n\t\t */\n\t\tthis.content = content;\n\t\t/**\n\t\t * The alias(es) of the token.\n\t\t *\n\t\t * @type {string|string[]}\n\t\t * @see GrammarToken\n\t\t * @public\n\t\t */\n\t\tthis.alias = alias;\n\t\t// Copy of the full string this token was created from\n\t\tthis.length = (matchedStr || '').length | 0;\n\t}\n\n\t/**\n\t * A token stream is an array of strings and {@link Token Token} objects.\n\t *\n\t * Token streams have to fulfill a few properties that are assumed by most functions (mostly internal ones) that process\n\t * them.\n\t *\n\t * 1. No adjacent strings.\n\t * 2. No empty strings.\n\t *\n\t *    The only exception here is the token stream that only contains the empty string and nothing else.\n\t *\n\t * @typedef {Array<string | Token>} TokenStream\n\t * @global\n\t * @public\n\t */\n\n\t/**\n\t * Converts the given token or token stream to an HTML representation.\n\t *\n\t * The following hooks will be run:\n\t * 1. `wrap`: On each {@link Token}.\n\t *\n\t * @param {string | Token | TokenStream} o The token or token stream to be converted.\n\t * @param {string} language The name of current language.\n\t * @returns {string} The HTML representation of the token or token stream.\n\t * @memberof Token\n\t * @static\n\t */\n\tToken.stringify = function stringify(o, language) {\n\t\tif (typeof o == 'string') {\n\t\t\treturn o;\n\t\t}\n\t\tif (Array.isArray(o)) {\n\t\t\tvar s = '';\n\t\t\to.forEach(function (e) {\n\t\t\t\ts += stringify(e, language);\n\t\t\t});\n\t\t\treturn s;\n\t\t}\n\n\t\tvar env = {\n\t\t\ttype: o.type,\n\t\t\tcontent: stringify(o.content, language),\n\t\t\ttag: 'span',\n\t\t\tclasses: ['token', o.type],\n\t\t\tattributes: {},\n\t\t\tlanguage: language\n\t\t};\n\n\t\tvar aliases = o.alias;\n\t\tif (aliases) {\n\t\t\tif (Array.isArray(aliases)) {\n\t\t\t\tArray.prototype.push.apply(env.classes, aliases);\n\t\t\t} else {\n\t\t\t\tenv.classes.push(aliases);\n\t\t\t}\n\t\t}\n\n\t\t_.hooks.run('wrap', env);\n\n\t\tvar attributes = '';\n\t\tfor (var name in env.attributes) {\n\t\t\tattributes += ' ' + name + '=\"' + (env.attributes[name] || '').replace(/\"/g, '&quot;') + '\"';\n\t\t}\n\n\t\treturn '<' + env.tag + ' class=\"' + env.classes.join(' ') + '\"' + attributes + '>' + env.content + '</' + env.tag + '>';\n\t};\n\n\t/**\n\t * @param {RegExp} pattern\n\t * @param {number} pos\n\t * @param {string} text\n\t * @param {boolean} lookbehind\n\t * @returns {RegExpExecArray | null}\n\t */\n\tfunction matchPattern(pattern, pos, text, lookbehind) {\n\t\tpattern.lastIndex = pos;\n\t\tvar match = pattern.exec(text);\n\t\tif (match && lookbehind && match[1]) {\n\t\t\t// change the match to remove the text matched by the Prism lookbehind group\n\t\t\tvar lookbehindLength = match[1].length;\n\t\t\tmatch.index += lookbehindLength;\n\t\t\tmatch[0] = match[0].slice(lookbehindLength);\n\t\t}\n\t\treturn match;\n\t}\n\n\t/**\n\t * @param {string} text\n\t * @param {LinkedList<string | Token>} tokenList\n\t * @param {any} grammar\n\t * @param {LinkedListNode<string | Token>} startNode\n\t * @param {number} startPos\n\t * @param {RematchOptions} [rematch]\n\t * @returns {void}\n\t * @private\n\t *\n\t * @typedef RematchOptions\n\t * @property {string} cause\n\t * @property {number} reach\n\t */\n\tfunction matchGrammar(text, tokenList, grammar, startNode, startPos, rematch) {\n\t\tfor (var token in grammar) {\n\t\t\tif (!grammar.hasOwnProperty(token) || !grammar[token]) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tvar patterns = grammar[token];\n\t\t\tpatterns = Array.isArray(patterns) ? patterns : [patterns];\n\n\t\t\tfor (var j = 0; j < patterns.length; ++j) {\n\t\t\t\tif (rematch && rematch.cause == token + ',' + j) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar patternObj = patterns[j];\n\t\t\t\tvar inside = patternObj.inside;\n\t\t\t\tvar lookbehind = !!patternObj.lookbehind;\n\t\t\t\tvar greedy = !!patternObj.greedy;\n\t\t\t\tvar alias = patternObj.alias;\n\n\t\t\t\tif (greedy && !patternObj.pattern.global) {\n\t\t\t\t\t// Without the global flag, lastIndex won't work\n\t\t\t\t\tvar flags = patternObj.pattern.toString().match(/[imsuy]*$/)[0];\n\t\t\t\t\tpatternObj.pattern = RegExp(patternObj.pattern.source, flags + 'g');\n\t\t\t\t}\n\n\t\t\t\t/** @type {RegExp} */\n\t\t\t\tvar pattern = patternObj.pattern || patternObj;\n\n\t\t\t\tfor ( // iterate the token list and keep track of the current token/string position\n\t\t\t\t\tvar currentNode = startNode.next, pos = startPos;\n\t\t\t\t\tcurrentNode !== tokenList.tail;\n\t\t\t\t\tpos += currentNode.value.length, currentNode = currentNode.next\n\t\t\t\t) {\n\n\t\t\t\t\tif (rematch && pos >= rematch.reach) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar str = currentNode.value;\n\n\t\t\t\t\tif (tokenList.length > text.length) {\n\t\t\t\t\t\t// Something went terribly wrong, ABORT, ABORT!\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (str instanceof Token) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar removeCount = 1; // this is the to parameter of removeBetween\n\t\t\t\t\tvar match;\n\n\t\t\t\t\tif (greedy) {\n\t\t\t\t\t\tmatch = matchPattern(pattern, pos, text, lookbehind);\n\t\t\t\t\t\tif (!match || match.index >= text.length) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar from = match.index;\n\t\t\t\t\t\tvar to = match.index + match[0].length;\n\t\t\t\t\t\tvar p = pos;\n\n\t\t\t\t\t\t// find the node that contains the match\n\t\t\t\t\t\tp += currentNode.value.length;\n\t\t\t\t\t\twhile (from >= p) {\n\t\t\t\t\t\t\tcurrentNode = currentNode.next;\n\t\t\t\t\t\t\tp += currentNode.value.length;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// adjust pos (and p)\n\t\t\t\t\t\tp -= currentNode.value.length;\n\t\t\t\t\t\tpos = p;\n\n\t\t\t\t\t\t// the current node is a Token, then the match starts inside another Token, which is invalid\n\t\t\t\t\t\tif (currentNode.value instanceof Token) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// find the last node which is affected by this match\n\t\t\t\t\t\tfor (\n\t\t\t\t\t\t\tvar k = currentNode;\n\t\t\t\t\t\t\tk !== tokenList.tail && (p < to || typeof k.value === 'string');\n\t\t\t\t\t\t\tk = k.next\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tremoveCount++;\n\t\t\t\t\t\t\tp += k.value.length;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tremoveCount--;\n\n\t\t\t\t\t\t// replace with the new match\n\t\t\t\t\t\tstr = text.slice(pos, p);\n\t\t\t\t\t\tmatch.index -= pos;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmatch = matchPattern(pattern, 0, str, lookbehind);\n\t\t\t\t\t\tif (!match) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// eslint-disable-next-line no-redeclare\n\t\t\t\t\tvar from = match.index;\n\t\t\t\t\tvar matchStr = match[0];\n\t\t\t\t\tvar before = str.slice(0, from);\n\t\t\t\t\tvar after = str.slice(from + matchStr.length);\n\n\t\t\t\t\tvar reach = pos + str.length;\n\t\t\t\t\tif (rematch && reach > rematch.reach) {\n\t\t\t\t\t\trematch.reach = reach;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar removeFrom = currentNode.prev;\n\n\t\t\t\t\tif (before) {\n\t\t\t\t\t\tremoveFrom = addAfter(tokenList, removeFrom, before);\n\t\t\t\t\t\tpos += before.length;\n\t\t\t\t\t}\n\n\t\t\t\t\tremoveRange(tokenList, removeFrom, removeCount);\n\n\t\t\t\t\tvar wrapped = new Token(token, inside ? _.tokenize(matchStr, inside) : matchStr, alias, matchStr);\n\t\t\t\t\tcurrentNode = addAfter(tokenList, removeFrom, wrapped);\n\n\t\t\t\t\tif (after) {\n\t\t\t\t\t\taddAfter(tokenList, currentNode, after);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (removeCount > 1) {\n\t\t\t\t\t\t// at least one Token object was removed, so we have to do some rematching\n\t\t\t\t\t\t// this can only happen if the current pattern is greedy\n\n\t\t\t\t\t\t/** @type {RematchOptions} */\n\t\t\t\t\t\tvar nestedRematch = {\n\t\t\t\t\t\t\tcause: token + ',' + j,\n\t\t\t\t\t\t\treach: reach\n\t\t\t\t\t\t};\n\t\t\t\t\t\tmatchGrammar(text, tokenList, grammar, currentNode.prev, pos, nestedRematch);\n\n\t\t\t\t\t\t// the reach might have been extended because of the rematching\n\t\t\t\t\t\tif (rematch && nestedRematch.reach > rematch.reach) {\n\t\t\t\t\t\t\trematch.reach = nestedRematch.reach;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * @typedef LinkedListNode\n\t * @property {T} value\n\t * @property {LinkedListNode<T> | null} prev The previous node.\n\t * @property {LinkedListNode<T> | null} next The next node.\n\t * @template T\n\t * @private\n\t */\n\n\t/**\n\t * @template T\n\t * @private\n\t */\n\tfunction LinkedList() {\n\t\t/** @type {LinkedListNode<T>} */\n\t\tvar head = { value: null, prev: null, next: null };\n\t\t/** @type {LinkedListNode<T>} */\n\t\tvar tail = { value: null, prev: head, next: null };\n\t\thead.next = tail;\n\n\t\t/** @type {LinkedListNode<T>} */\n\t\tthis.head = head;\n\t\t/** @type {LinkedListNode<T>} */\n\t\tthis.tail = tail;\n\t\tthis.length = 0;\n\t}\n\n\t/**\n\t * Adds a new node with the given value to the list.\n\t *\n\t * @param {LinkedList<T>} list\n\t * @param {LinkedListNode<T>} node\n\t * @param {T} value\n\t * @returns {LinkedListNode<T>} The added node.\n\t * @template T\n\t */\n\tfunction addAfter(list, node, value) {\n\t\t// assumes that node != list.tail && values.length >= 0\n\t\tvar next = node.next;\n\n\t\tvar newNode = { value: value, prev: node, next: next };\n\t\tnode.next = newNode;\n\t\tnext.prev = newNode;\n\t\tlist.length++;\n\n\t\treturn newNode;\n\t}\n\t/**\n\t * Removes `count` nodes after the given node. The given node will not be removed.\n\t *\n\t * @param {LinkedList<T>} list\n\t * @param {LinkedListNode<T>} node\n\t * @param {number} count\n\t * @template T\n\t */\n\tfunction removeRange(list, node, count) {\n\t\tvar next = node.next;\n\t\tfor (var i = 0; i < count && next !== list.tail; i++) {\n\t\t\tnext = next.next;\n\t\t}\n\t\tnode.next = next;\n\t\tnext.prev = node;\n\t\tlist.length -= i;\n\t}\n\t/**\n\t * @param {LinkedList<T>} list\n\t * @returns {T[]}\n\t * @template T\n\t */\n\tfunction toArray(list) {\n\t\tvar array = [];\n\t\tvar node = list.head.next;\n\t\twhile (node !== list.tail) {\n\t\t\tarray.push(node.value);\n\t\t\tnode = node.next;\n\t\t}\n\t\treturn array;\n\t}\n\n\n\tif (!_self.document) {\n\t\tif (!_self.addEventListener) {\n\t\t\t// in Node.js\n\t\t\treturn _;\n\t\t}\n\n\t\tif (!_.disableWorkerMessageHandler) {\n\t\t\t// In worker\n\t\t\t_self.addEventListener('message', function (evt) {\n\t\t\t\tvar message = JSON.parse(evt.data);\n\t\t\t\tvar lang = message.language;\n\t\t\t\tvar code = message.code;\n\t\t\t\tvar immediateClose = message.immediateClose;\n\n\t\t\t\t_self.postMessage(_.highlight(code, _.languages[lang], lang));\n\t\t\t\tif (immediateClose) {\n\t\t\t\t\t_self.close();\n\t\t\t\t}\n\t\t\t}, false);\n\t\t}\n\n\t\treturn _;\n\t}\n\n\t// Get current script and highlight\n\tvar script = _.util.currentScript();\n\n\tif (script) {\n\t\t_.filename = script.src;\n\n\t\tif (script.hasAttribute('data-manual')) {\n\t\t\t_.manual = true;\n\t\t}\n\t}\n\n\tfunction highlightAutomaticallyCallback() {\n\t\tif (!_.manual) {\n\t\t\t_.highlightAll();\n\t\t}\n\t}\n\n\tif (!_.manual) {\n\t\t// If the document state is \"loading\", then we'll use DOMContentLoaded.\n\t\t// If the document state is \"interactive\" and the prism.js script is deferred, then we'll also use the\n\t\t// DOMContentLoaded event because there might be some plugins or languages which have also been deferred and they\n\t\t// might take longer one animation frame to execute which can create a race condition where only some plugins have\n\t\t// been loaded when Prism.highlightAll() is executed, depending on how fast resources are loaded.\n\t\t// See https://github.com/PrismJS/prism/issues/2102\n\t\tvar readyState = document.readyState;\n\t\tif (readyState === 'loading' || readyState === 'interactive' && script && script.defer) {\n\t\t\tdocument.addEventListener('DOMContentLoaded', highlightAutomaticallyCallback);\n\t\t} else {\n\t\t\tif (window.requestAnimationFrame) {\n\t\t\t\twindow.requestAnimationFrame(highlightAutomaticallyCallback);\n\t\t\t} else {\n\t\t\t\twindow.setTimeout(highlightAutomaticallyCallback, 16);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn _;\n\n}(_self));\n\nif (typeof module !== 'undefined' && module.exports) {\n\tmodule.exports = Prism;\n}\n\n// hack for components to work correctly in node.js\nif (typeof global !== 'undefined') {\n\tglobal.Prism = Prism;\n}\n\n// some additional documentation/types\n\n/**\n * The expansion of a simple `RegExp` literal to support additional properties.\n *\n * @typedef GrammarToken\n * @property {RegExp} pattern The regular expression of the token.\n * @property {boolean} [lookbehind=false] If `true`, then the first capturing group of `pattern` will (effectively)\n * behave as a lookbehind group meaning that the captured text will not be part of the matched text of the new token.\n * @property {boolean} [greedy=false] Whether the token is greedy.\n * @property {string|string[]} [alias] An optional alias or list of aliases.\n * @property {Grammar} [inside] The nested grammar of this token.\n *\n * The `inside` grammar will be used to tokenize the text value of each token of this kind.\n *\n * This can be used to make nested and even recursive language definitions.\n *\n * Note: This can cause infinite recursion. Be careful when you embed different languages or even the same language into\n * each another.\n * @global\n * @public\n */\n\n/**\n * @typedef Grammar\n * @type {Object<string, RegExp | GrammarToken | Array<RegExp | GrammarToken>>}\n * @property {Grammar} [rest] An optional grammar object that will be appended to this grammar.\n * @global\n * @public\n */\n\n/**\n * A function which will invoked after an element was successfully highlighted.\n *\n * @callback HighlightCallback\n * @param {Element} element The element successfully highlighted.\n * @returns {void}\n * @global\n * @public\n */\n\n/**\n * @callback HookCallback\n * @param {Object<string, any>} env The environment variables of the hook.\n * @returns {void}\n * @global\n * @public\n */\n\n\n/* **********************************************\n     Begin prism-markup.js\n********************************************** */\n\nPrism.languages.markup = {\n\t'comment': {\n\t\tpattern: /<!--(?:(?!<!--)[\\s\\S])*?-->/,\n\t\tgreedy: true\n\t},\n\t'prolog': {\n\t\tpattern: /<\\?[\\s\\S]+?\\?>/,\n\t\tgreedy: true\n\t},\n\t'doctype': {\n\t\t// https://www.w3.org/TR/xml/#NT-doctypedecl\n\t\tpattern: /<!DOCTYPE(?:[^>\"'[\\]]|\"[^\"]*\"|'[^']*')+(?:\\[(?:[^<\"'\\]]|\"[^\"]*\"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\\]\\s*)?>/i,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'internal-subset': {\n\t\t\t\tpattern: /(^[^\\[]*\\[)[\\s\\S]+(?=\\]>$)/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: null // see below\n\t\t\t},\n\t\t\t'string': {\n\t\t\t\tpattern: /\"[^\"]*\"|'[^']*'/,\n\t\t\t\tgreedy: true\n\t\t\t},\n\t\t\t'punctuation': /^<!|>$|[[\\]]/,\n\t\t\t'doctype-tag': /^DOCTYPE/i,\n\t\t\t'name': /[^\\s<>'\"]+/\n\t\t}\n\t},\n\t'cdata': {\n\t\tpattern: /<!\\[CDATA\\[[\\s\\S]*?\\]\\]>/i,\n\t\tgreedy: true\n\t},\n\t'tag': {\n\t\tpattern: /<\\/?(?!\\d)[^\\s>\\/=$<%]+(?:\\s(?:\\s*[^\\s>\\/=]+(?:\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+(?=[\\s>]))|(?=[\\s/>])))+)?\\s*\\/?>/,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'tag': {\n\t\t\t\tpattern: /^<\\/?[^\\s>\\/]+/,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': /^<\\/?/,\n\t\t\t\t\t'namespace': /^[^\\s>\\/:]+:/\n\t\t\t\t}\n\t\t\t},\n\t\t\t'special-attr': [],\n\t\t\t'attr-value': {\n\t\t\t\tpattern: /=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+)/,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpattern: /^=/,\n\t\t\t\t\t\t\talias: 'attr-equals'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpattern: /^(\\s*)[\"']|[\"']$/,\n\t\t\t\t\t\t\tlookbehind: true\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t},\n\t\t\t'punctuation': /\\/?>/,\n\t\t\t'attr-name': {\n\t\t\t\tpattern: /[^\\s>\\/]+/,\n\t\t\t\tinside: {\n\t\t\t\t\t'namespace': /^[^\\s>\\/:]+:/\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t},\n\t'entity': [\n\t\t{\n\t\t\tpattern: /&[\\da-z]{1,8};/i,\n\t\t\talias: 'named-entity'\n\t\t},\n\t\t/&#x?[\\da-f]{1,8};/i\n\t]\n};\n\nPrism.languages.markup['tag'].inside['attr-value'].inside['entity'] =\n\tPrism.languages.markup['entity'];\nPrism.languages.markup['doctype'].inside['internal-subset'].inside = Prism.languages.markup;\n\n// Plugin to make entity title show the real entity, idea by Roman Komarov\nPrism.hooks.add('wrap', function (env) {\n\n\tif (env.type === 'entity') {\n\t\tenv.attributes['title'] = env.content.replace(/&amp;/, '&');\n\t}\n});\n\nObject.defineProperty(Prism.languages.markup.tag, 'addInlined', {\n\t/**\n\t * Adds an inlined language to markup.\n\t *\n\t * An example of an inlined language is CSS with `<style>` tags.\n\t *\n\t * @param {string} tagName The name of the tag that contains the inlined language. This name will be treated as\n\t * case insensitive.\n\t * @param {string} lang The language key.\n\t * @example\n\t * addInlined('style', 'css');\n\t */\n\tvalue: function addInlined(tagName, lang) {\n\t\tvar includedCdataInside = {};\n\t\tincludedCdataInside['language-' + lang] = {\n\t\t\tpattern: /(^<!\\[CDATA\\[)[\\s\\S]+?(?=\\]\\]>$)/i,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages[lang]\n\t\t};\n\t\tincludedCdataInside['cdata'] = /^<!\\[CDATA\\[|\\]\\]>$/i;\n\n\t\tvar inside = {\n\t\t\t'included-cdata': {\n\t\t\t\tpattern: /<!\\[CDATA\\[[\\s\\S]*?\\]\\]>/i,\n\t\t\t\tinside: includedCdataInside\n\t\t\t}\n\t\t};\n\t\tinside['language-' + lang] = {\n\t\t\tpattern: /[\\s\\S]+/,\n\t\t\tinside: Prism.languages[lang]\n\t\t};\n\n\t\tvar def = {};\n\t\tdef[tagName] = {\n\t\t\tpattern: RegExp(/(<__[^>]*>)(?:<!\\[CDATA\\[(?:[^\\]]|\\](?!\\]>))*\\]\\]>|(?!<!\\[CDATA\\[)[\\s\\S])*?(?=<\\/__>)/.source.replace(/__/g, function () { return tagName; }), 'i'),\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true,\n\t\t\tinside: inside\n\t\t};\n\n\t\tPrism.languages.insertBefore('markup', 'cdata', def);\n\t}\n});\nObject.defineProperty(Prism.languages.markup.tag, 'addAttribute', {\n\t/**\n\t * Adds an pattern to highlight languages embedded in HTML attributes.\n\t *\n\t * An example of an inlined language is CSS with `style` attributes.\n\t *\n\t * @param {string} attrName The name of the tag that contains the inlined language. This name will be treated as\n\t * case insensitive.\n\t * @param {string} lang The language key.\n\t * @example\n\t * addAttribute('style', 'css');\n\t */\n\tvalue: function (attrName, lang) {\n\t\tPrism.languages.markup.tag.inside['special-attr'].push({\n\t\t\tpattern: RegExp(\n\t\t\t\t/(^|[\"'\\s])/.source + '(?:' + attrName + ')' + /\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+(?=[\\s>]))/.source,\n\t\t\t\t'i'\n\t\t\t),\n\t\t\tlookbehind: true,\n\t\t\tinside: {\n\t\t\t\t'attr-name': /^[^\\s=]+/,\n\t\t\t\t'attr-value': {\n\t\t\t\t\tpattern: /=[\\s\\S]+/,\n\t\t\t\t\tinside: {\n\t\t\t\t\t\t'value': {\n\t\t\t\t\t\t\tpattern: /(^=\\s*([\"']|(?![\"'])))\\S[\\s\\S]*(?=\\2$)/,\n\t\t\t\t\t\t\tlookbehind: true,\n\t\t\t\t\t\t\talias: [lang, 'language-' + lang],\n\t\t\t\t\t\t\tinside: Prism.languages[lang]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t'punctuation': [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tpattern: /^=/,\n\t\t\t\t\t\t\t\talias: 'attr-equals'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t/\"|'/\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n});\n\nPrism.languages.html = Prism.languages.markup;\nPrism.languages.mathml = Prism.languages.markup;\nPrism.languages.svg = Prism.languages.markup;\n\nPrism.languages.xml = Prism.languages.extend('markup', {});\nPrism.languages.ssml = Prism.languages.xml;\nPrism.languages.atom = Prism.languages.xml;\nPrism.languages.rss = Prism.languages.xml;\n\n\n/* **********************************************\n     Begin prism-css.js\n********************************************** */\n\n(function (Prism) {\n\n\tvar string = /(?:\"(?:\\\\(?:\\r\\n|[\\s\\S])|[^\"\\\\\\r\\n])*\"|'(?:\\\\(?:\\r\\n|[\\s\\S])|[^'\\\\\\r\\n])*')/;\n\n\tPrism.languages.css = {\n\t\t'comment': /\\/\\*[\\s\\S]*?\\*\\//,\n\t\t'atrule': {\n\t\t\tpattern: RegExp('@[\\\\w-](?:' + /[^;{\\s\"']|\\s+(?!\\s)/.source + '|' + string.source + ')*?' + /(?:;|(?=\\s*\\{))/.source),\n\t\t\tinside: {\n\t\t\t\t'rule': /^@[\\w-]+/,\n\t\t\t\t'selector-function-argument': {\n\t\t\t\t\tpattern: /(\\bselector\\s*\\(\\s*(?![\\s)]))(?:[^()\\s]|\\s+(?![\\s)])|\\((?:[^()]|\\([^()]*\\))*\\))+(?=\\s*\\))/,\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t\talias: 'selector'\n\t\t\t\t},\n\t\t\t\t'keyword': {\n\t\t\t\t\tpattern: /(^|[^\\w-])(?:and|not|only|or)(?![\\w-])/,\n\t\t\t\t\tlookbehind: true\n\t\t\t\t}\n\t\t\t\t// See rest below\n\t\t\t}\n\t\t},\n\t\t'url': {\n\t\t\t// https://drafts.csswg.org/css-values-3/#urls\n\t\t\tpattern: RegExp('\\\\burl\\\\((?:' + string.source + '|' + /(?:[^\\\\\\r\\n()\"']|\\\\[\\s\\S])*/.source + ')\\\\)', 'i'),\n\t\t\tgreedy: true,\n\t\t\tinside: {\n\t\t\t\t'function': /^url/i,\n\t\t\t\t'punctuation': /^\\(|\\)$/,\n\t\t\t\t'string': {\n\t\t\t\t\tpattern: RegExp('^' + string.source + '$'),\n\t\t\t\t\talias: 'url'\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t'selector': {\n\t\t\tpattern: RegExp('(^|[{}\\\\s])[^{}\\\\s](?:[^{};\"\\'\\\\s]|\\\\s+(?![\\\\s{])|' + string.source + ')*(?=\\\\s*\\\\{)'),\n\t\t\tlookbehind: true\n\t\t},\n\t\t'string': {\n\t\t\tpattern: string,\n\t\t\tgreedy: true\n\t\t},\n\t\t'property': {\n\t\t\tpattern: /(^|[^-\\w\\xA0-\\uFFFF])(?!\\s)[-_a-z\\xA0-\\uFFFF](?:(?!\\s)[-\\w\\xA0-\\uFFFF])*(?=\\s*:)/i,\n\t\t\tlookbehind: true\n\t\t},\n\t\t'important': /!important\\b/i,\n\t\t'function': {\n\t\t\tpattern: /(^|[^-a-z0-9])[-a-z0-9]+(?=\\()/i,\n\t\t\tlookbehind: true\n\t\t},\n\t\t'punctuation': /[(){};:,]/\n\t};\n\n\tPrism.languages.css['atrule'].inside.rest = Prism.languages.css;\n\n\tvar markup = Prism.languages.markup;\n\tif (markup) {\n\t\tmarkup.tag.addInlined('style', 'css');\n\t\tmarkup.tag.addAttribute('style', 'css');\n\t}\n\n}(Prism));\n\n\n/* **********************************************\n     Begin prism-clike.js\n********************************************** */\n\nPrism.languages.clike = {\n\t'comment': [\n\t\t{\n\t\t\tpattern: /(^|[^\\\\])\\/\\*[\\s\\S]*?(?:\\*\\/|$)/,\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true\n\t\t},\n\t\t{\n\t\t\tpattern: /(^|[^\\\\:])\\/\\/.*/,\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true\n\t\t}\n\t],\n\t'string': {\n\t\tpattern: /([\"'])(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\1)[^\\\\\\r\\n])*\\1/,\n\t\tgreedy: true\n\t},\n\t'class-name': {\n\t\tpattern: /(\\b(?:class|extends|implements|instanceof|interface|new|trait)\\s+|\\bcatch\\s+\\()[\\w.\\\\]+/i,\n\t\tlookbehind: true,\n\t\tinside: {\n\t\t\t'punctuation': /[.\\\\]/\n\t\t}\n\t},\n\t'keyword': /\\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\\b/,\n\t'boolean': /\\b(?:false|true)\\b/,\n\t'function': /\\b\\w+(?=\\()/,\n\t'number': /\\b0x[\\da-f]+\\b|(?:\\b\\d+(?:\\.\\d*)?|\\B\\.\\d+)(?:e[+-]?\\d+)?/i,\n\t'operator': /[<>]=?|[!=]=?=?|--?|\\+\\+?|&&?|\\|\\|?|[?*/~^%]/,\n\t'punctuation': /[{}[\\];(),.:]/\n};\n\n\n/* **********************************************\n     Begin prism-javascript.js\n********************************************** */\n\nPrism.languages.javascript = Prism.languages.extend('clike', {\n\t'class-name': [\n\t\tPrism.languages.clike['class-name'],\n\t\t{\n\t\t\tpattern: /(^|[^$\\w\\xA0-\\uFFFF])(?!\\s)[_$A-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\.(?:constructor|prototype))/,\n\t\t\tlookbehind: true\n\t\t}\n\t],\n\t'keyword': [\n\t\t{\n\t\t\tpattern: /((?:^|\\})\\s*)catch\\b/,\n\t\t\tlookbehind: true\n\t\t},\n\t\t{\n\t\t\tpattern: /(^|[^.]|\\.\\.\\.\\s*)\\b(?:as|assert(?=\\s*\\{)|async(?=\\s*(?:function\\b|\\(|[$\\w\\xA0-\\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\\s*(?:\\{|$))|for|from(?=\\s*(?:['\"]|$))|function|(?:get|set)(?=\\s*(?:[#\\[$\\w\\xA0-\\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\\b/,\n\t\t\tlookbehind: true\n\t\t},\n\t],\n\t// Allow for all non-ASCII characters (See http://stackoverflow.com/a/2008444)\n\t'function': /#?(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*(?:\\.\\s*(?:apply|bind|call)\\s*)?\\()/,\n\t'number': {\n\t\tpattern: RegExp(\n\t\t\t/(^|[^\\w$])/.source +\n\t\t\t'(?:' +\n\t\t\t(\n\t\t\t\t// constant\n\t\t\t\t/NaN|Infinity/.source +\n\t\t\t\t'|' +\n\t\t\t\t// binary integer\n\t\t\t\t/0[bB][01]+(?:_[01]+)*n?/.source +\n\t\t\t\t'|' +\n\t\t\t\t// octal integer\n\t\t\t\t/0[oO][0-7]+(?:_[0-7]+)*n?/.source +\n\t\t\t\t'|' +\n\t\t\t\t// hexadecimal integer\n\t\t\t\t/0[xX][\\dA-Fa-f]+(?:_[\\dA-Fa-f]+)*n?/.source +\n\t\t\t\t'|' +\n\t\t\t\t// decimal bigint\n\t\t\t\t/\\d+(?:_\\d+)*n/.source +\n\t\t\t\t'|' +\n\t\t\t\t// decimal number (integer or float) but no bigint\n\t\t\t\t/(?:\\d+(?:_\\d+)*(?:\\.(?:\\d+(?:_\\d+)*)?)?|\\.\\d+(?:_\\d+)*)(?:[Ee][+-]?\\d+(?:_\\d+)*)?/.source\n\t\t\t) +\n\t\t\t')' +\n\t\t\t/(?![\\w$])/.source\n\t\t),\n\t\tlookbehind: true\n\t},\n\t'operator': /--|\\+\\+|\\*\\*=?|=>|&&=?|\\|\\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\\.{3}|\\?\\?=?|\\?\\.?|[~:]/\n});\n\nPrism.languages.javascript['class-name'][0].pattern = /(\\b(?:class|extends|implements|instanceof|interface|new)\\s+)[\\w.\\\\]+/;\n\nPrism.languages.insertBefore('javascript', 'keyword', {\n\t'regex': {\n\t\tpattern: RegExp(\n\t\t\t// lookbehind\n\t\t\t// eslint-disable-next-line regexp/no-dupe-characters-character-class\n\t\t\t/((?:^|[^$\\w\\xA0-\\uFFFF.\"'\\])\\s]|\\b(?:return|yield))\\s*)/.source +\n\t\t\t// Regex pattern:\n\t\t\t// There are 2 regex patterns here. The RegExp set notation proposal added support for nested character\n\t\t\t// classes if the `v` flag is present. Unfortunately, nested CCs are both context-free and incompatible\n\t\t\t// with the only syntax, so we have to define 2 different regex patterns.\n\t\t\t/\\//.source +\n\t\t\t'(?:' +\n\t\t\t/(?:\\[(?:[^\\]\\\\\\r\\n]|\\\\.)*\\]|\\\\.|[^/\\\\\\[\\r\\n])+\\/[dgimyus]{0,7}/.source +\n\t\t\t'|' +\n\t\t\t// `v` flag syntax. This supports 3 levels of nested character classes.\n\t\t\t/(?:\\[(?:[^[\\]\\\\\\r\\n]|\\\\.|\\[(?:[^[\\]\\\\\\r\\n]|\\\\.|\\[(?:[^[\\]\\\\\\r\\n]|\\\\.)*\\])*\\])*\\]|\\\\.|[^/\\\\\\[\\r\\n])+\\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source +\n\t\t\t')' +\n\t\t\t// lookahead\n\t\t\t/(?=(?:\\s|\\/\\*(?:[^*]|\\*(?!\\/))*\\*\\/)*(?:$|[\\r\\n,.;:})\\]]|\\/\\/))/.source\n\t\t),\n\t\tlookbehind: true,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'regex-source': {\n\t\t\t\tpattern: /^(\\/)[\\s\\S]+(?=\\/[a-z]*$)/,\n\t\t\t\tlookbehind: true,\n\t\t\t\talias: 'language-regex',\n\t\t\t\tinside: Prism.languages.regex\n\t\t\t},\n\t\t\t'regex-delimiter': /^\\/|\\/$/,\n\t\t\t'regex-flags': /^[a-z]+$/,\n\t\t}\n\t},\n\t// This must be declared before keyword because we use \"function\" inside the look-forward\n\t'function-variable': {\n\t\tpattern: /#?(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*[=:]\\s*(?:async\\s*)?(?:\\bfunction\\b|(?:\\((?:[^()]|\\([^()]*\\))*\\)|(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*)\\s*=>))/,\n\t\talias: 'function'\n\t},\n\t'parameter': [\n\t\t{\n\t\t\tpattern: /(function(?:\\s+(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*)?\\s*\\(\\s*)(?!\\s)(?:[^()\\s]|\\s+(?![\\s)])|\\([^()]*\\))+(?=\\s*\\))/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /(^|[^$\\w\\xA0-\\uFFFF])(?!\\s)[_$a-z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*=>)/i,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /(\\(\\s*)(?!\\s)(?:[^()\\s]|\\s+(?![\\s)])|\\([^()]*\\))+(?=\\s*\\)\\s*=>)/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /((?:\\b|\\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\\w\\xA0-\\uFFFF]))(?:(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*\\s*)\\(\\s*|\\]\\s*\\(\\s*)(?!\\s)(?:[^()\\s]|\\s+(?![\\s)])|\\([^()]*\\))+(?=\\s*\\)\\s*\\{)/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t}\n\t],\n\t'constant': /\\b[A-Z](?:[A-Z_]|\\dx?)*\\b/\n});\n\nPrism.languages.insertBefore('javascript', 'string', {\n\t'hashbang': {\n\t\tpattern: /^#!.*/,\n\t\tgreedy: true,\n\t\talias: 'comment'\n\t},\n\t'template-string': {\n\t\tpattern: /`(?:\\\\[\\s\\S]|\\$\\{(?:[^{}]|\\{(?:[^{}]|\\{[^}]*\\})*\\})+\\}|(?!\\$\\{)[^\\\\`])*`/,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'template-punctuation': {\n\t\t\t\tpattern: /^`|`$/,\n\t\t\t\talias: 'string'\n\t\t\t},\n\t\t\t'interpolation': {\n\t\t\t\tpattern: /((?:^|[^\\\\])(?:\\\\{2})*)\\$\\{(?:[^{}]|\\{(?:[^{}]|\\{[^}]*\\})*\\})+\\}/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'interpolation-punctuation': {\n\t\t\t\t\t\tpattern: /^\\$\\{|\\}$/,\n\t\t\t\t\t\talias: 'punctuation'\n\t\t\t\t\t},\n\t\t\t\t\trest: Prism.languages.javascript\n\t\t\t\t}\n\t\t\t},\n\t\t\t'string': /[\\s\\S]+/\n\t\t}\n\t},\n\t'string-property': {\n\t\tpattern: /((?:^|[,{])[ \\t]*)([\"'])(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\2)[^\\\\\\r\\n])*\\2(?=\\s*:)/m,\n\t\tlookbehind: true,\n\t\tgreedy: true,\n\t\talias: 'property'\n\t}\n});\n\nPrism.languages.insertBefore('javascript', 'operator', {\n\t'literal-property': {\n\t\tpattern: /((?:^|[,{])[ \\t]*)(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*:)/m,\n\t\tlookbehind: true,\n\t\talias: 'property'\n\t},\n});\n\nif (Prism.languages.markup) {\n\tPrism.languages.markup.tag.addInlined('script', 'javascript');\n\n\t// add attribute support for all DOM events.\n\t// https://developer.mozilla.org/en-US/docs/Web/Events#Standard_events\n\tPrism.languages.markup.tag.addAttribute(\n\t\t/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,\n\t\t'javascript'\n\t);\n}\n\nPrism.languages.js = Prism.languages.javascript;\n\n\n/* **********************************************\n     Begin prism-file-highlight.js\n********************************************** */\n\n(function () {\n\n\tif (typeof Prism === 'undefined' || typeof document === 'undefined') {\n\t\treturn;\n\t}\n\n\t// https://developer.mozilla.org/en-US/docs/Web/API/Element/matches#Polyfill\n\tif (!Element.prototype.matches) {\n\t\tElement.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\n\t}\n\n\tvar LOADING_MESSAGE = 'Loading';\n\tvar FAILURE_MESSAGE = function (status, message) {\n\t\treturn ' Error ' + status + ' while fetching file: ' + message;\n\t};\n\tvar FAILURE_EMPTY_MESSAGE = ' Error: File does not exist or is empty';\n\n\tvar EXTENSIONS = {\n\t\t'js': 'javascript',\n\t\t'py': 'python',\n\t\t'rb': 'ruby',\n\t\t'ps1': 'powershell',\n\t\t'psm1': 'powershell',\n\t\t'sh': 'bash',\n\t\t'bat': 'batch',\n\t\t'h': 'c',\n\t\t'tex': 'latex'\n\t};\n\n\tvar STATUS_ATTR = 'data-src-status';\n\tvar STATUS_LOADING = 'loading';\n\tvar STATUS_LOADED = 'loaded';\n\tvar STATUS_FAILED = 'failed';\n\n\tvar SELECTOR = 'pre[data-src]:not([' + STATUS_ATTR + '=\"' + STATUS_LOADED + '\"])'\n\t\t+ ':not([' + STATUS_ATTR + '=\"' + STATUS_LOADING + '\"])';\n\n\t/**\n\t * Loads the given file.\n\t *\n\t * @param {string} src The URL or path of the source file to load.\n\t * @param {(result: string) => void} success\n\t * @param {(reason: string) => void} error\n\t */\n\tfunction loadFile(src, success, error) {\n\t\tvar xhr = new XMLHttpRequest();\n\t\txhr.open('GET', src, true);\n\t\txhr.onreadystatechange = function () {\n\t\t\tif (xhr.readyState == 4) {\n\t\t\t\tif (xhr.status < 400 && xhr.responseText) {\n\t\t\t\t\tsuccess(xhr.responseText);\n\t\t\t\t} else {\n\t\t\t\t\tif (xhr.status >= 400) {\n\t\t\t\t\t\terror(FAILURE_MESSAGE(xhr.status, xhr.statusText));\n\t\t\t\t\t} else {\n\t\t\t\t\t\terror(FAILURE_EMPTY_MESSAGE);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\txhr.send(null);\n\t}\n\n\t/**\n\t * Parses the given range.\n\t *\n\t * This returns a range with inclusive ends.\n\t *\n\t * @param {string | null | undefined} range\n\t * @returns {[number, number | undefined] | undefined}\n\t */\n\tfunction parseRange(range) {\n\t\tvar m = /^\\s*(\\d+)\\s*(?:(,)\\s*(?:(\\d+)\\s*)?)?$/.exec(range || '');\n\t\tif (m) {\n\t\t\tvar start = Number(m[1]);\n\t\t\tvar comma = m[2];\n\t\t\tvar end = m[3];\n\n\t\t\tif (!comma) {\n\t\t\t\treturn [start, start];\n\t\t\t}\n\t\t\tif (!end) {\n\t\t\t\treturn [start, undefined];\n\t\t\t}\n\t\t\treturn [start, Number(end)];\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tPrism.hooks.add('before-highlightall', function (env) {\n\t\tenv.selector += ', ' + SELECTOR;\n\t});\n\n\tPrism.hooks.add('before-sanity-check', function (env) {\n\t\tvar pre = /** @type {HTMLPreElement} */ (env.element);\n\t\tif (pre.matches(SELECTOR)) {\n\t\t\tenv.code = ''; // fast-path the whole thing and go to complete\n\n\t\t\tpre.setAttribute(STATUS_ATTR, STATUS_LOADING); // mark as loading\n\n\t\t\t// add code element with loading message\n\t\t\tvar code = pre.appendChild(document.createElement('CODE'));\n\t\t\tcode.textContent = LOADING_MESSAGE;\n\n\t\t\tvar src = pre.getAttribute('data-src');\n\n\t\t\tvar language = env.language;\n\t\t\tif (language === 'none') {\n\t\t\t\t// the language might be 'none' because there is no language set;\n\t\t\t\t// in this case, we want to use the extension as the language\n\t\t\t\tvar extension = (/\\.(\\w+)$/.exec(src) || [, 'none'])[1];\n\t\t\t\tlanguage = EXTENSIONS[extension] || extension;\n\t\t\t}\n\n\t\t\t// set language classes\n\t\t\tPrism.util.setLanguage(code, language);\n\t\t\tPrism.util.setLanguage(pre, language);\n\n\t\t\t// preload the language\n\t\t\tvar autoloader = Prism.plugins.autoloader;\n\t\t\tif (autoloader) {\n\t\t\t\tautoloader.loadLanguages(language);\n\t\t\t}\n\n\t\t\t// load file\n\t\t\tloadFile(\n\t\t\t\tsrc,\n\t\t\t\tfunction (text) {\n\t\t\t\t\t// mark as loaded\n\t\t\t\t\tpre.setAttribute(STATUS_ATTR, STATUS_LOADED);\n\n\t\t\t\t\t// handle data-range\n\t\t\t\t\tvar range = parseRange(pre.getAttribute('data-range'));\n\t\t\t\t\tif (range) {\n\t\t\t\t\t\tvar lines = text.split(/\\r\\n?|\\n/g);\n\n\t\t\t\t\t\t// the range is one-based and inclusive on both ends\n\t\t\t\t\t\tvar start = range[0];\n\t\t\t\t\t\tvar end = range[1] == null ? lines.length : range[1];\n\n\t\t\t\t\t\tif (start < 0) { start += lines.length; }\n\t\t\t\t\t\tstart = Math.max(0, Math.min(start - 1, lines.length));\n\t\t\t\t\t\tif (end < 0) { end += lines.length; }\n\t\t\t\t\t\tend = Math.max(0, Math.min(end, lines.length));\n\n\t\t\t\t\t\ttext = lines.slice(start, end).join('\\n');\n\n\t\t\t\t\t\t// add data-start for line numbers\n\t\t\t\t\t\tif (!pre.hasAttribute('data-start')) {\n\t\t\t\t\t\t\tpre.setAttribute('data-start', String(start + 1));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// highlight code\n\t\t\t\t\tcode.textContent = text;\n\t\t\t\t\tPrism.highlightElement(code);\n\t\t\t\t},\n\t\t\t\tfunction (error) {\n\t\t\t\t\t// mark as failed\n\t\t\t\t\tpre.setAttribute(STATUS_ATTR, STATUS_FAILED);\n\n\t\t\t\t\tcode.textContent = error;\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t});\n\n\tPrism.plugins.fileHighlight = {\n\t\t/**\n\t\t * Executes the File Highlight plugin for all matching `pre` elements under the given container.\n\t\t *\n\t\t * Note: Elements which are already loaded or currently loading will not be touched by this method.\n\t\t *\n\t\t * @param {ParentNode} [container=document]\n\t\t */\n\t\thighlight: function highlight(container) {\n\t\t\tvar elements = (container || document).querySelectorAll(SELECTOR);\n\n\t\t\tfor (var i = 0, element; (element = elements[i++]);) {\n\t\t\t\tPrism.highlightElement(element);\n\t\t\t}\n\t\t}\n\t};\n\n\tvar logged = false;\n\t/** @deprecated Use `Prism.plugins.fileHighlight.highlight` instead. */\n\tPrism.fileHighlight = function () {\n\t\tif (!logged) {\n\t\t\tconsole.warn('Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead.');\n\t\t\tlogged = true;\n\t\t}\n\t\tPrism.plugins.fileHighlight.highlight.apply(this, arguments);\n\t};\n\n}());\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","// AnimationManager: requestAnimationFrame-based utilities with lightweight FPS metrics\n// Provides animate(), fadeOut(), and orchestration scaffolding\n\nexport default class AnimationManager {\n  constructor() {\n    this.animations = new Set();\n    this.metrics = {\n      lastFrameTime: this._getPerformanceNow(),\n      samples: [],\n      lastFPS: 60\n    };\n    this._tick = this._tick.bind(this);\n    this._rafId = null;\n    this._isRunning = false;\n  }\n\n  // Helper: Check if requestAnimationFrame is available\n  _hasRAF() {\n    return typeof window !== 'undefined' && typeof window.requestAnimationFrame !== 'undefined';\n  }\n\n  // Helper: Check if cancelAnimationFrame is available\n  _hasCAF() {\n    return typeof window !== 'undefined' && typeof window.cancelAnimationFrame !== 'undefined';\n  }\n\n  // Helper: Get current performance time\n  _getPerformanceNow() {\n    return typeof performance !== 'undefined' ? performance.now() : Date.now();\n  }\n\n  // Helper: Safely set element style property\n  _setStyle(element, property, value) {\n    try {\n      if (element && element.style) {\n        element.style[property] = value;\n      }\n    } catch (_) {\n      // Ignore style setting errors\n    }\n  }\n\n  _startLoop() {\n    if (!this._isRunning && this._hasRAF()) {\n      this._isRunning = true;\n      this._rafId = window.requestAnimationFrame(this._tick);\n    }\n  }\n\n  _stopLoop() {\n    if (this._isRunning && this._hasCAF()) {\n      this._isRunning = false;\n      if (this._rafId !== null) {\n        window.cancelAnimationFrame(this._rafId);\n        this._rafId = null;\n      }\n    }\n  }\n\n  _tick(ts) {\n    // Metrics\n    const delta = ts - this.metrics.lastFrameTime;\n    this.metrics.lastFrameTime = ts;\n    if (delta > 0 && isFinite(delta)) {\n      const fps = 1000 / delta;\n      this.metrics.samples.push(fps);\n      if (this.metrics.samples.length > 30) this.metrics.samples.shift();\n      const sum = this.metrics.samples.reduce((a, b) => a + b, 0);\n      this.metrics.lastFPS = Math.round((sum / this.metrics.samples.length) * 10) / 10;\n    }\n\n    // Advance animations\n    for (const anim of Array.from(this.animations)) {\n      if (anim.canceled) {\n        this.animations.delete(anim);\n        continue;\n      }\n      if (ts < anim.start) continue; // not started yet\n\n      const duration = Math.max(anim.end - anim.start, 1);\n      const progress = Math.min(Math.max((ts - anim.start) / duration, 0), 1);\n\n      try {\n        if (typeof anim.updater === 'function') anim.updater(progress);\n      } catch (_) { /* ignore updater errors to avoid breaking loop */ }\n\n      if (progress >= 1) {\n        try { if (typeof anim.onComplete === 'function') anim.onComplete(); } catch (_) { /* no-op */ }\n        this.animations.delete(anim);\n      }\n    }\n\n    // Continue loop only if there are active animations\n    if (this.animations.size > 0) {\n      if (this._hasRAF()) {\n        this._rafId = window.requestAnimationFrame(this._tick);\n      }\n    } else {\n      this._stopLoop();\n    }\n  }\n\n  // Generic animation scheduler\n  animate(element, duration = 300, delay = 0, updater = () => {}, onComplete = () => {}) {\n    const now = this._getPerformanceNow();\n    const anim = {\n      element,\n      start: now + Math.max(delay, 0),\n      end: now + Math.max(delay, 0) + Math.max(duration, 0),\n      updater,\n      onComplete,\n      canceled: false\n    };\n    this.animations.add(anim);\n    this._startLoop(); // Ensure loop is running when animation is added\n    return anim;\n  }\n\n  // Fade out (optionally slide vertically by translateY during fade)\n  fadeOut(element, duration = 300, delay = 0, onComplete = null, options = {}) {\n    if (!element) return null;\n    const startOpacity = this._getOpacity(element);\n    const translateY = typeof options.translateY === 'number' ? options.translateY : 0;\n\n    // Ensure we control opacity/transform via style\n    this._setStyle(element, 'willChange', 'opacity, transform');\n\n    const updater = (t) => {\n      const opacity = startOpacity * (1 - t);\n      this._setStyle(element, 'opacity', String(opacity));\n      if (translateY !== 0) {\n        const y = translateY * t;\n        this._setStyle(element, 'transform', `translateY(${y}px)`);\n      }\n    };\n\n    const complete = () => {\n      this._setStyle(element, 'willChange', '');\n      if (typeof onComplete === 'function') {\n        try { onComplete(); } catch (_) { /* no-op */ }\n      }\n    };\n\n    return this.animate(element, duration, delay, updater, complete);\n  }\n\n  // Fade in (optionally slide vertically by translateY during fade)\n  fadeIn(element, duration = 300, delay = 0, onComplete = null, options = {}) {\n    if (!element) return null;\n    const endOpacity = 1;\n    const translateY = typeof options.translateY === 'number' ? options.translateY : 0;\n\n    this._setStyle(element, 'opacity', '0');\n    this._setStyle(element, 'willChange', 'opacity, transform');\n    if (translateY !== 0) {\n      this._setStyle(element, 'transform', `translateY(${translateY}px)`);\n    }\n\n    const updater = (t) => {\n      const opacity = endOpacity * t;\n      this._setStyle(element, 'opacity', String(opacity));\n      if (translateY !== 0) {\n        const y = translateY * (1 - t);\n        this._setStyle(element, 'transform', `translateY(${y}px)`);\n      }\n    };\n\n    const complete = () => {\n      this._setStyle(element, 'willChange', '');\n      if (typeof onComplete === 'function') {\n        try { onComplete(); } catch (_) { /* no-op */ }\n      }\n    };\n\n    return this.animate(element, duration, delay, updater, complete);\n  }\n\n  cancelAll() {\n    for (const anim of this.animations) anim.canceled = true;\n    this.animations.clear();\n  }\n\n  getFPS() {\n    return this.metrics.lastFPS;\n  }\n\n  _getOpacity(el) {\n    try {\n      const hasComputedStyle = typeof window !== 'undefined' && typeof window.getComputedStyle !== 'undefined';\n      const cs = hasComputedStyle ? window.getComputedStyle(el) : null;\n      const op = cs && cs.opacity != null ? parseFloat(cs.opacity) : 1;\n      return isNaN(op) ? 1 : op;\n    } catch (_) {\n      return 1;\n    }\n  }\n}","/* global requestAnimationFrame, clearTimeout, setTimeout */\n/**\n * NotificationManager - User-friendly notification system with actionable options\n * Replaces basic alerts with modern toast-style notifications\n */\nclass NotificationManager {\n    constructor() {\n        this.notifications = [];\n        this.container = null;\n        this.initContainer();\n    }\n\n    static get CONSTANTS() {\n        return {\n            DURATION: {\n                SHORT: 3000,\n                MEDIUM: 5000,\n                LONG: 8000,\n                PERSISTENT: -1 // Don't auto-dismiss\n            },\n            TYPE: {\n                SUCCESS: 'success',\n                ERROR: 'error',\n                WARNING: 'warning',\n                INFO: 'info'\n            },\n            ANIMATION_DURATION: 300,\n            MAX_NOTIFICATIONS: 5,\n            Z_INDEX: 10000\n        };\n    }\n\n    initContainer() {\n        if (typeof document === 'undefined') return;\n\n        // Check if container already exists\n        this.container = document.getElementById('notification-container');\n        \n        if (!this.container) {\n            this.container = document.createElement('div');\n            this.container.id = 'notification-container';\n            this.container.setAttribute('aria-live', 'polite');\n            this.container.setAttribute('aria-atomic', 'true');\n            this.container.style.cssText = `\n                position: fixed;\n                top: 20px;\n                right: 20px;\n                z-index: ${NotificationManager.CONSTANTS.Z_INDEX};\n                display: flex;\n                flex-direction: column;\n                gap: 12px;\n                max-width: 400px;\n                pointer-events: none;\n            `;\n            \n            if (document.body) {\n                document.body.appendChild(this.container);\n            } else {\n                document.addEventListener('DOMContentLoaded', () => {\n                    document.body.appendChild(this.container);\n                });\n            }\n        }\n    }\n\n    /**\n     * Show a notification with optional actions\n     * @param {Object} options - Notification options\n     * @param {string} options.message - The message to display\n     * @param {string} options.type - Type: success, error, warning, info\n     * @param {number} options.duration - Duration in ms (-1 for persistent)\n     * @param {Array} options.actions - Array of action objects with {label, onClick, primary}\n     * @param {Function} options.onDismiss - Callback when notification is dismissed\n     * @returns {Object} Notification object with dismiss method\n     */\n    show(options) {\n        const {\n            message,\n            type = NotificationManager.CONSTANTS.TYPE.INFO,\n            duration = NotificationManager.CONSTANTS.DURATION.MEDIUM,\n            actions = [],\n            onDismiss = null\n        } = options;\n\n        // Limit total notifications\n        if (this.notifications.length >= NotificationManager.CONSTANTS.MAX_NOTIFICATIONS) {\n            this.dismissOldest();\n        }\n\n        const notification = this.createNotification(message, type, duration, actions, onDismiss);\n        this.notifications.push(notification);\n        \n        if (this.container) {\n            this.container.appendChild(notification.element);\n            \n            // Trigger animation\n            requestAnimationFrame(() => {\n                notification.element.classList.add('show');\n            });\n\n            // Auto-dismiss if duration is set\n            if (duration > 0) {\n                notification.timeoutId = setTimeout(() => {\n                    this.dismiss(notification);\n                }, duration);\n            }\n        }\n\n        return {\n            dismiss: () => this.dismiss(notification),\n            element: notification.element\n        };\n    }\n\n    createNotification(message, type, duration, actions, onDismiss) {\n        const element = document.createElement('div');\n        element.className = `notification notification-${type}`;\n        element.setAttribute('role', 'alert');\n        element.setAttribute('aria-live', 'assertive');\n        element.style.cssText = `\n            background: ${this.getBackgroundColor(type)};\n            color: white;\n            padding: 16px 20px;\n            border-radius: 8px;\n            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\n            display: flex;\n            flex-direction: column;\n            gap: 12px;\n            opacity: 0;\n            transform: translateX(100%);\n            transition: all ${NotificationManager.CONSTANTS.ANIMATION_DURATION}ms cubic-bezier(0.4, 0, 0.2, 1);\n            pointer-events: auto;\n            min-width: 300px;\n            max-width: 400px;\n        `;\n\n        // Icon based on type\n        const icon = this.getIcon(type);\n        \n        // Message container\n        const messageContainer = document.createElement('div');\n        messageContainer.style.cssText = `\n            display: flex;\n            align-items: flex-start;\n            gap: 12px;\n        `;\n\n        const iconSpan = document.createElement('span');\n        iconSpan.textContent = icon;\n        iconSpan.style.cssText = `\n            font-size: 20px;\n            line-height: 1;\n        `;\n\n        const messageText = document.createElement('div');\n        messageText.textContent = message;\n        messageText.style.cssText = `\n            flex: 1;\n            font-size: 14px;\n            line-height: 1.5;\n            font-weight: 500;\n        `;\n\n        // Close button\n        const closeBtn = document.createElement('button');\n        closeBtn.textContent = '';\n        closeBtn.setAttribute('aria-label', 'Dismiss notification');\n        closeBtn.style.cssText = `\n            background: transparent;\n            border: none;\n            color: white;\n            cursor: pointer;\n            font-size: 18px;\n            padding: 0;\n            width: 24px;\n            height: 24px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            border-radius: 4px;\n            transition: background 0.2s;\n            opacity: 0.7;\n        `;\n        \n        // Store handlers for cleanup\n        const closeBtnEnterHandler = () => {\n            closeBtn.style.opacity = '1';\n            closeBtn.style.background = 'rgba(255, 255, 255, 0.2)';\n        };\n        const closeBtnLeaveHandler = () => {\n            closeBtn.style.opacity = '0.7';\n            closeBtn.style.background = 'transparent';\n        };\n        \n        closeBtn.addEventListener('mouseenter', closeBtnEnterHandler);\n        closeBtn.addEventListener('mouseleave', closeBtnLeaveHandler);\n        \n        // Initialize handlers array early for cleanup tracking\n        const eventHandlers = [];\n        eventHandlers.push(\n            { element: closeBtn, event: 'mouseenter', handler: closeBtnEnterHandler },\n            { element: closeBtn, event: 'mouseleave', handler: closeBtnLeaveHandler }\n        );\n\n        messageContainer.appendChild(iconSpan);\n        messageContainer.appendChild(messageText);\n        messageContainer.appendChild(closeBtn);\n        element.appendChild(messageContainer);\n\n        // Actions\n        if (actions && actions.length > 0) {\n            const actionsContainer = document.createElement('div');\n            actionsContainer.style.cssText = `\n                display: flex;\n                gap: 8px;\n                margin-left: 32px;\n            `;\n\n            actions.forEach(action => {\n                const btn = document.createElement('button');\n                btn.textContent = action.label;\n                btn.style.cssText = `\n                    padding: 6px 12px;\n                    border-radius: 4px;\n                    font-size: 13px;\n                    font-weight: 500;\n                    cursor: pointer;\n                    transition: all 0.2s;\n                    ${action.primary ? `\n                        background: white;\n                        color: ${this.getBackgroundColor(type)};\n                        border: none;\n                    ` : `\n                        background: transparent;\n                        color: white;\n                        border: 1px solid rgba(255, 255, 255, 0.5);\n                    `}\n                `;\n                \n                // Store handlers for cleanup\n                const btnEnterHandler = () => {\n                    if (action.primary) {\n                        btn.style.transform = 'translateY(-1px)';\n                        btn.style.boxShadow = '0 2px 8px rgba(0, 0, 0, 0.2)';\n                    } else {\n                        btn.style.background = 'rgba(255, 255, 255, 0.1)';\n                    }\n                };\n                \n                const btnLeaveHandler = () => {\n                    btn.style.transform = 'translateY(0)';\n                    btn.style.boxShadow = 'none';\n                    if (!action.primary) {\n                        btn.style.background = 'transparent';\n                    }\n                };\n                \n                btn.addEventListener('mouseenter', btnEnterHandler);\n                btn.addEventListener('mouseleave', btnLeaveHandler);\n                \n                // Store handlers for cleanup\n                eventHandlers.push(\n                    { element: btn, event: 'mouseenter', handler: btnEnterHandler },\n                    { element: btn, event: 'mouseleave', handler: btnLeaveHandler }\n                );\n\n                btn.addEventListener('click', () => {\n                    if (action.onClick) {\n                        action.onClick();\n                    }\n                    // Auto-dismiss after action unless specified\n                    if (action.dismissAfter !== false) {\n                        this.dismiss(notification);\n                    }\n                });\n\n                actionsContainer.appendChild(btn);\n            });\n\n            element.appendChild(actionsContainer);\n        }\n\n        const notification = {\n            element,\n            timeoutId: null,\n            onDismiss,\n            handlers: eventHandlers\n        };\n\n        closeBtn.addEventListener('click', () => {\n            this.dismiss(notification);\n        });\n\n        return notification;\n    }\n\n    dismiss(notification) {\n        if (!notification || !notification.element) return;\n\n        // Clear timeout if exists\n        if (notification.timeoutId) {\n            clearTimeout(notification.timeoutId);\n        }\n        \n        // Remove event listeners to prevent memory leaks\n        if (notification.handlers) {\n            notification.handlers.forEach(({ element, event, handler }) => {\n                element.removeEventListener(event, handler);\n            });\n            notification.handlers = [];\n        }\n\n        // Animate out\n        notification.element.classList.remove('show');\n        notification.element.style.opacity = '0';\n        notification.element.style.transform = 'translateX(100%)';\n\n        // Remove from DOM after animation\n        setTimeout(() => {\n            if (notification.element && notification.element.parentNode) {\n                notification.element.parentNode.removeChild(notification.element);\n            }\n            \n            // Remove from array\n            const index = this.notifications.indexOf(notification);\n            if (index > -1) {\n                this.notifications.splice(index, 1);\n            }\n\n            // Call onDismiss callback\n            if (notification.onDismiss) {\n                notification.onDismiss();\n            }\n        }, NotificationManager.CONSTANTS.ANIMATION_DURATION);\n    }\n\n    dismissOldest() {\n        if (this.notifications.length > 0) {\n            this.dismiss(this.notifications[0]);\n        }\n    }\n\n    dismissAll() {\n        [...this.notifications].forEach(notification => {\n            this.dismiss(notification);\n        });\n    }\n\n    getBackgroundColor(type) {\n        const colors = {\n            success: '#4caf50',\n            error: '#f44336',\n            warning: '#ff9800',\n            info: '#2196f3'\n        };\n        return colors[type] || colors.info;\n    }\n\n    getIcon(type) {\n        const icons = {\n            success: '',\n            error: '',\n            warning: '',\n            info: ''\n        };\n        return icons[type] || icons.info;\n    }\n\n    // Convenience methods\n    success(message, options = {}) {\n        return this.show({\n            message,\n            type: NotificationManager.CONSTANTS.TYPE.SUCCESS,\n            ...options\n        });\n    }\n\n    error(message, options = {}) {\n        return this.show({\n            message,\n            type: NotificationManager.CONSTANTS.TYPE.ERROR,\n            duration: NotificationManager.CONSTANTS.DURATION.LONG,\n            ...options\n        });\n    }\n\n    warning(message, options = {}) {\n        return this.show({\n            message,\n            type: NotificationManager.CONSTANTS.TYPE.WARNING,\n            ...options\n        });\n    }\n\n    info(message, options = {}) {\n        return this.show({\n            message,\n            type: NotificationManager.CONSTANTS.TYPE.INFO,\n            ...options\n        });\n    }\n}\n\nexport default NotificationManager;\n","/**\n * ErrorManager - Graceful error handling with intelligent caching\n *\n * Features:\n * - Stores errors in localStorage with timestamps\n * - Auto-cleans oldest 25% when cap reached\n * - Daily cleanup of old errors\n * - Prevents duplicate consecutive errors\n * - Silent mode for non-critical errors\n */\nclass ErrorManager {\n    static STORAGE_KEY = 'md-reader-pro-errors';\n    static MAX_ERRORS = 100;\n    static CLEANUP_PERCENT = 0.25;\n    static MAX_AGE_DAYS = 7;\n\n    constructor(options = {}) {\n        this.maxErrors = options.maxErrors || ErrorManager.MAX_ERRORS;\n        this.cleanupPercent = options.cleanupPercent || ErrorManager.CLEANUP_PERCENT;\n        this.maxAgeDays = options.maxAgeDays || ErrorManager.MAX_AGE_DAYS;\n        this.lastError = null;\n        this.lastErrorTime = 0;\n        this.dedupeWindow = options.dedupeWindow || 1000; // 1 second\n\n        // UI callbacks\n        this.onError = options.onError || null;\n        this.onErrorCleared = options.onErrorCleared || null;\n\n        // Initialize and run daily cleanup\n        this._runDailyCleanup();\n    }\n\n    /**\n     * Capture and store an error gracefully\n     * @param {Error|string} error - The error to capture\n     * @param {Object} context - Additional context (component, action, etc.)\n     * @param {boolean} silent - If true, don't trigger UI notification\n     * @returns {Object} The stored error entry\n     */\n    capture(error, context = {}, silent = false) {\n        const errorMessage = error instanceof Error ? error.message : String(error);\n        const errorStack = error instanceof Error ? error.stack : null;\n\n        // Dedupe rapid consecutive identical errors\n        const now = Date.now();\n        if (this._isDuplicate(errorMessage, now)) {\n            return null;\n        }\n\n        this.lastError = errorMessage;\n        this.lastErrorTime = now;\n\n        const entry = {\n            id: this._generateId(),\n            message: errorMessage,\n            stack: errorStack,\n            context: {\n                component: context.component || 'unknown',\n                action: context.action || 'unknown',\n                url: typeof window !== 'undefined' ? window.location.href : null,\n                userAgent: typeof navigator !== 'undefined' ? navigator.userAgent : null,\n                ...context\n            },\n            timestamp: new Date().toISOString(),\n            epochMs: now,\n            sessionId: this._getSessionId()\n        };\n\n        this._store(entry);\n\n        // Trigger UI callback if not silent\n        if (!silent && this.onError) {\n            this.onError(entry);\n        }\n\n        // Log to console in dev (check for Node.js process object)\n        if (typeof window !== 'undefined' && window.location?.hostname === 'localhost') {\n            console.error('[ErrorManager]', entry);\n        }\n\n        return entry;\n    }\n\n    /**\n     * Wrap a function with error handling\n     * @param {Function} fn - Function to wrap\n     * @param {Object} context - Error context\n     * @param {boolean} silent - Silent mode\n     * @returns {Function} Wrapped function\n     */\n    wrap(fn, context = {}, silent = false) {\n        return (...args) => {\n            try {\n                const result = fn(...args);\n                // Handle promises\n                if (result instanceof Promise) {\n                    return result.catch(err => {\n                        this.capture(err, context, silent);\n                        return null;\n                    });\n                }\n                return result;\n            } catch (err) {\n                this.capture(err, context, silent);\n                return null;\n            }\n        };\n    }\n\n    /**\n     * Get all stored errors\n     * @param {Object} filters - Optional filters (component, sessionId, since)\n     * @returns {Array} Array of error entries\n     */\n    getAll(filters = {}) {\n        const errors = this._load();\n\n        return errors.filter(entry => {\n            if (filters.component && entry.context?.component !== filters.component) {\n                return false;\n            }\n            if (filters.sessionId && entry.sessionId !== filters.sessionId) {\n                return false;\n            }\n            if (filters.since && new Date(entry.timestamp) < new Date(filters.since)) {\n                return false;\n            }\n            return true;\n        });\n    }\n\n    /**\n     * Get recent errors (last N or last session)\n     * @param {number} count - Number of errors to return\n     * @returns {Array} Recent errors\n     */\n    getRecent(count = 10) {\n        const errors = this._load();\n        return errors.slice(-count);\n    }\n\n    /**\n     * Get errors from current session only\n     * @returns {Array} Current session errors\n     */\n    getCurrentSession() {\n        return this.getAll({ sessionId: this._getSessionId() });\n    }\n\n    /**\n     * Clear all errors\n     */\n    clearAll() {\n        this._save([]);\n        if (this.onErrorCleared) {\n            this.onErrorCleared();\n        }\n    }\n\n    /**\n     * Clear errors older than specified days\n     * @param {number} days - Max age in days\n     */\n    clearOlderThan(days = this.maxAgeDays) {\n        const cutoff = Date.now() - (days * 24 * 60 * 60 * 1000);\n        const errors = this._load();\n        const filtered = errors.filter(e => e.epochMs > cutoff);\n        this._save(filtered);\n    }\n\n    /**\n     * Get error statistics\n     * @returns {Object} Stats about stored errors\n     */\n    getStats() {\n        const errors = this._load();\n        const sessionErrors = this.getCurrentSession();\n\n        const byComponent = {};\n        errors.forEach(e => {\n            const comp = e.context?.component || 'unknown';\n            byComponent[comp] = (byComponent[comp] || 0) + 1;\n        });\n\n        return {\n            total: errors.length,\n            currentSession: sessionErrors.length,\n            byComponent,\n            oldestError: errors[0]?.timestamp || null,\n            newestError: errors[errors.length - 1]?.timestamp || null,\n            capacityUsed: `${Math.round((errors.length / this.maxErrors) * 100)}%`\n        };\n    }\n\n    // === Private Methods ===\n\n    _isDuplicate(message, now) {\n        return this.lastError === message &&\n               (now - this.lastErrorTime) < this.dedupeWindow;\n    }\n\n    _generateId() {\n        return `err_${Date.now()}_${Math.random().toString(36).substring(2, 11)}`;\n    }\n\n    _getSessionId() {\n        if (typeof window === 'undefined' || !window.sessionStorage) return 'server';\n\n        try {\n            let sessionId = window.sessionStorage.getItem('md-reader-session-id');\n            if (!sessionId) {\n                sessionId = `session_${Date.now()}_${Math.random().toString(36).substring(2, 11)}`;\n                window.sessionStorage.setItem('md-reader-session-id', sessionId);\n            }\n            return sessionId;\n        } catch (e) {\n            if (typeof window !== 'undefined' && window.location?.hostname === 'localhost') {\n                console.warn('[ErrorManager] Could not access sessionStorage:', e);\n            }\n            return 'server';\n        }\n    }\n\n    _load() {\n        if (typeof localStorage === 'undefined') return [];\n\n        try {\n            const data = localStorage.getItem(ErrorManager.STORAGE_KEY);\n            return data ? JSON.parse(data) : [];\n        } catch {\n            return [];\n        }\n    }\n\n    _save(errors) {\n        if (typeof localStorage === 'undefined') return;\n\n        try {\n            localStorage.setItem(ErrorManager.STORAGE_KEY, JSON.stringify(errors));\n        } catch (e) {\n            // Storage full - force aggressive cleanup\n            // Add guard to prevent infinite recursion\n            if (!this._isCleaningUp) {\n                this._forceCleanup();\n            }\n        }\n    }\n\n    _store(entry) {\n        const errors = this._load();\n        errors.push(entry);\n\n        // Check if cleanup needed\n        if (errors.length > this.maxErrors) {\n            this._cleanup(errors);\n        } else {\n            this._save(errors);\n        }\n    }\n\n    _cleanup(errors) {\n        // Remove oldest 25%\n        const removeCount = Math.ceil(errors.length * this.cleanupPercent);\n        const cleaned = errors.slice(removeCount);\n        this._save(cleaned);\n    }\n\n    _forceCleanup() {\n        // Aggressive cleanup - keep only last 50%\n        // Guard against infinite recursion\n        this._isCleaningUp = true;\n        try {\n            const errors = this._load();\n            const half = Math.ceil(errors.length / 2);\n            const cleaned = errors.slice(half);\n            \n            // Try to save, if it fails again, give up gracefully\n            try {\n                localStorage.setItem(ErrorManager.STORAGE_KEY, JSON.stringify(cleaned));\n            } catch {\n                // Storage is completely full, clear everything as last resort\n                try {\n                    localStorage.removeItem(ErrorManager.STORAGE_KEY);\n                } catch {\n                    // Can't do anything more\n                }\n            }\n        } finally {\n            this._isCleaningUp = false;\n        }\n    }\n\n    _runDailyCleanup() {\n        if (typeof localStorage === 'undefined') return;\n\n        const lastCleanup = localStorage.getItem('md-reader-error-cleanup');\n        const now = Date.now();\n        const dayMs = 24 * 60 * 60 * 1000;\n\n        if (!lastCleanup || (now - parseInt(lastCleanup)) > dayMs) {\n            this.clearOlderThan(this.maxAgeDays);\n            localStorage.setItem('md-reader-error-cleanup', now.toString());\n        }\n    }\n}\n\nexport default ErrorManager;\n","/**\n * EditorState - Pure state management for editor history\n * No DOM dependencies - communicates via callbacks\n */\nclass EditorState {\n    constructor(options = {}) {\n        this.history = [];\n        this.historyIndex = -1;\n        this.maxHistory = options.maxHistory || 50;\n        this.historyDebounce = null;\n\n        // Callbacks for UI updates\n        this.onHistoryChange = options.onHistoryChange || (() => {});\n    }\n\n    /**\n     * Save content to history\n     * @param {string} content - The content to save\n     * @returns {boolean} - Whether save occurred\n     */\n    saveToHistory(content) {\n        // Don't save if it's the same as current\n        if (this.history[this.historyIndex] === content) return false;\n\n        // Remove everything after current index (discard redo stack)\n        this.history = this.history.slice(0, this.historyIndex + 1);\n\n        // Add new state\n        this.history.push(content);\n        this.historyIndex = this.history.length - 1;\n\n        // Limit history size\n        if (this.history.length > this.maxHistory) {\n            this.history.shift();\n            // Prevent negative index when at position 0 during history overflow\n            this.historyIndex = Math.max(0, this.historyIndex - 1);\n        }\n\n        this.onHistoryChange();\n        return true;\n    }\n\n    /**\n     * Debounced save - useful for input events\n     * @param {string} content - The content to save\n     * @param {number} delay - Debounce delay in ms\n     */\n    debouncedSave(content, delay = 500) {\n        if (this.historyDebounce) {\n            clearTimeout(this.historyDebounce);\n        }\n\n        this.historyDebounce = setTimeout(() => {\n            this.saveToHistory(content);\n        }, delay);\n    }\n\n    /**\n     * Check if undo is available\n     * @returns {boolean}\n     */\n    canUndo() {\n        return this.historyIndex > 0;\n    }\n\n    /**\n     * Check if redo is available\n     * @returns {boolean}\n     */\n    canRedo() {\n        return this.historyIndex < this.history.length - 1;\n    }\n\n    /**\n     * Undo - returns previous content or null if can't undo\n     * @returns {string|null}\n     */\n    undo() {\n        if (!this.canUndo()) return null;\n\n        this.historyIndex--;\n        this.onHistoryChange();\n        return this.history[this.historyIndex];\n    }\n\n    /**\n     * Redo - returns next content or null if can't redo\n     * @returns {string|null}\n     */\n    redo() {\n        if (!this.canRedo()) return null;\n\n        this.historyIndex++;\n        this.onHistoryChange();\n        return this.history[this.historyIndex];\n    }\n\n    /**\n     * Get current content from history\n     * @returns {string|null}\n     */\n    getCurrentContent() {\n        return this.history[this.historyIndex] || null;\n    }\n\n    /**\n     * Clear all history\n     */\n    clear() {\n        this.history = [];\n        this.historyIndex = -1;\n        this.onHistoryChange();\n    }\n}\n\nexport default EditorState;\n","/**\n * Settings - Editor settings management with persistence\n *\n * Manages user preferences including:\n * - Edit mode (enable/disable editing)\n * - Theme selection\n * - Auto-save preferences\n * - Plugin settings\n *\n * @module Settings\n * @version 1.0.0\n */\n\nconst STORAGE_KEY = 'md-reader-pro-settings';\n\n/**\n * Default settings\n */\nconst DEFAULT_SETTINGS = {\n    // Editor settings\n    editMode: true,           // true = can edit, false = read-only viewer\n    theme: 'dark',            // dark, light\n    autoSave: true,           // Auto-save to localStorage\n    autoSaveInterval: 60000,  // Auto-save interval in ms\n\n    // Preview settings\n    syncScroll: true,         // Sync editor and preview scroll\n\n    // Analysis settings\n    autoAnalyze: false,       // Auto-analyze on file load\n\n    // Plugin settings\n    plugins: {\n        enabled: [],          // List of enabled plugin IDs\n        autoLoad: true        // Auto-load plugins on startup\n    },\n\n    // Diamond Drill settings\n    'diamond-drill': {\n        reportFormat: 'json',     // json, markdown, html\n        showLineNumbers: true,\n        showWordCount: true,\n        showCharCount: true,\n        theme: 'auto'             // auto, dark, light\n    },\n\n    // v13e: Custom theme settings\n    customTheme: {\n        enabled: false,\n        preset: 'default',        // default, ocean, forest, sunset, midnight, custom\n        colors: {\n            accent: '#FFD700',\n            bgPrimary: '#0a0a0a',\n            bgSecondary: '#111111',\n            bgTertiary: '#1a1a1a',\n            textPrimary: '#ffffff',\n            textSecondary: '#cccccc',\n            textMuted: '#888888',\n            border: '#333333'\n        }\n    }\n};\n\nclass Settings {\n    constructor(options = {}) {\n        this.storage = options.storage || (typeof localStorage !== 'undefined' ? localStorage : null);\n        this.onChange = options.onChange || (() => {});\n        this.settings = { ...DEFAULT_SETTINGS };\n        this._load();\n    }\n\n    /**\n     * Load settings from storage\n     * @private\n     */\n    _load() {\n        if (!this.storage) return;\n\n        try {\n            const data = this.storage.getItem(STORAGE_KEY);\n            if (data) {\n                const parsed = JSON.parse(data);\n                this.settings = this._merge(DEFAULT_SETTINGS, parsed);\n            }\n        } catch (err) {\n            console.warn('Failed to load settings:', err);\n        }\n    }\n\n    /**\n     * Deep merge settings objects\n     * @private\n     */\n    _merge(defaults, overrides) {\n        const result = { ...defaults };\n        for (const key of Object.keys(overrides)) {\n            const defaultVal = defaults[key];\n            const overrideVal = overrides[key];\n\n            if (\n                defaultVal &&\n                overrideVal &&\n                typeof defaultVal === 'object' &&\n                !Array.isArray(defaultVal) &&\n                typeof overrideVal === 'object' &&\n                !Array.isArray(overrideVal)\n            ) {\n                result[key] = this._merge(defaultVal, overrideVal);\n            } else {\n                result[key] = overrideVal;\n            }\n        }\n        return result;\n    }\n\n    /**\n     * Save settings to storage\n     * @private\n     */\n    _save() {\n        if (!this.storage) return;\n\n        try {\n            this.storage.setItem(STORAGE_KEY, JSON.stringify(this.settings));\n        } catch (err) {\n            console.warn('Failed to save settings:', err);\n        }\n    }\n\n    /**\n     * Get a setting value\n     * @param {string} key - Dot-notation key (e.g., 'plugins.enabled')\n     * @returns {any}\n     */\n    get(key) {\n        const parts = key.split('.');\n        let value = this.settings;\n        for (const part of parts) {\n            if (value === undefined) return undefined;\n            value = value[part];\n        }\n        return value;\n    }\n\n    /**\n     * Set a setting value\n     * @param {string} key - Dot-notation key\n     * @param {any} value - Value to set\n     */\n    set(key, value) {\n        const parts = key.split('.');\n        let obj = this.settings;\n\n        // Prevent prototype pollution via malicious key segments\n        const isUnsafeKey = (segment) => (\n            segment === '__proto__' ||\n            segment === 'constructor' ||\n            segment === 'prototype'\n        );\n\n        for (let i = 0; i < parts.length - 1; i++) {\n            const segment = parts[i];\n            if (isUnsafeKey(segment)) {\n                // Abort setting if an unsafe segment is encountered\n                return;\n            }\n            if (!obj[segment] || typeof obj[segment] !== 'object') {\n                obj[segment] = {};\n            }\n            obj = obj[segment];\n        }\n\n        const lastSegment = parts[parts.length - 1];\n        if (isUnsafeKey(lastSegment)) {\n            return;\n        }\n\n        obj[lastSegment] = value;\n        this._save();\n        this.onChange(key, value);\n    }\n\n    /**\n     * Get all settings\n     * @returns {Object}\n     */\n    getAll() {\n        return { ...this.settings };\n    }\n\n    /**\n     * Reset to default settings\n     */\n    reset() {\n        this.settings = { ...DEFAULT_SETTINGS };\n        this._save();\n        this.onChange('*', this.settings);\n    }\n\n    // === Convenience Methods ===\n\n    /**\n     * Check if edit mode is enabled\n     * @returns {boolean}\n     */\n    isEditModeEnabled() {\n        return this.settings.editMode;\n    }\n\n    /**\n     * Toggle edit mode\n     * @returns {boolean} - New edit mode value\n     */\n    toggleEditMode() {\n        this.settings.editMode = !this.settings.editMode;\n        this._save();\n        this.onChange('editMode', this.settings.editMode);\n        return this.settings.editMode;\n    }\n\n    /**\n     * Set edit mode\n     * @param {boolean} enabled\n     */\n    setEditMode(enabled) {\n        this.settings.editMode = enabled;\n        this._save();\n        this.onChange('editMode', enabled);\n    }\n\n    /**\n     * Get current theme\n     * @returns {string}\n     */\n    getTheme() {\n        return this.settings.theme;\n    }\n\n    /**\n     * Set theme\n     * @param {string} theme - 'dark' or 'light'\n     */\n    setTheme(theme) {\n        this.settings.theme = theme;\n        this._save();\n        this.onChange('theme', theme);\n    }\n\n    /**\n     * Check if auto-save is enabled\n     * @returns {boolean}\n     */\n    isAutoSaveEnabled() {\n        return this.settings.autoSave;\n    }\n\n    /**\n     * Get enabled plugins\n     * @returns {string[]}\n     */\n    getEnabledPlugins() {\n        return this.settings.plugins.enabled || [];\n    }\n\n    /**\n     * Enable a plugin\n     * @param {string} pluginId\n     */\n    enablePlugin(pluginId) {\n        if (!this.settings.plugins.enabled.includes(pluginId)) {\n            this.settings.plugins.enabled.push(pluginId);\n            this._save();\n            this.onChange('plugins.enabled', this.settings.plugins.enabled);\n        }\n    }\n\n    /**\n     * Disable a plugin\n     * @param {string} pluginId\n     */\n    disablePlugin(pluginId) {\n        const idx = this.settings.plugins.enabled.indexOf(pluginId);\n        if (idx !== -1) {\n            this.settings.plugins.enabled.splice(idx, 1);\n            this._save();\n            this.onChange('plugins.enabled', this.settings.plugins.enabled);\n        }\n    }\n}\n\nexport default Settings;\n","/**\n * EditorIO - File operations, persistence, and export\n * Handles all I/O: files, localStorage, clipboard, downloads\n */\nclass EditorIO {\n    constructor(options = {}) {\n        this.version = options.version || '4.0.0';\n        this.autoSaveTimer = null;\n        this.lastSaveTime = null;\n\n        // Callbacks to get/set editor content (injected by orchestrator)\n        this.getEditorValue = options.getEditorValue || (() => '');\n        this.setEditorValue = options.setEditorValue || (() => {});\n        this.getPreviewHTML = options.getPreviewHTML || (() => '');\n        this.triggerFileInput = options.triggerFileInput || (() => {});\n\n        // Notification callbacks\n        this.notify = options.notify || { success: () => {}, error: () => {}, warning: () => {} };\n        this.showNotification = options.showNotification || (() => {});\n        this.focusEditor = options.focusEditor || (() => {});\n\n        // Update callback\n        this.onContentLoaded = options.onContentLoaded || (() => {});\n\n        // Environment check\n        this.isTestEnvironment = options.isTestEnvironment || (() => typeof jest !== 'undefined');\n\n        // Constants\n        this.MAX_FILE_SIZE = 10 * 1024 * 1024; // 10MB\n        this.SUPPORTED_EXTENSIONS = ['.md', '.txt', '.markdown'];\n    }\n\n    /**\n     * Load and validate a file\n     * @param {File} file - The file to load\n     */\n    loadFile(file) {\n        if (!file) {\n            console.error('No file provided to loadFile method');\n            return;\n        }\n\n        // Validate file size\n        if (file.size > this.MAX_FILE_SIZE) {\n            this.notify.error(\n                `File is too large (${(file.size / 1024 / 1024).toFixed(2)}MB). Maximum size is ${this.MAX_FILE_SIZE / 1024 / 1024}MB.`,\n                {\n                    actions: [{\n                        label: 'Choose Another File',\n                        primary: true,\n                        onClick: () => this.triggerFileInput()\n                    }]\n                }\n            );\n            return;\n        }\n\n        // Validate file extension\n        const ext = file.name.toLowerCase().slice(file.name.lastIndexOf('.'));\n        if (!this.SUPPORTED_EXTENSIONS.includes(ext)) {\n            this.notify.warning(\n                `Unsupported file type: ${ext}. Supported types: ${this.SUPPORTED_EXTENSIONS.join(', ')}`,\n                {\n                    actions: [\n                        {\n                            label: 'Load Anyway',\n                            primary: true,\n                            onClick: () => this.readFile(file)\n                        },\n                        {\n                            label: 'Choose Another',\n                            onClick: () => this.triggerFileInput()\n                        }\n                    ]\n                }\n            );\n            return;\n        }\n\n        this.readFile(file);\n    }\n\n    /**\n     * Read file contents\n     * @param {File} file - The file to read\n     */\n    readFile(file) {\n        const reader = new FileReader();\n\n        const cleanup = () => {\n            reader.onload = null;\n            reader.onerror = null;\n            reader.onabort = null;\n        };\n\n        reader.onload = (e) => {\n            const content = this._getFileReaderResult(e, reader);\n            this.setEditorValue(content || '');\n            this.onContentLoaded();\n            if (!this.isTestEnvironment()) {\n                console.log(` Loaded file: ${file.name}`);\n            }\n            cleanup();\n        };\n\n        reader.onerror = (e) => {\n            console.error('File reading error:', e);\n            this.notify.error('Failed to read file. Please try again.', {\n                actions: [{\n                    label: 'Try Again',\n                    primary: true,\n                    onClick: () => this.triggerFileInput()\n                }]\n            });\n            cleanup();\n        };\n\n        reader.onabort = () => {\n            console.warn('File reading was aborted');\n            cleanup();\n        };\n\n        reader.readAsText(file);\n    }\n\n    /**\n     * Save markdown to file download\n     */\n    saveMarkdown() {\n        const content = this.getEditorValue();\n\n        if (!content.trim()) {\n            this.notify.warning('Document is empty. Nothing to save.', {\n                actions: [{\n                    label: 'Start Writing',\n                    primary: true,\n                    onClick: () => this.focusEditor()\n                }]\n            });\n            return false;\n        }\n\n        const blob = new Blob([content], { type: 'text/markdown' });\n        const url = URL.createObjectURL(blob);\n        const a = document.createElement('a');\n\n        try {\n            a.href = url;\n            a.download = 'document.md';\n            document.body.appendChild(a);\n            a.click();\n            document.body.removeChild(a);\n        } finally {\n            URL.revokeObjectURL(url);\n        }\n\n        this.notify.success('Document saved successfully!');\n        console.log(' Markdown saved');\n        return true;\n    }\n\n    /**\n     * Export as HTML file\n     */\n    exportAsHTML() {\n        const previewHTML = this.getPreviewHTML();\n        if (!previewHTML) return false;\n\n        const html = `<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Exported from MD Reader Pro</title>\n    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css\">\n    <style>\n        body {\n            max-width: 800px;\n            margin: 0 auto;\n            padding: 2rem;\n            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;\n            line-height: 1.6;\n            color: #333;\n        }\n        code { background: #f4f4f4; padding: 2px 6px; border-radius: 3px; }\n        pre { background: #2d2d2d; padding: 1rem; border-radius: 8px; overflow-x: auto; }\n        pre code { background: none; color: #f8f8f2; }\n    </style>\n</head>\n<body>\n${previewHTML}\n<hr>\n<footer style=\"text-align: center; color: #999; margin-top: 2rem;\">\n    <p><small>Generated by MD Reader Pro v${this.version}</small></p>\n</footer>\n</body>\n</html>`;\n\n        const blob = new Blob([html], { type: 'text/html' });\n        const url = URL.createObjectURL(blob);\n        const a = document.createElement('a');\n\n        try {\n            a.href = url;\n            a.download = `markdown-export-${Date.now()}.html`;\n            a.click();\n        } finally {\n            URL.revokeObjectURL(url);\n        }\n\n        this.showNotification(' Exported as HTML!', 'success');\n        return true;\n    }\n\n    /**\n     * Save to localStorage\n     */\n    saveToLocalStorage() {\n        const content = this.getEditorValue();\n        if (!content) return false;\n\n        try {\n            const timestamp = new Date().toISOString();\n            localStorage.setItem('md-reader-autosave', JSON.stringify({\n                content,\n                timestamp,\n                version: this.version\n            }));\n\n            this.lastSaveTime = new Date();\n            console.log(' Auto-saved at', timestamp);\n            return true;\n        } catch (err) {\n            console.error(' Auto-save failed:', err);\n            return false;\n        }\n    }\n\n    /**\n     * Load from localStorage auto-save\n     * @returns {{ content: string, timestamp: string } | null}\n     */\n    getAutoSaveData() {\n        try {\n            const saved = localStorage.getItem('md-reader-autosave');\n            if (saved) {\n                return JSON.parse(saved);\n            }\n        } catch (err) {\n            console.error(' Failed to load auto-save:', err);\n        }\n        return null;\n    }\n\n    /**\n     * Copy text to clipboard\n     * @param {string} text - Text to copy\n     * @returns {Promise<boolean>}\n     */\n    async copyToClipboard(text) {\n        try {\n            if (typeof window === 'undefined' || !window.navigator?.clipboard) {\n                throw new Error('Clipboard API not available');\n            }\n            await window.navigator.clipboard.writeText(text);\n            console.log(' Text copied to clipboard');\n            return true;\n        } catch (err) {\n            console.error(' Clipboard API failed:', err);\n            return false;\n        }\n    }\n\n    /**\n     * Copy markdown content to clipboard\n     * @returns {Promise<boolean>}\n     */\n    async copyMarkdown() {\n        const content = this.getEditorValue();\n        if (!content) return false;\n        return this.copyToClipboard(content);\n    }\n\n    /**\n     * Copy HTML content to clipboard\n     * @returns {Promise<boolean>}\n     */\n    async copyHTML() {\n        const html = this.getPreviewHTML();\n        if (!html) return false;\n        return this.copyToClipboard(html);\n    }\n\n    /**\n     * Get time ago string\n     * @param {Date} date\n     * @returns {string}\n     */\n    getTimeAgo(date) {\n        const seconds = Math.floor((new Date() - date) / 1000);\n        if (seconds < 60) return 'just now';\n        const minutes = Math.floor(seconds / 60);\n        if (minutes < 60) return `${minutes}m ago`;\n        const hours = Math.floor(minutes / 60);\n        return `${hours}h ago`;\n    }\n\n    // Private helper\n    _getFileReaderResult(e, reader) {\n        try {\n            if (e?.target?.result !== undefined) return e.target.result;\n            if (reader?.result !== undefined && reader.result !== null) return reader.result;\n        } catch (_) { }\n        return '';\n    }\n}\n\nexport default EditorIO;\n","/**\n * marked v17.0.3 - a markdown parser\n * Copyright (c) 2018-2026, MarkedJS. (MIT License)\n * Copyright (c) 2011-2018, Christopher Jeffrey. (MIT License)\n * https://github.com/markedjs/marked\n */\n\n/**\n * DO NOT EDIT THIS FILE\n * The code in this file is generated from files in ./src/\n */\n\nfunction M(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var T=M();function H(u){T=u}var _={exec:()=>null};function k(u,e=\"\"){let t=typeof u==\"string\"?u:u.source,n={replace:(r,i)=>{let s=typeof i==\"string\"?i:i.source;return s=s.replace(m.caret,\"$1\"),t=t.replace(r,s),n},getRegex:()=>new RegExp(t,e)};return n}var Re=(()=>{try{return!!new RegExp(\"(?<=1)(?<!1)\")}catch{return!1}})(),m={codeRemoveIndent:/^(?: {1,4}| {0,3}\\t)/gm,outputLinkReplace:/\\\\([\\[\\]])/g,indentCodeCompensation:/^(\\s+)(?:```)/,beginningSpace:/^\\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\\n/g,tabCharGlobal:/\\t/g,multipleSpaceGlobal:/\\s+/g,blankLine:/^[ \\t]*$/,doubleBlankLine:/\\n[ \\t]*\\n[ \\t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\\n {0,3}((?:=+|-+) *)(?=\\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \\t]?/gm,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\\[[ xX]\\] +\\S/,listReplaceTask:/^\\[[ xX]\\] +/,listTaskCheckbox:/\\[[ xX]\\]/,anyLine:/\\n.*\\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\\||\\| *$/g,tableRowBlankLine:/\\n[ \\t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\\s|>)/i,endPreScriptTag:/^<\\/(pre|code|kbd|script)(\\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'\"]*[^\\s])\\s+(['\"])(.*)\\2/,unicodeAlphaNumeric:/[\\p{L}\\p{N}]/u,escapeTest:/[&<>\"']/,escapeReplace:/[&<>\"']/g,escapeTestNoEncode:/[<>\"']|&(?!(#\\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\\w+);)/,escapeReplaceNoEncode:/[<>\"']|&(?!(#\\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\\w+);)/g,unescapeTest:/&(#(?:\\d+)|(?:#x[0-9A-Fa-f]+)|(?:\\w+));?/ig,caret:/(^|[^\\[])\\^/g,percentDecode:/%25/g,findPipe:/\\|/g,splitPipe:/ \\|/,slashPipe:/\\\\\\|/g,carriageReturn:/\\r\\n|\\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\\S*/,endingNewline:/\\n$/,listItemRegex:u=>new RegExp(`^( {0,3}${u})((?:[\t ][^\\\\n]*)?(?:\\\\n|$))`),nextBulletRegex:u=>new RegExp(`^ {0,${Math.min(3,u-1)}}(?:[*+-]|\\\\d{1,9}[.)])((?:[ \t][^\\\\n]*)?(?:\\\\n|$))`),hrRegex:u=>new RegExp(`^ {0,${Math.min(3,u-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\\\* *){3,})(?:\\\\n+|$)`),fencesBeginRegex:u=>new RegExp(`^ {0,${Math.min(3,u-1)}}(?:\\`\\`\\`|~~~)`),headingBeginRegex:u=>new RegExp(`^ {0,${Math.min(3,u-1)}}#`),htmlBeginRegex:u=>new RegExp(`^ {0,${Math.min(3,u-1)}}<(?:[a-z].*>|!--)`,\"i\"),blockquoteBeginRegex:u=>new RegExp(`^ {0,${Math.min(3,u-1)}}>`)},Te=/^(?:[ \\t]*(?:\\n|$))+/,Oe=/^((?: {4}| {0,3}\\t)[^\\n]+(?:\\n(?:[ \\t]*(?:\\n|$))*)?)+/,we=/^ {0,3}(`{3,}(?=[^`\\n]*(?:\\n|$))|~{3,})([^\\n]*)(?:\\n|$)(?:|([\\s\\S]*?)(?:\\n|$))(?: {0,3}\\1[~`]* *(?=\\n|$)|$)/,I=/^ {0,3}((?:-[\\t ]*){3,}|(?:_[ \\t]*){3,}|(?:\\*[ \\t]*){3,})(?:\\n+|$)/,ye=/^ {0,3}(#{1,6})(?=\\s|$)(.*)(?:\\n+|$)/,N=/ {0,3}(?:[*+-]|\\d{1,9}[.)])/,re=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\\n(?!\\s*?\\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\\n {0,3}(=+|-+) *(?:\\n+|$)/,se=k(re).replace(/bull/g,N).replace(/blockCode/g,/(?: {4}| {0,3}\\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\\n>]+>\\n/).replace(/\\|table/g,\"\").getRegex(),Pe=k(re).replace(/bull/g,N).replace(/blockCode/g,/(?: {4}| {0,3}\\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\\n>]+>\\n/).replace(/table/g,/ {0,3}\\|?(?:[:\\- ]*\\|)+[\\:\\- ]*\\n/).getRegex(),Q=/^([^\\n]+(?:\\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\\n)[^\\n]+)*)/,Se=/^[^\\n]+/,F=/(?!\\s*\\])(?:\\\\[\\s\\S]|[^\\[\\]\\\\])+/,$e=k(/^ {0,3}\\[(label)\\]: *(?:\\n[ \\t]*)?([^<\\s][^\\s]*|<.*?>)(?:(?: +(?:\\n[ \\t]*)?| *\\n[ \\t]*)(title))? *(?:\\n+|$)/).replace(\"label\",F).replace(\"title\",/(?:\"(?:\\\\\"?|[^\"\\\\])*\"|'[^'\\n]*(?:\\n[^'\\n]+)*\\n?'|\\([^()]*\\))/).getRegex(),_e=k(/^(bull)([ \\t][^\\n]+?)?(?:\\n|$)/).replace(/bull/g,N).getRegex(),q=\"address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul\",j=/<!--(?:-?>|[\\s\\S]*?(?:-->|$))/,Le=k(\"^ {0,3}(?:<(script|pre|style|textarea)[\\\\s>][\\\\s\\\\S]*?(?:</\\\\1>[^\\\\n]*\\\\n+|$)|comment[^\\\\n]*(\\\\n+|$)|<\\\\?[\\\\s\\\\S]*?(?:\\\\?>\\\\n*|$)|<![A-Z][\\\\s\\\\S]*?(?:>\\\\n*|$)|<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?(?:\\\\]\\\\]>\\\\n*|$)|</?(tag)(?: +|\\\\n|/?>)[\\\\s\\\\S]*?(?:(?:\\\\n[ \t]*)+\\\\n|$)|<(?!script|pre|style|textarea)([a-z][\\\\w-]*)(?:attribute)*? */?>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:(?:\\\\n[ \t]*)+\\\\n|$)|</(?!script|pre|style|textarea)[a-z][\\\\w-]*\\\\s*>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:(?:\\\\n[ \t]*)+\\\\n|$))\",\"i\").replace(\"comment\",j).replace(\"tag\",q).replace(\"attribute\",/ +[a-zA-Z:_][\\w.:-]*(?: *= *\"[^\"\\n]*\"| *= *'[^'\\n]*'| *= *[^\\s\"'=<>`]+)?/).getRegex(),ie=k(Q).replace(\"hr\",I).replace(\"heading\",\" {0,3}#{1,6}(?:\\\\s|$)\").replace(\"|lheading\",\"\").replace(\"|table\",\"\").replace(\"blockquote\",\" {0,3}>\").replace(\"fences\",\" {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n\").replace(\"list\",\" {0,3}(?:[*+-]|1[.)])[ \\\\t]\").replace(\"html\",\"</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|textarea|!--)\").replace(\"tag\",q).getRegex(),Me=k(/^( {0,3}> ?(paragraph|[^\\n]*)(?:\\n|$))+/).replace(\"paragraph\",ie).getRegex(),U={blockquote:Me,code:Oe,def:$e,fences:we,heading:ye,hr:I,html:Le,lheading:se,list:_e,newline:Te,paragraph:ie,table:_,text:Se},te=k(\"^ *([^\\\\n ].*)\\\\n {0,3}((?:\\\\| *)?:?-+:? *(?:\\\\| *:?-+:? *)*(?:\\\\| *)?)(?:\\\\n((?:(?! *\\\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\\\n|$))*)\\\\n*|$)\").replace(\"hr\",I).replace(\"heading\",\" {0,3}#{1,6}(?:\\\\s|$)\").replace(\"blockquote\",\" {0,3}>\").replace(\"code\",\"(?: {4}| {0,3}\t)[^\\\\n]\").replace(\"fences\",\" {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n\").replace(\"list\",\" {0,3}(?:[*+-]|1[.)])[ \\\\t]\").replace(\"html\",\"</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|textarea|!--)\").replace(\"tag\",q).getRegex(),ze={...U,lheading:Pe,table:te,paragraph:k(Q).replace(\"hr\",I).replace(\"heading\",\" {0,3}#{1,6}(?:\\\\s|$)\").replace(\"|lheading\",\"\").replace(\"table\",te).replace(\"blockquote\",\" {0,3}>\").replace(\"fences\",\" {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n\").replace(\"list\",\" {0,3}(?:[*+-]|1[.)])[ \\\\t]\").replace(\"html\",\"</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|textarea|!--)\").replace(\"tag\",q).getRegex()},Ce={...U,html:k(`^ *(?:comment *(?:\\\\n|\\\\s*$)|<(tag)[\\\\s\\\\S]+?</\\\\1> *(?:\\\\n{2,}|\\\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\\\s[^'\"/>\\\\s]*)*?/?> *(?:\\\\n{2,}|\\\\s*$))`).replace(\"comment\",j).replace(/tag/g,\"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\\\b)\\\\w+(?!:|[^\\\\w\\\\s@]*@)\\\\b\").getRegex(),def:/^ *\\[([^\\]]+)\\]: *<?([^\\s>]+)>?(?: +([\"(][^\\n]+[\")]))? *(?:\\n+|$)/,heading:/^(#{1,6})(.*)(?:\\n+|$)/,fences:_,lheading:/^(.+?)\\n {0,3}(=+|-+) *(?:\\n+|$)/,paragraph:k(Q).replace(\"hr\",I).replace(\"heading\",` *#{1,6} *[^\n]`).replace(\"lheading\",se).replace(\"|table\",\"\").replace(\"blockquote\",\" {0,3}>\").replace(\"|fences\",\"\").replace(\"|list\",\"\").replace(\"|html\",\"\").replace(\"|tag\",\"\").getRegex()},Ae=/^\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/,Ie=/^(`+)([^`]|[^`][\\s\\S]*?[^`])\\1(?!`)/,oe=/^( {2,}|\\\\)\\n(?!\\s*$)/,Ee=/^(`+|[^`])(?:(?= {2,}\\n)|[\\s\\S]*?(?:(?=[\\\\<!\\[`*_]|\\b_|$)|[^ ](?= {2,}\\n)))/,v=/[\\p{P}\\p{S}]/u,K=/[\\s\\p{P}\\p{S}]/u,ae=/[^\\s\\p{P}\\p{S}]/u,Be=k(/^((?![*_])punctSpace)/,\"u\").replace(/punctSpace/g,K).getRegex(),le=/(?!~)[\\p{P}\\p{S}]/u,De=/(?!~)[\\s\\p{P}\\p{S}]/u,qe=/(?:[^\\s\\p{P}\\p{S}]|~)/u,ue=/(?![*_])[\\p{P}\\p{S}]/u,ve=/(?![*_])[\\s\\p{P}\\p{S}]/u,Ge=/(?:[^\\s\\p{P}\\p{S}]|[*_])/u,He=k(/link|precode-code|html/,\"g\").replace(\"link\",/\\[(?:[^\\[\\]`]|(?<a>`+)[^`]+\\k<a>(?!`))*?\\]\\((?:\\\\[\\s\\S]|[^\\\\\\(\\)]|\\((?:\\\\[\\s\\S]|[^\\\\\\(\\)])*\\))*\\)/).replace(\"precode-\",Re?\"(?<!`)()\":\"(^^|[^`])\").replace(\"code\",/(?<b>`+)[^`]+\\k<b>(?!`)/).replace(\"html\",/<(?! )[^<>]*?>/).getRegex(),pe=/^(?:\\*+(?:((?!\\*)punct)|[^\\s*]))|^_+(?:((?!_)punct)|([^\\s_]))/,Ze=k(pe,\"u\").replace(/punct/g,v).getRegex(),Ne=k(pe,\"u\").replace(/punct/g,le).getRegex(),ce=\"^[^_*]*?__[^_*]*?\\\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\\\*)punct(\\\\*+)(?=[\\\\s]|$)|notPunctSpace(\\\\*+)(?!\\\\*)(?=punctSpace|$)|(?!\\\\*)punctSpace(\\\\*+)(?=notPunctSpace)|[\\\\s](\\\\*+)(?!\\\\*)(?=punct)|(?!\\\\*)punct(\\\\*+)(?!\\\\*)(?=punct)|notPunctSpace(\\\\*+)(?=notPunctSpace)\",Qe=k(ce,\"gu\").replace(/notPunctSpace/g,ae).replace(/punctSpace/g,K).replace(/punct/g,v).getRegex(),Fe=k(ce,\"gu\").replace(/notPunctSpace/g,qe).replace(/punctSpace/g,De).replace(/punct/g,le).getRegex(),je=k(\"^[^_*]*?\\\\*\\\\*[^_*]*?_[^_*]*?(?=\\\\*\\\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)\",\"gu\").replace(/notPunctSpace/g,ae).replace(/punctSpace/g,K).replace(/punct/g,v).getRegex(),Ue=k(/^~~?(?:((?!~)punct)|[^\\s~])/,\"u\").replace(/punct/g,ue).getRegex(),Ke=\"^[^~]+(?=[^~])|(?!~)punct(~~?)(?=[\\\\s]|$)|notPunctSpace(~~?)(?!~)(?=punctSpace|$)|(?!~)punctSpace(~~?)(?=notPunctSpace)|[\\\\s](~~?)(?!~)(?=punct)|(?!~)punct(~~?)(?!~)(?=punct)|notPunctSpace(~~?)(?=notPunctSpace)\",We=k(Ke,\"gu\").replace(/notPunctSpace/g,Ge).replace(/punctSpace/g,ve).replace(/punct/g,ue).getRegex(),Xe=k(/\\\\(punct)/,\"gu\").replace(/punct/g,v).getRegex(),Je=k(/^<(scheme:[^\\s\\x00-\\x1f<>]*|email)>/).replace(\"scheme\",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace(\"email\",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Ve=k(j).replace(\"(?:-->|$)\",\"-->\").getRegex(),Ye=k(\"^comment|^</[a-zA-Z][\\\\w:-]*\\\\s*>|^<[a-zA-Z][\\\\w-]*(?:attribute)*?\\\\s*/?>|^<\\\\?[\\\\s\\\\S]*?\\\\?>|^<![a-zA-Z]+\\\\s[\\\\s\\\\S]*?>|^<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>\").replace(\"comment\",Ve).replace(\"attribute\",/\\s+[a-zA-Z:_][\\w.:-]*(?:\\s*=\\s*\"[^\"]*\"|\\s*=\\s*'[^']*'|\\s*=\\s*[^\\s\"'=<>`]+)?/).getRegex(),D=/(?:\\[(?:\\\\[\\s\\S]|[^\\[\\]\\\\])*\\]|\\\\[\\s\\S]|`+[^`]*?`+(?!`)|[^\\[\\]\\\\`])*?/,et=k(/^!?\\[(label)\\]\\(\\s*(href)(?:(?:[ \\t]*(?:\\n[ \\t]*)?)(title))?\\s*\\)/).replace(\"label\",D).replace(\"href\",/<(?:\\\\.|[^\\n<>\\\\])+>|[^ \\t\\n\\x00-\\x1f]*/).replace(\"title\",/\"(?:\\\\\"?|[^\"\\\\])*\"|'(?:\\\\'?|[^'\\\\])*'|\\((?:\\\\\\)?|[^)\\\\])*\\)/).getRegex(),he=k(/^!?\\[(label)\\]\\[(ref)\\]/).replace(\"label\",D).replace(\"ref\",F).getRegex(),ke=k(/^!?\\[(ref)\\](?:\\[\\])?/).replace(\"ref\",F).getRegex(),tt=k(\"reflink|nolink(?!\\\\()\",\"g\").replace(\"reflink\",he).replace(\"nolink\",ke).getRegex(),ne=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,W={_backpedal:_,anyPunctuation:Xe,autolink:Je,blockSkip:He,br:oe,code:Ie,del:_,delLDelim:_,delRDelim:_,emStrongLDelim:Ze,emStrongRDelimAst:Qe,emStrongRDelimUnd:je,escape:Ae,link:et,nolink:ke,punctuation:Be,reflink:he,reflinkSearch:tt,tag:Ye,text:Ee,url:_},nt={...W,link:k(/^!?\\[(label)\\]\\((.*?)\\)/).replace(\"label\",D).getRegex(),reflink:k(/^!?\\[(label)\\]\\s*\\[([^\\]]*)\\]/).replace(\"label\",D).getRegex()},Z={...W,emStrongRDelimAst:Fe,emStrongLDelim:Ne,delLDelim:Ue,delRDelim:We,url:k(/^((?:protocol):\\/\\/|www\\.)(?:[a-zA-Z0-9\\-]+\\.?)+[^\\s<]*|^email/).replace(\"protocol\",ne).replace(\"email\",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'\"~()&]+|\\([^)]*\\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'\"~)]+(?!$))+/,del:/^(~~?)(?=[^\\s~])((?:\\\\[\\s\\S]|[^\\\\])*?(?:\\\\[\\s\\S]|[^\\s~\\\\]))\\1(?=[^~]|$)/,text:k(/^([`~]+|[^`~])(?:(?= {2,}\\n)|(?=[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@)|[\\s\\S]*?(?:(?=[\\\\<!\\[`*~_]|\\b_|protocol:\\/\\/|www\\.|$)|[^ ](?= {2,}\\n)|[^a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-](?=[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@)))/).replace(\"protocol\",ne).getRegex()},rt={...Z,br:k(oe).replace(\"{2,}\",\"*\").getRegex(),text:k(Z.text).replace(\"\\\\b_\",\"\\\\b_| {2,}\\\\n\").replace(/\\{2,\\}/g,\"*\").getRegex()},E={normal:U,gfm:ze,pedantic:Ce},z={normal:W,gfm:Z,breaks:rt,pedantic:nt};var st={\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&quot;\",\"'\":\"&#39;\"},de=u=>st[u];function O(u,e){if(e){if(m.escapeTest.test(u))return u.replace(m.escapeReplace,de)}else if(m.escapeTestNoEncode.test(u))return u.replace(m.escapeReplaceNoEncode,de);return u}function X(u){try{u=encodeURI(u).replace(m.percentDecode,\"%\")}catch{return null}return u}function J(u,e){let t=u.replace(m.findPipe,(i,s,a)=>{let o=!1,l=s;for(;--l>=0&&a[l]===\"\\\\\";)o=!o;return o?\"|\":\" |\"}),n=t.split(m.splitPipe),r=0;if(n[0].trim()||n.shift(),n.length>0&&!n.at(-1)?.trim()&&n.pop(),e)if(n.length>e)n.splice(e);else for(;n.length<e;)n.push(\"\");for(;r<n.length;r++)n[r]=n[r].trim().replace(m.slashPipe,\"|\");return n}function C(u,e,t){let n=u.length;if(n===0)return\"\";let r=0;for(;r<n;){let i=u.charAt(n-r-1);if(i===e&&!t)r++;else if(i!==e&&t)r++;else break}return u.slice(0,n-r)}function ge(u,e){if(u.indexOf(e[1])===-1)return-1;let t=0;for(let n=0;n<u.length;n++)if(u[n]===\"\\\\\")n++;else if(u[n]===e[0])t++;else if(u[n]===e[1]&&(t--,t<0))return n;return t>0?-2:-1}function fe(u,e=0){let t=e,n=\"\";for(let r of u)if(r===\"\t\"){let i=4-t%4;n+=\" \".repeat(i),t+=i}else n+=r,t++;return n}function me(u,e,t,n,r){let i=e.href,s=e.title||null,a=u[1].replace(r.other.outputLinkReplace,\"$1\");n.state.inLink=!0;let o={type:u[0].charAt(0)===\"!\"?\"image\":\"link\",raw:t,href:i,title:s,text:a,tokens:n.inlineTokens(a)};return n.state.inLink=!1,o}function it(u,e,t){let n=u.match(t.other.indentCodeCompensation);if(n===null)return e;let r=n[1];return e.split(`\n`).map(i=>{let s=i.match(t.other.beginningSpace);if(s===null)return i;let[a]=s;return a.length>=r.length?i.slice(r.length):i}).join(`\n`)}var w=class{options;rules;lexer;constructor(e){this.options=e||T}space(e){let t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:\"space\",raw:t[0]}}code(e){let t=this.rules.block.code.exec(e);if(t){let n=t[0].replace(this.rules.other.codeRemoveIndent,\"\");return{type:\"code\",raw:t[0],codeBlockStyle:\"indented\",text:this.options.pedantic?n:C(n,`\n`)}}}fences(e){let t=this.rules.block.fences.exec(e);if(t){let n=t[0],r=it(n,t[3]||\"\",this.rules);return{type:\"code\",raw:n,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,\"$1\"):t[2],text:r}}}heading(e){let t=this.rules.block.heading.exec(e);if(t){let n=t[2].trim();if(this.rules.other.endingHash.test(n)){let r=C(n,\"#\");(this.options.pedantic||!r||this.rules.other.endingSpaceChar.test(r))&&(n=r.trim())}return{type:\"heading\",raw:t[0],depth:t[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){let t=this.rules.block.hr.exec(e);if(t)return{type:\"hr\",raw:C(t[0],`\n`)}}blockquote(e){let t=this.rules.block.blockquote.exec(e);if(t){let n=C(t[0],`\n`).split(`\n`),r=\"\",i=\"\",s=[];for(;n.length>0;){let a=!1,o=[],l;for(l=0;l<n.length;l++)if(this.rules.other.blockquoteStart.test(n[l]))o.push(n[l]),a=!0;else if(!a)o.push(n[l]);else break;n=n.slice(l);let p=o.join(`\n`),c=p.replace(this.rules.other.blockquoteSetextReplace,`\n    $1`).replace(this.rules.other.blockquoteSetextReplace2,\"\");r=r?`${r}\n${p}`:p,i=i?`${i}\n${c}`:c;let d=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(c,s,!0),this.lexer.state.top=d,n.length===0)break;let h=s.at(-1);if(h?.type===\"code\")break;if(h?.type===\"blockquote\"){let R=h,f=R.raw+`\n`+n.join(`\n`),S=this.blockquote(f);s[s.length-1]=S,r=r.substring(0,r.length-R.raw.length)+S.raw,i=i.substring(0,i.length-R.text.length)+S.text;break}else if(h?.type===\"list\"){let R=h,f=R.raw+`\n`+n.join(`\n`),S=this.list(f);s[s.length-1]=S,r=r.substring(0,r.length-h.raw.length)+S.raw,i=i.substring(0,i.length-R.raw.length)+S.raw,n=f.substring(s.at(-1).raw.length).split(`\n`);continue}}return{type:\"blockquote\",raw:r,tokens:s,text:i}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim(),r=n.length>1,i={type:\"list\",raw:\"\",ordered:r,start:r?+n.slice(0,-1):\"\",loose:!1,items:[]};n=r?`\\\\d{1,9}\\\\${n.slice(-1)}`:`\\\\${n}`,this.options.pedantic&&(n=r?n:\"[*+-]\");let s=this.rules.other.listItemRegex(n),a=!1;for(;e;){let l=!1,p=\"\",c=\"\";if(!(t=s.exec(e))||this.rules.block.hr.test(e))break;p=t[0],e=e.substring(p.length);let d=fe(t[2].split(`\n`,1)[0],t[1].length),h=e.split(`\n`,1)[0],R=!d.trim(),f=0;if(this.options.pedantic?(f=2,c=d.trimStart()):R?f=t[1].length+1:(f=d.search(this.rules.other.nonSpaceChar),f=f>4?1:f,c=d.slice(f),f+=t[1].length),R&&this.rules.other.blankLine.test(h)&&(p+=h+`\n`,e=e.substring(h.length+1),l=!0),!l){let S=this.rules.other.nextBulletRegex(f),V=this.rules.other.hrRegex(f),Y=this.rules.other.fencesBeginRegex(f),ee=this.rules.other.headingBeginRegex(f),xe=this.rules.other.htmlBeginRegex(f),be=this.rules.other.blockquoteBeginRegex(f);for(;e;){let G=e.split(`\n`,1)[0],A;if(h=G,this.options.pedantic?(h=h.replace(this.rules.other.listReplaceNesting,\"  \"),A=h):A=h.replace(this.rules.other.tabCharGlobal,\"    \"),Y.test(h)||ee.test(h)||xe.test(h)||be.test(h)||S.test(h)||V.test(h))break;if(A.search(this.rules.other.nonSpaceChar)>=f||!h.trim())c+=`\n`+A.slice(f);else{if(R||d.replace(this.rules.other.tabCharGlobal,\"    \").search(this.rules.other.nonSpaceChar)>=4||Y.test(d)||ee.test(d)||V.test(d))break;c+=`\n`+h}R=!h.trim(),p+=G+`\n`,e=e.substring(G.length+1),d=A.slice(f)}}i.loose||(a?i.loose=!0:this.rules.other.doubleBlankLine.test(p)&&(a=!0)),i.items.push({type:\"list_item\",raw:p,task:!!this.options.gfm&&this.rules.other.listIsTask.test(c),loose:!1,text:c,tokens:[]}),i.raw+=p}let o=i.items.at(-1);if(o)o.raw=o.raw.trimEnd(),o.text=o.text.trimEnd();else return;i.raw=i.raw.trimEnd();for(let l of i.items){if(this.lexer.state.top=!1,l.tokens=this.lexer.blockTokens(l.text,[]),l.task){if(l.text=l.text.replace(this.rules.other.listReplaceTask,\"\"),l.tokens[0]?.type===\"text\"||l.tokens[0]?.type===\"paragraph\"){l.tokens[0].raw=l.tokens[0].raw.replace(this.rules.other.listReplaceTask,\"\"),l.tokens[0].text=l.tokens[0].text.replace(this.rules.other.listReplaceTask,\"\");for(let c=this.lexer.inlineQueue.length-1;c>=0;c--)if(this.rules.other.listIsTask.test(this.lexer.inlineQueue[c].src)){this.lexer.inlineQueue[c].src=this.lexer.inlineQueue[c].src.replace(this.rules.other.listReplaceTask,\"\");break}}let p=this.rules.other.listTaskCheckbox.exec(l.raw);if(p){let c={type:\"checkbox\",raw:p[0]+\" \",checked:p[0]!==\"[ ]\"};l.checked=c.checked,i.loose?l.tokens[0]&&[\"paragraph\",\"text\"].includes(l.tokens[0].type)&&\"tokens\"in l.tokens[0]&&l.tokens[0].tokens?(l.tokens[0].raw=c.raw+l.tokens[0].raw,l.tokens[0].text=c.raw+l.tokens[0].text,l.tokens[0].tokens.unshift(c)):l.tokens.unshift({type:\"paragraph\",raw:c.raw,text:c.raw,tokens:[c]}):l.tokens.unshift(c)}}if(!i.loose){let p=l.tokens.filter(d=>d.type===\"space\"),c=p.length>0&&p.some(d=>this.rules.other.anyLine.test(d.raw));i.loose=c}}if(i.loose)for(let l of i.items){l.loose=!0;for(let p of l.tokens)p.type===\"text\"&&(p.type=\"paragraph\")}return i}}html(e){let t=this.rules.block.html.exec(e);if(t)return{type:\"html\",block:!0,raw:t[0],pre:t[1]===\"pre\"||t[1]===\"script\"||t[1]===\"style\",text:t[0]}}def(e){let t=this.rules.block.def.exec(e);if(t){let n=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal,\" \"),r=t[2]?t[2].replace(this.rules.other.hrefBrackets,\"$1\").replace(this.rules.inline.anyPunctuation,\"$1\"):\"\",i=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,\"$1\"):t[3];return{type:\"def\",tag:n,raw:t[0],href:r,title:i}}}table(e){let t=this.rules.block.table.exec(e);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;let n=J(t[1]),r=t[2].replace(this.rules.other.tableAlignChars,\"\").split(\"|\"),i=t[3]?.trim()?t[3].replace(this.rules.other.tableRowBlankLine,\"\").split(`\n`):[],s={type:\"table\",raw:t[0],header:[],align:[],rows:[]};if(n.length===r.length){for(let a of r)this.rules.other.tableAlignRight.test(a)?s.align.push(\"right\"):this.rules.other.tableAlignCenter.test(a)?s.align.push(\"center\"):this.rules.other.tableAlignLeft.test(a)?s.align.push(\"left\"):s.align.push(null);for(let a=0;a<n.length;a++)s.header.push({text:n[a],tokens:this.lexer.inline(n[a]),header:!0,align:s.align[a]});for(let a of i)s.rows.push(J(a,s.header.length).map((o,l)=>({text:o,tokens:this.lexer.inline(o),header:!1,align:s.align[l]})));return s}}lheading(e){let t=this.rules.block.lheading.exec(e);if(t)return{type:\"heading\",raw:t[0],depth:t[2].charAt(0)===\"=\"?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){let t=this.rules.block.paragraph.exec(e);if(t){let n=t[1].charAt(t[1].length-1)===`\n`?t[1].slice(0,-1):t[1];return{type:\"paragraph\",raw:t[0],text:n,tokens:this.lexer.inline(n)}}}text(e){let t=this.rules.block.text.exec(e);if(t)return{type:\"text\",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){let t=this.rules.inline.escape.exec(e);if(t)return{type:\"escape\",raw:t[0],text:t[1]}}tag(e){let t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:\"html\",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){let t=this.rules.inline.link.exec(e);if(t){let n=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;let s=C(n.slice(0,-1),\"\\\\\");if((n.length-s.length)%2===0)return}else{let s=ge(t[2],\"()\");if(s===-2)return;if(s>-1){let o=(t[0].indexOf(\"!\")===0?5:4)+t[1].length+s;t[2]=t[2].substring(0,s),t[0]=t[0].substring(0,o).trim(),t[3]=\"\"}}let r=t[2],i=\"\";if(this.options.pedantic){let s=this.rules.other.pedanticHrefTitle.exec(r);s&&(r=s[1],i=s[3])}else i=t[3]?t[3].slice(1,-1):\"\";return r=r.trim(),this.rules.other.startAngleBracket.test(r)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?r=r.slice(1):r=r.slice(1,-1)),me(t,{href:r&&r.replace(this.rules.inline.anyPunctuation,\"$1\"),title:i&&i.replace(this.rules.inline.anyPunctuation,\"$1\")},t[0],this.lexer,this.rules)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let r=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal,\" \"),i=t[r.toLowerCase()];if(!i){let s=n[0].charAt(0);return{type:\"text\",raw:s,text:s}}return me(n,i,n[0],this.lexer,this.rules)}}emStrong(e,t,n=\"\"){let r=this.rules.inline.emStrongLDelim.exec(e);if(!r||r[3]&&n.match(this.rules.other.unicodeAlphaNumeric))return;if(!(r[1]||r[2]||\"\")||!n||this.rules.inline.punctuation.exec(n)){let s=[...r[0]].length-1,a,o,l=s,p=0,c=r[0][0]===\"*\"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(c.lastIndex=0,t=t.slice(-1*e.length+s);(r=c.exec(t))!=null;){if(a=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!a)continue;if(o=[...a].length,r[3]||r[4]){l+=o;continue}else if((r[5]||r[6])&&s%3&&!((s+o)%3)){p+=o;continue}if(l-=o,l>0)continue;o=Math.min(o,o+l+p);let d=[...r[0]][0].length,h=e.slice(0,s+r.index+d+o);if(Math.min(s,o)%2){let f=h.slice(1,-1);return{type:\"em\",raw:h,text:f,tokens:this.lexer.inlineTokens(f)}}let R=h.slice(2,-2);return{type:\"strong\",raw:h,text:R,tokens:this.lexer.inlineTokens(R)}}}}codespan(e){let t=this.rules.inline.code.exec(e);if(t){let n=t[2].replace(this.rules.other.newLineCharGlobal,\" \"),r=this.rules.other.nonSpaceChar.test(n),i=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return r&&i&&(n=n.substring(1,n.length-1)),{type:\"codespan\",raw:t[0],text:n}}}br(e){let t=this.rules.inline.br.exec(e);if(t)return{type:\"br\",raw:t[0]}}del(e,t,n=\"\"){let r=this.rules.inline.delLDelim.exec(e);if(!r)return;if(!(r[1]||\"\")||!n||this.rules.inline.punctuation.exec(n)){let s=[...r[0]].length-1,a,o,l=s,p=this.rules.inline.delRDelim;for(p.lastIndex=0,t=t.slice(-1*e.length+s);(r=p.exec(t))!=null;){if(a=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!a||(o=[...a].length,o!==s))continue;if(r[3]||r[4]){l+=o;continue}if(l-=o,l>0)continue;o=Math.min(o,o+l);let c=[...r[0]][0].length,d=e.slice(0,s+r.index+c+o),h=d.slice(s,-s);return{type:\"del\",raw:d,text:h,tokens:this.lexer.inlineTokens(h)}}}}autolink(e){let t=this.rules.inline.autolink.exec(e);if(t){let n,r;return t[2]===\"@\"?(n=t[1],r=\"mailto:\"+n):(n=t[1],r=n),{type:\"link\",raw:t[0],text:n,href:r,tokens:[{type:\"text\",raw:n,text:n}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let n,r;if(t[2]===\"@\")n=t[0],r=\"mailto:\"+n;else{let i;do i=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])?.[0]??\"\";while(i!==t[0]);n=t[0],t[1]===\"www.\"?r=\"http://\"+t[0]:r=t[0]}return{type:\"link\",raw:t[0],text:n,href:r,tokens:[{type:\"text\",raw:n,text:n}]}}}inlineText(e){let t=this.rules.inline.text.exec(e);if(t){let n=this.lexer.state.inRawBlock;return{type:\"text\",raw:t[0],text:t[0],escaped:n}}}};var x=class u{tokens;options;state;inlineQueue;tokenizer;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||T,this.options.tokenizer=this.options.tokenizer||new w,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let t={other:m,block:E.normal,inline:z.normal};this.options.pedantic?(t.block=E.pedantic,t.inline=z.pedantic):this.options.gfm&&(t.block=E.gfm,this.options.breaks?t.inline=z.breaks:t.inline=z.gfm),this.tokenizer.rules=t}static get rules(){return{block:E,inline:z}}static lex(e,t){return new u(t).lex(e)}static lexInline(e,t){return new u(t).inlineTokens(e)}lex(e){e=e.replace(m.carriageReturn,`\n`),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){let n=this.inlineQueue[t];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],n=!1){for(this.options.pedantic&&(e=e.replace(m.tabCharGlobal,\"    \").replace(m.spaceLine,\"\"));e;){let r;if(this.options.extensions?.block?.some(s=>(r=s.call({lexer:this},e,t))?(e=e.substring(r.raw.length),t.push(r),!0):!1))continue;if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length);let s=t.at(-1);r.raw.length===1&&s!==void 0?s.raw+=`\n`:t.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length);let s=t.at(-1);s?.type===\"paragraph\"||s?.type===\"text\"?(s.raw+=(s.raw.endsWith(`\n`)?\"\":`\n`)+r.raw,s.text+=`\n`+r.text,this.inlineQueue.at(-1).src=s.text):t.push(r);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length);let s=t.at(-1);s?.type===\"paragraph\"||s?.type===\"text\"?(s.raw+=(s.raw.endsWith(`\n`)?\"\":`\n`)+r.raw,s.text+=`\n`+r.raw,this.inlineQueue.at(-1).src=s.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title},t.push(r));continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),t.push(r);continue}let i=e;if(this.options.extensions?.startBlock){let s=1/0,a=e.slice(1),o;this.options.extensions.startBlock.forEach(l=>{o=l.call({lexer:this},a),typeof o==\"number\"&&o>=0&&(s=Math.min(s,o))}),s<1/0&&s>=0&&(i=e.substring(0,s+1))}if(this.state.top&&(r=this.tokenizer.paragraph(i))){let s=t.at(-1);n&&s?.type===\"paragraph\"?(s.raw+=(s.raw.endsWith(`\n`)?\"\":`\n`)+r.raw,s.text+=`\n`+r.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=s.text):t.push(r),n=i.length!==e.length,e=e.substring(r.raw.length);continue}if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length);let s=t.at(-1);s?.type===\"text\"?(s.raw+=(s.raw.endsWith(`\n`)?\"\":`\n`)+r.raw,s.text+=`\n`+r.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=s.text):t.push(r);continue}if(e){let s=\"Infinite loop on byte: \"+e.charCodeAt(0);if(this.options.silent){console.error(s);break}else throw new Error(s)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n=e,r=null;if(this.tokens.links){let o=Object.keys(this.tokens.links);if(o.length>0)for(;(r=this.tokenizer.rules.inline.reflinkSearch.exec(n))!=null;)o.includes(r[0].slice(r[0].lastIndexOf(\"[\")+1,-1))&&(n=n.slice(0,r.index)+\"[\"+\"a\".repeat(r[0].length-2)+\"]\"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(r=this.tokenizer.rules.inline.anyPunctuation.exec(n))!=null;)n=n.slice(0,r.index)+\"++\"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let i;for(;(r=this.tokenizer.rules.inline.blockSkip.exec(n))!=null;)i=r[2]?r[2].length:0,n=n.slice(0,r.index+i)+\"[\"+\"a\".repeat(r[0].length-i-2)+\"]\"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);n=this.options.hooks?.emStrongMask?.call({lexer:this},n)??n;let s=!1,a=\"\";for(;e;){s||(a=\"\"),s=!1;let o;if(this.options.extensions?.inline?.some(p=>(o=p.call({lexer:this},e,t))?(e=e.substring(o.raw.length),t.push(o),!0):!1))continue;if(o=this.tokenizer.escape(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.tag(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.link(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(o.raw.length);let p=t.at(-1);o.type===\"text\"&&p?.type===\"text\"?(p.raw+=o.raw,p.text+=o.text):t.push(o);continue}if(o=this.tokenizer.emStrong(e,n,a)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.codespan(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.br(e)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.del(e,n,a)){e=e.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.autolink(e)){e=e.substring(o.raw.length),t.push(o);continue}if(!this.state.inLink&&(o=this.tokenizer.url(e))){e=e.substring(o.raw.length),t.push(o);continue}let l=e;if(this.options.extensions?.startInline){let p=1/0,c=e.slice(1),d;this.options.extensions.startInline.forEach(h=>{d=h.call({lexer:this},c),typeof d==\"number\"&&d>=0&&(p=Math.min(p,d))}),p<1/0&&p>=0&&(l=e.substring(0,p+1))}if(o=this.tokenizer.inlineText(l)){e=e.substring(o.raw.length),o.raw.slice(-1)!==\"_\"&&(a=o.raw.slice(-1)),s=!0;let p=t.at(-1);p?.type===\"text\"?(p.raw+=o.raw,p.text+=o.text):t.push(o);continue}if(e){let p=\"Infinite loop on byte: \"+e.charCodeAt(0);if(this.options.silent){console.error(p);break}else throw new Error(p)}}return t}};var y=class{options;parser;constructor(e){this.options=e||T}space(e){return\"\"}code({text:e,lang:t,escaped:n}){let r=(t||\"\").match(m.notSpaceStart)?.[0],i=e.replace(m.endingNewline,\"\")+`\n`;return r?'<pre><code class=\"language-'+O(r)+'\">'+(n?i:O(i,!0))+`</code></pre>\n`:\"<pre><code>\"+(n?i:O(i,!0))+`</code></pre>\n`}blockquote({tokens:e}){return`<blockquote>\n${this.parser.parse(e)}</blockquote>\n`}html({text:e}){return e}def(e){return\"\"}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>\n`}hr(e){return`<hr>\n`}list(e){let t=e.ordered,n=e.start,r=\"\";for(let a=0;a<e.items.length;a++){let o=e.items[a];r+=this.listitem(o)}let i=t?\"ol\":\"ul\",s=t&&n!==1?' start=\"'+n+'\"':\"\";return\"<\"+i+s+`>\n`+r+\"</\"+i+`>\n`}listitem(e){return`<li>${this.parser.parse(e.tokens)}</li>\n`}checkbox({checked:e}){return\"<input \"+(e?'checked=\"\" ':\"\")+'disabled=\"\" type=\"checkbox\"> '}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>\n`}table(e){let t=\"\",n=\"\";for(let i=0;i<e.header.length;i++)n+=this.tablecell(e.header[i]);t+=this.tablerow({text:n});let r=\"\";for(let i=0;i<e.rows.length;i++){let s=e.rows[i];n=\"\";for(let a=0;a<s.length;a++)n+=this.tablecell(s[a]);r+=this.tablerow({text:n})}return r&&(r=`<tbody>${r}</tbody>`),`<table>\n<thead>\n`+t+`</thead>\n`+r+`</table>\n`}tablerow({text:e}){return`<tr>\n${e}</tr>\n`}tablecell(e){let t=this.parser.parseInline(e.tokens),n=e.header?\"th\":\"td\";return(e.align?`<${n} align=\"${e.align}\">`:`<${n}>`)+t+`</${n}>\n`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${O(e,!0)}</code>`}br(e){return\"<br>\"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:n}){let r=this.parser.parseInline(n),i=X(e);if(i===null)return r;e=i;let s='<a href=\"'+e+'\"';return t&&(s+=' title=\"'+O(t)+'\"'),s+=\">\"+r+\"</a>\",s}image({href:e,title:t,text:n,tokens:r}){r&&(n=this.parser.parseInline(r,this.parser.textRenderer));let i=X(e);if(i===null)return O(n);e=i;let s=`<img src=\"${e}\" alt=\"${O(n)}\"`;return t&&(s+=` title=\"${O(t)}\"`),s+=\">\",s}text(e){return\"tokens\"in e&&e.tokens?this.parser.parseInline(e.tokens):\"escaped\"in e&&e.escaped?e.text:O(e.text)}};var $=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return\"\"+e}image({text:e}){return\"\"+e}br(){return\"\"}checkbox({raw:e}){return e}};var b=class u{options;renderer;textRenderer;constructor(e){this.options=e||T,this.options.renderer=this.options.renderer||new y,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new $}static parse(e,t){return new u(t).parse(e)}static parseInline(e,t){return new u(t).parseInline(e)}parse(e){let t=\"\";for(let n=0;n<e.length;n++){let r=e[n];if(this.options.extensions?.renderers?.[r.type]){let s=r,a=this.options.extensions.renderers[s.type].call({parser:this},s);if(a!==!1||![\"space\",\"hr\",\"heading\",\"code\",\"table\",\"blockquote\",\"list\",\"html\",\"def\",\"paragraph\",\"text\"].includes(s.type)){t+=a||\"\";continue}}let i=r;switch(i.type){case\"space\":{t+=this.renderer.space(i);break}case\"hr\":{t+=this.renderer.hr(i);break}case\"heading\":{t+=this.renderer.heading(i);break}case\"code\":{t+=this.renderer.code(i);break}case\"table\":{t+=this.renderer.table(i);break}case\"blockquote\":{t+=this.renderer.blockquote(i);break}case\"list\":{t+=this.renderer.list(i);break}case\"checkbox\":{t+=this.renderer.checkbox(i);break}case\"html\":{t+=this.renderer.html(i);break}case\"def\":{t+=this.renderer.def(i);break}case\"paragraph\":{t+=this.renderer.paragraph(i);break}case\"text\":{t+=this.renderer.text(i);break}default:{let s='Token with \"'+i.type+'\" type was not found.';if(this.options.silent)return console.error(s),\"\";throw new Error(s)}}}return t}parseInline(e,t=this.renderer){let n=\"\";for(let r=0;r<e.length;r++){let i=e[r];if(this.options.extensions?.renderers?.[i.type]){let a=this.options.extensions.renderers[i.type].call({parser:this},i);if(a!==!1||![\"escape\",\"html\",\"link\",\"image\",\"strong\",\"em\",\"codespan\",\"br\",\"del\",\"text\"].includes(i.type)){n+=a||\"\";continue}}let s=i;switch(s.type){case\"escape\":{n+=t.text(s);break}case\"html\":{n+=t.html(s);break}case\"link\":{n+=t.link(s);break}case\"image\":{n+=t.image(s);break}case\"checkbox\":{n+=t.checkbox(s);break}case\"strong\":{n+=t.strong(s);break}case\"em\":{n+=t.em(s);break}case\"codespan\":{n+=t.codespan(s);break}case\"br\":{n+=t.br(s);break}case\"del\":{n+=t.del(s);break}case\"text\":{n+=t.text(s);break}default:{let a='Token with \"'+s.type+'\" type was not found.';if(this.options.silent)return console.error(a),\"\";throw new Error(a)}}}return n}};var P=class{options;block;constructor(e){this.options=e||T}static passThroughHooks=new Set([\"preprocess\",\"postprocess\",\"processAllTokens\",\"emStrongMask\"]);static passThroughHooksRespectAsync=new Set([\"preprocess\",\"postprocess\",\"processAllTokens\"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}emStrongMask(e){return e}provideLexer(){return this.block?x.lex:x.lexInline}provideParser(){return this.block?b.parse:b.parseInline}};var B=class{defaults=M();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=b;Renderer=y;TextRenderer=$;Lexer=x;Tokenizer=w;Hooks=P;constructor(...e){this.use(...e)}walkTokens(e,t){let n=[];for(let r of e)switch(n=n.concat(t.call(this,r)),r.type){case\"table\":{let i=r;for(let s of i.header)n=n.concat(this.walkTokens(s.tokens,t));for(let s of i.rows)for(let a of s)n=n.concat(this.walkTokens(a.tokens,t));break}case\"list\":{let i=r;n=n.concat(this.walkTokens(i.items,t));break}default:{let i=r;this.defaults.extensions?.childTokens?.[i.type]?this.defaults.extensions.childTokens[i.type].forEach(s=>{let a=i[s].flat(1/0);n=n.concat(this.walkTokens(a,t))}):i.tokens&&(n=n.concat(this.walkTokens(i.tokens,t)))}}return n}use(...e){let t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(n=>{let r={...n};if(r.async=this.defaults.async||r.async||!1,n.extensions&&(n.extensions.forEach(i=>{if(!i.name)throw new Error(\"extension name required\");if(\"renderer\"in i){let s=t.renderers[i.name];s?t.renderers[i.name]=function(...a){let o=i.renderer.apply(this,a);return o===!1&&(o=s.apply(this,a)),o}:t.renderers[i.name]=i.renderer}if(\"tokenizer\"in i){if(!i.level||i.level!==\"block\"&&i.level!==\"inline\")throw new Error(\"extension level must be 'block' or 'inline'\");let s=t[i.level];s?s.unshift(i.tokenizer):t[i.level]=[i.tokenizer],i.start&&(i.level===\"block\"?t.startBlock?t.startBlock.push(i.start):t.startBlock=[i.start]:i.level===\"inline\"&&(t.startInline?t.startInline.push(i.start):t.startInline=[i.start]))}\"childTokens\"in i&&i.childTokens&&(t.childTokens[i.name]=i.childTokens)}),r.extensions=t),n.renderer){let i=this.defaults.renderer||new y(this.defaults);for(let s in n.renderer){if(!(s in i))throw new Error(`renderer '${s}' does not exist`);if([\"options\",\"parser\"].includes(s))continue;let a=s,o=n.renderer[a],l=i[a];i[a]=(...p)=>{let c=o.apply(i,p);return c===!1&&(c=l.apply(i,p)),c||\"\"}}r.renderer=i}if(n.tokenizer){let i=this.defaults.tokenizer||new w(this.defaults);for(let s in n.tokenizer){if(!(s in i))throw new Error(`tokenizer '${s}' does not exist`);if([\"options\",\"rules\",\"lexer\"].includes(s))continue;let a=s,o=n.tokenizer[a],l=i[a];i[a]=(...p)=>{let c=o.apply(i,p);return c===!1&&(c=l.apply(i,p)),c}}r.tokenizer=i}if(n.hooks){let i=this.defaults.hooks||new P;for(let s in n.hooks){if(!(s in i))throw new Error(`hook '${s}' does not exist`);if([\"options\",\"block\"].includes(s))continue;let a=s,o=n.hooks[a],l=i[a];P.passThroughHooks.has(s)?i[a]=p=>{if(this.defaults.async&&P.passThroughHooksRespectAsync.has(s))return(async()=>{let d=await o.call(i,p);return l.call(i,d)})();let c=o.call(i,p);return l.call(i,c)}:i[a]=(...p)=>{if(this.defaults.async)return(async()=>{let d=await o.apply(i,p);return d===!1&&(d=await l.apply(i,p)),d})();let c=o.apply(i,p);return c===!1&&(c=l.apply(i,p)),c}}r.hooks=i}if(n.walkTokens){let i=this.defaults.walkTokens,s=n.walkTokens;r.walkTokens=function(a){let o=[];return o.push(s.call(this,a)),i&&(o=o.concat(i.call(this,a))),o}}this.defaults={...this.defaults,...r}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return x.lex(e,t??this.defaults)}parser(e,t){return b.parse(e,t??this.defaults)}parseMarkdown(e){return(n,r)=>{let i={...r},s={...this.defaults,...i},a=this.onError(!!s.silent,!!s.async);if(this.defaults.async===!0&&i.async===!1)return a(new Error(\"marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise.\"));if(typeof n>\"u\"||n===null)return a(new Error(\"marked(): input parameter is undefined or null\"));if(typeof n!=\"string\")return a(new Error(\"marked(): input parameter is of type \"+Object.prototype.toString.call(n)+\", string expected\"));if(s.hooks&&(s.hooks.options=s,s.hooks.block=e),s.async)return(async()=>{let o=s.hooks?await s.hooks.preprocess(n):n,p=await(s.hooks?await s.hooks.provideLexer():e?x.lex:x.lexInline)(o,s),c=s.hooks?await s.hooks.processAllTokens(p):p;s.walkTokens&&await Promise.all(this.walkTokens(c,s.walkTokens));let h=await(s.hooks?await s.hooks.provideParser():e?b.parse:b.parseInline)(c,s);return s.hooks?await s.hooks.postprocess(h):h})().catch(a);try{s.hooks&&(n=s.hooks.preprocess(n));let l=(s.hooks?s.hooks.provideLexer():e?x.lex:x.lexInline)(n,s);s.hooks&&(l=s.hooks.processAllTokens(l)),s.walkTokens&&this.walkTokens(l,s.walkTokens);let c=(s.hooks?s.hooks.provideParser():e?b.parse:b.parseInline)(l,s);return s.hooks&&(c=s.hooks.postprocess(c)),c}catch(o){return a(o)}}}onError(e,t){return n=>{if(n.message+=`\nPlease report this to https://github.com/markedjs/marked.`,e){let r=\"<p>An error occurred:</p><pre>\"+O(n.message+\"\",!0)+\"</pre>\";return t?Promise.resolve(r):r}if(t)return Promise.reject(n);throw n}}};var L=new B;function g(u,e){return L.parse(u,e)}g.options=g.setOptions=function(u){return L.setOptions(u),g.defaults=L.defaults,H(g.defaults),g};g.getDefaults=M;g.defaults=T;g.use=function(...u){return L.use(...u),g.defaults=L.defaults,H(g.defaults),g};g.walkTokens=function(u,e){return L.walkTokens(u,e)};g.parseInline=L.parseInline;g.Parser=b;g.parser=b.parse;g.Renderer=y;g.TextRenderer=$;g.Lexer=x;g.lexer=x.lex;g.Tokenizer=w;g.Hooks=P;g.parse=g;var Ut=g.options,Kt=g.setOptions,Wt=g.use,Xt=g.walkTokens,Jt=g.parseInline,Vt=g,Yt=b.parse,en=x.lex;export{P as Hooks,x as Lexer,B as Marked,b as Parser,y as Renderer,$ as TextRenderer,w as Tokenizer,T as defaults,M as getDefaults,en as lexer,g as marked,Ut as options,Vt as parse,Jt as parseInline,Yt as parser,Kt as setOptions,Wt as use,Xt as walkTokens};\n//# sourceMappingURL=marked.esm.js.map\n","/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */\n\nconst {\n  entries,\n  setPrototypeOf,\n  isFrozen,\n  getPrototypeOf,\n  getOwnPropertyDescriptor\n} = Object;\nlet {\n  freeze,\n  seal,\n  create\n} = Object; // eslint-disable-line import/no-mutable-exports\nlet {\n  apply,\n  construct\n} = typeof Reflect !== 'undefined' && Reflect;\nif (!freeze) {\n  freeze = function freeze(x) {\n    return x;\n  };\n}\nif (!seal) {\n  seal = function seal(x) {\n    return x;\n  };\n}\nif (!apply) {\n  apply = function apply(func, thisArg) {\n    for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n      args[_key - 2] = arguments[_key];\n    }\n    return func.apply(thisArg, args);\n  };\n}\nif (!construct) {\n  construct = function construct(Func) {\n    for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n      args[_key2 - 1] = arguments[_key2];\n    }\n    return new Func(...args);\n  };\n}\nconst arrayForEach = unapply(Array.prototype.forEach);\nconst arrayLastIndexOf = unapply(Array.prototype.lastIndexOf);\nconst arrayPop = unapply(Array.prototype.pop);\nconst arrayPush = unapply(Array.prototype.push);\nconst arraySplice = unapply(Array.prototype.splice);\nconst stringToLowerCase = unapply(String.prototype.toLowerCase);\nconst stringToString = unapply(String.prototype.toString);\nconst stringMatch = unapply(String.prototype.match);\nconst stringReplace = unapply(String.prototype.replace);\nconst stringIndexOf = unapply(String.prototype.indexOf);\nconst stringTrim = unapply(String.prototype.trim);\nconst objectHasOwnProperty = unapply(Object.prototype.hasOwnProperty);\nconst regExpTest = unapply(RegExp.prototype.test);\nconst typeErrorCreate = unconstruct(TypeError);\n/**\n * Creates a new function that calls the given function with a specified thisArg and arguments.\n *\n * @param func - The function to be wrapped and called.\n * @returns A new function that calls the given function with a specified thisArg and arguments.\n */\nfunction unapply(func) {\n  return function (thisArg) {\n    if (thisArg instanceof RegExp) {\n      thisArg.lastIndex = 0;\n    }\n    for (var _len3 = arguments.length, args = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n      args[_key3 - 1] = arguments[_key3];\n    }\n    return apply(func, thisArg, args);\n  };\n}\n/**\n * Creates a new function that constructs an instance of the given constructor function with the provided arguments.\n *\n * @param func - The constructor function to be wrapped and called.\n * @returns A new function that constructs an instance of the given constructor function with the provided arguments.\n */\nfunction unconstruct(Func) {\n  return function () {\n    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n      args[_key4] = arguments[_key4];\n    }\n    return construct(Func, args);\n  };\n}\n/**\n * Add properties to a lookup table\n *\n * @param set - The set to which elements will be added.\n * @param array - The array containing elements to be added to the set.\n * @param transformCaseFunc - An optional function to transform the case of each element before adding to the set.\n * @returns The modified set with added elements.\n */\nfunction addToSet(set, array) {\n  let transformCaseFunc = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : stringToLowerCase;\n  if (setPrototypeOf) {\n    // Make 'in' and truthy checks like Boolean(set.constructor)\n    // independent of any properties defined on Object.prototype.\n    // Prevent prototype setters from intercepting set as a this value.\n    setPrototypeOf(set, null);\n  }\n  let l = array.length;\n  while (l--) {\n    let element = array[l];\n    if (typeof element === 'string') {\n      const lcElement = transformCaseFunc(element);\n      if (lcElement !== element) {\n        // Config presets (e.g. tags.js, attrs.js) are immutable.\n        if (!isFrozen(array)) {\n          array[l] = lcElement;\n        }\n        element = lcElement;\n      }\n    }\n    set[element] = true;\n  }\n  return set;\n}\n/**\n * Clean up an array to harden against CSPP\n *\n * @param array - The array to be cleaned.\n * @returns The cleaned version of the array\n */\nfunction cleanArray(array) {\n  for (let index = 0; index < array.length; index++) {\n    const isPropertyExist = objectHasOwnProperty(array, index);\n    if (!isPropertyExist) {\n      array[index] = null;\n    }\n  }\n  return array;\n}\n/**\n * Shallow clone an object\n *\n * @param object - The object to be cloned.\n * @returns A new object that copies the original.\n */\nfunction clone(object) {\n  const newObject = create(null);\n  for (const [property, value] of entries(object)) {\n    const isPropertyExist = objectHasOwnProperty(object, property);\n    if (isPropertyExist) {\n      if (Array.isArray(value)) {\n        newObject[property] = cleanArray(value);\n      } else if (value && typeof value === 'object' && value.constructor === Object) {\n        newObject[property] = clone(value);\n      } else {\n        newObject[property] = value;\n      }\n    }\n  }\n  return newObject;\n}\n/**\n * This method automatically checks if the prop is function or getter and behaves accordingly.\n *\n * @param object - The object to look up the getter function in its prototype chain.\n * @param prop - The property name for which to find the getter function.\n * @returns The getter function found in the prototype chain or a fallback function.\n */\nfunction lookupGetter(object, prop) {\n  while (object !== null) {\n    const desc = getOwnPropertyDescriptor(object, prop);\n    if (desc) {\n      if (desc.get) {\n        return unapply(desc.get);\n      }\n      if (typeof desc.value === 'function') {\n        return unapply(desc.value);\n      }\n    }\n    object = getPrototypeOf(object);\n  }\n  function fallbackValue() {\n    return null;\n  }\n  return fallbackValue;\n}\n\nconst html$1 = freeze(['a', 'abbr', 'acronym', 'address', 'area', 'article', 'aside', 'audio', 'b', 'bdi', 'bdo', 'big', 'blink', 'blockquote', 'body', 'br', 'button', 'canvas', 'caption', 'center', 'cite', 'code', 'col', 'colgroup', 'content', 'data', 'datalist', 'dd', 'decorator', 'del', 'details', 'dfn', 'dialog', 'dir', 'div', 'dl', 'dt', 'element', 'em', 'fieldset', 'figcaption', 'figure', 'font', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'head', 'header', 'hgroup', 'hr', 'html', 'i', 'img', 'input', 'ins', 'kbd', 'label', 'legend', 'li', 'main', 'map', 'mark', 'marquee', 'menu', 'menuitem', 'meter', 'nav', 'nobr', 'ol', 'optgroup', 'option', 'output', 'p', 'picture', 'pre', 'progress', 'q', 'rp', 'rt', 'ruby', 's', 'samp', 'search', 'section', 'select', 'shadow', 'slot', 'small', 'source', 'spacer', 'span', 'strike', 'strong', 'style', 'sub', 'summary', 'sup', 'table', 'tbody', 'td', 'template', 'textarea', 'tfoot', 'th', 'thead', 'time', 'tr', 'track', 'tt', 'u', 'ul', 'var', 'video', 'wbr']);\nconst svg$1 = freeze(['svg', 'a', 'altglyph', 'altglyphdef', 'altglyphitem', 'animatecolor', 'animatemotion', 'animatetransform', 'circle', 'clippath', 'defs', 'desc', 'ellipse', 'enterkeyhint', 'exportparts', 'filter', 'font', 'g', 'glyph', 'glyphref', 'hkern', 'image', 'inputmode', 'line', 'lineargradient', 'marker', 'mask', 'metadata', 'mpath', 'part', 'path', 'pattern', 'polygon', 'polyline', 'radialgradient', 'rect', 'stop', 'style', 'switch', 'symbol', 'text', 'textpath', 'title', 'tref', 'tspan', 'view', 'vkern']);\nconst svgFilters = freeze(['feBlend', 'feColorMatrix', 'feComponentTransfer', 'feComposite', 'feConvolveMatrix', 'feDiffuseLighting', 'feDisplacementMap', 'feDistantLight', 'feDropShadow', 'feFlood', 'feFuncA', 'feFuncB', 'feFuncG', 'feFuncR', 'feGaussianBlur', 'feImage', 'feMerge', 'feMergeNode', 'feMorphology', 'feOffset', 'fePointLight', 'feSpecularLighting', 'feSpotLight', 'feTile', 'feTurbulence']);\n// List of SVG elements that are disallowed by default.\n// We still need to know them so that we can do namespace\n// checks properly in case one wants to add them to\n// allow-list.\nconst svgDisallowed = freeze(['animate', 'color-profile', 'cursor', 'discard', 'font-face', 'font-face-format', 'font-face-name', 'font-face-src', 'font-face-uri', 'foreignobject', 'hatch', 'hatchpath', 'mesh', 'meshgradient', 'meshpatch', 'meshrow', 'missing-glyph', 'script', 'set', 'solidcolor', 'unknown', 'use']);\nconst mathMl$1 = freeze(['math', 'menclose', 'merror', 'mfenced', 'mfrac', 'mglyph', 'mi', 'mlabeledtr', 'mmultiscripts', 'mn', 'mo', 'mover', 'mpadded', 'mphantom', 'mroot', 'mrow', 'ms', 'mspace', 'msqrt', 'mstyle', 'msub', 'msup', 'msubsup', 'mtable', 'mtd', 'mtext', 'mtr', 'munder', 'munderover', 'mprescripts']);\n// Similarly to SVG, we want to know all MathML elements,\n// even those that we disallow by default.\nconst mathMlDisallowed = freeze(['maction', 'maligngroup', 'malignmark', 'mlongdiv', 'mscarries', 'mscarry', 'msgroup', 'mstack', 'msline', 'msrow', 'semantics', 'annotation', 'annotation-xml', 'mprescripts', 'none']);\nconst text = freeze(['#text']);\n\nconst html = freeze(['accept', 'action', 'align', 'alt', 'autocapitalize', 'autocomplete', 'autopictureinpicture', 'autoplay', 'background', 'bgcolor', 'border', 'capture', 'cellpadding', 'cellspacing', 'checked', 'cite', 'class', 'clear', 'color', 'cols', 'colspan', 'controls', 'controlslist', 'coords', 'crossorigin', 'datetime', 'decoding', 'default', 'dir', 'disabled', 'disablepictureinpicture', 'disableremoteplayback', 'download', 'draggable', 'enctype', 'enterkeyhint', 'exportparts', 'face', 'for', 'headers', 'height', 'hidden', 'high', 'href', 'hreflang', 'id', 'inert', 'inputmode', 'integrity', 'ismap', 'kind', 'label', 'lang', 'list', 'loading', 'loop', 'low', 'max', 'maxlength', 'media', 'method', 'min', 'minlength', 'multiple', 'muted', 'name', 'nonce', 'noshade', 'novalidate', 'nowrap', 'open', 'optimum', 'part', 'pattern', 'placeholder', 'playsinline', 'popover', 'popovertarget', 'popovertargetaction', 'poster', 'preload', 'pubdate', 'radiogroup', 'readonly', 'rel', 'required', 'rev', 'reversed', 'role', 'rows', 'rowspan', 'spellcheck', 'scope', 'selected', 'shape', 'size', 'sizes', 'slot', 'span', 'srclang', 'start', 'src', 'srcset', 'step', 'style', 'summary', 'tabindex', 'title', 'translate', 'type', 'usemap', 'valign', 'value', 'width', 'wrap', 'xmlns', 'slot']);\nconst svg = freeze(['accent-height', 'accumulate', 'additive', 'alignment-baseline', 'amplitude', 'ascent', 'attributename', 'attributetype', 'azimuth', 'basefrequency', 'baseline-shift', 'begin', 'bias', 'by', 'class', 'clip', 'clippathunits', 'clip-path', 'clip-rule', 'color', 'color-interpolation', 'color-interpolation-filters', 'color-profile', 'color-rendering', 'cx', 'cy', 'd', 'dx', 'dy', 'diffuseconstant', 'direction', 'display', 'divisor', 'dur', 'edgemode', 'elevation', 'end', 'exponent', 'fill', 'fill-opacity', 'fill-rule', 'filter', 'filterunits', 'flood-color', 'flood-opacity', 'font-family', 'font-size', 'font-size-adjust', 'font-stretch', 'font-style', 'font-variant', 'font-weight', 'fx', 'fy', 'g1', 'g2', 'glyph-name', 'glyphref', 'gradientunits', 'gradienttransform', 'height', 'href', 'id', 'image-rendering', 'in', 'in2', 'intercept', 'k', 'k1', 'k2', 'k3', 'k4', 'kerning', 'keypoints', 'keysplines', 'keytimes', 'lang', 'lengthadjust', 'letter-spacing', 'kernelmatrix', 'kernelunitlength', 'lighting-color', 'local', 'marker-end', 'marker-mid', 'marker-start', 'markerheight', 'markerunits', 'markerwidth', 'maskcontentunits', 'maskunits', 'max', 'mask', 'mask-type', 'media', 'method', 'mode', 'min', 'name', 'numoctaves', 'offset', 'operator', 'opacity', 'order', 'orient', 'orientation', 'origin', 'overflow', 'paint-order', 'path', 'pathlength', 'patterncontentunits', 'patterntransform', 'patternunits', 'points', 'preservealpha', 'preserveaspectratio', 'primitiveunits', 'r', 'rx', 'ry', 'radius', 'refx', 'refy', 'repeatcount', 'repeatdur', 'restart', 'result', 'rotate', 'scale', 'seed', 'shape-rendering', 'slope', 'specularconstant', 'specularexponent', 'spreadmethod', 'startoffset', 'stddeviation', 'stitchtiles', 'stop-color', 'stop-opacity', 'stroke-dasharray', 'stroke-dashoffset', 'stroke-linecap', 'stroke-linejoin', 'stroke-miterlimit', 'stroke-opacity', 'stroke', 'stroke-width', 'style', 'surfacescale', 'systemlanguage', 'tabindex', 'tablevalues', 'targetx', 'targety', 'transform', 'transform-origin', 'text-anchor', 'text-decoration', 'text-rendering', 'textlength', 'type', 'u1', 'u2', 'unicode', 'values', 'viewbox', 'visibility', 'version', 'vert-adv-y', 'vert-origin-x', 'vert-origin-y', 'width', 'word-spacing', 'wrap', 'writing-mode', 'xchannelselector', 'ychannelselector', 'x', 'x1', 'x2', 'xmlns', 'y', 'y1', 'y2', 'z', 'zoomandpan']);\nconst mathMl = freeze(['accent', 'accentunder', 'align', 'bevelled', 'close', 'columnsalign', 'columnlines', 'columnspan', 'denomalign', 'depth', 'dir', 'display', 'displaystyle', 'encoding', 'fence', 'frame', 'height', 'href', 'id', 'largeop', 'length', 'linethickness', 'lspace', 'lquote', 'mathbackground', 'mathcolor', 'mathsize', 'mathvariant', 'maxsize', 'minsize', 'movablelimits', 'notation', 'numalign', 'open', 'rowalign', 'rowlines', 'rowspacing', 'rowspan', 'rspace', 'rquote', 'scriptlevel', 'scriptminsize', 'scriptsizemultiplier', 'selection', 'separator', 'separators', 'stretchy', 'subscriptshift', 'supscriptshift', 'symmetric', 'voffset', 'width', 'xmlns']);\nconst xml = freeze(['xlink:href', 'xml:id', 'xlink:title', 'xml:space', 'xmlns:xlink']);\n\n// eslint-disable-next-line unicorn/better-regex\nconst MUSTACHE_EXPR = seal(/\\{\\{[\\w\\W]*|[\\w\\W]*\\}\\}/gm); // Specify template detection regex for SAFE_FOR_TEMPLATES mode\nconst ERB_EXPR = seal(/<%[\\w\\W]*|[\\w\\W]*%>/gm);\nconst TMPLIT_EXPR = seal(/\\$\\{[\\w\\W]*/gm); // eslint-disable-line unicorn/better-regex\nconst DATA_ATTR = seal(/^data-[\\-\\w.\\u00B7-\\uFFFF]+$/); // eslint-disable-line no-useless-escape\nconst ARIA_ATTR = seal(/^aria-[\\-\\w]+$/); // eslint-disable-line no-useless-escape\nconst IS_ALLOWED_URI = seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i // eslint-disable-line no-useless-escape\n);\nconst IS_SCRIPT_OR_DATA = seal(/^(?:\\w+script|data):/i);\nconst ATTR_WHITESPACE = seal(/[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g // eslint-disable-line no-control-regex\n);\nconst DOCTYPE_NAME = seal(/^html$/i);\nconst CUSTOM_ELEMENT = seal(/^[a-z][.\\w]*(-[.\\w]+)+$/i);\n\nvar EXPRESSIONS = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  ARIA_ATTR: ARIA_ATTR,\n  ATTR_WHITESPACE: ATTR_WHITESPACE,\n  CUSTOM_ELEMENT: CUSTOM_ELEMENT,\n  DATA_ATTR: DATA_ATTR,\n  DOCTYPE_NAME: DOCTYPE_NAME,\n  ERB_EXPR: ERB_EXPR,\n  IS_ALLOWED_URI: IS_ALLOWED_URI,\n  IS_SCRIPT_OR_DATA: IS_SCRIPT_OR_DATA,\n  MUSTACHE_EXPR: MUSTACHE_EXPR,\n  TMPLIT_EXPR: TMPLIT_EXPR\n});\n\n/* eslint-disable @typescript-eslint/indent */\n// https://developer.mozilla.org/en-US/docs/Web/API/Node/nodeType\nconst NODE_TYPE = {\n  element: 1,\n  attribute: 2,\n  text: 3,\n  cdataSection: 4,\n  entityReference: 5,\n  // Deprecated\n  entityNode: 6,\n  // Deprecated\n  progressingInstruction: 7,\n  comment: 8,\n  document: 9,\n  documentType: 10,\n  documentFragment: 11,\n  notation: 12 // Deprecated\n};\nconst getGlobal = function getGlobal() {\n  return typeof window === 'undefined' ? null : window;\n};\n/**\n * Creates a no-op policy for internal use only.\n * Don't export this function outside this module!\n * @param trustedTypes The policy factory.\n * @param purifyHostElement The Script element used to load DOMPurify (to determine policy name suffix).\n * @return The policy created (or null, if Trusted Types\n * are not supported or creating the policy failed).\n */\nconst _createTrustedTypesPolicy = function _createTrustedTypesPolicy(trustedTypes, purifyHostElement) {\n  if (typeof trustedTypes !== 'object' || typeof trustedTypes.createPolicy !== 'function') {\n    return null;\n  }\n  // Allow the callers to control the unique policy name\n  // by adding a data-tt-policy-suffix to the script element with the DOMPurify.\n  // Policy creation with duplicate names throws in Trusted Types.\n  let suffix = null;\n  const ATTR_NAME = 'data-tt-policy-suffix';\n  if (purifyHostElement && purifyHostElement.hasAttribute(ATTR_NAME)) {\n    suffix = purifyHostElement.getAttribute(ATTR_NAME);\n  }\n  const policyName = 'dompurify' + (suffix ? '#' + suffix : '');\n  try {\n    return trustedTypes.createPolicy(policyName, {\n      createHTML(html) {\n        return html;\n      },\n      createScriptURL(scriptUrl) {\n        return scriptUrl;\n      }\n    });\n  } catch (_) {\n    // Policy creation failed (most likely another DOMPurify script has\n    // already run). Skip creating the policy, as this will only cause errors\n    // if TT are enforced.\n    console.warn('TrustedTypes policy ' + policyName + ' could not be created.');\n    return null;\n  }\n};\nconst _createHooksMap = function _createHooksMap() {\n  return {\n    afterSanitizeAttributes: [],\n    afterSanitizeElements: [],\n    afterSanitizeShadowDOM: [],\n    beforeSanitizeAttributes: [],\n    beforeSanitizeElements: [],\n    beforeSanitizeShadowDOM: [],\n    uponSanitizeAttribute: [],\n    uponSanitizeElement: [],\n    uponSanitizeShadowNode: []\n  };\n};\nfunction createDOMPurify() {\n  let window = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : getGlobal();\n  const DOMPurify = root => createDOMPurify(root);\n  DOMPurify.version = '3.3.1';\n  DOMPurify.removed = [];\n  if (!window || !window.document || window.document.nodeType !== NODE_TYPE.document || !window.Element) {\n    // Not running in a browser, provide a factory function\n    // so that you can pass your own Window\n    DOMPurify.isSupported = false;\n    return DOMPurify;\n  }\n  let {\n    document\n  } = window;\n  const originalDocument = document;\n  const currentScript = originalDocument.currentScript;\n  const {\n    DocumentFragment,\n    HTMLTemplateElement,\n    Node,\n    Element,\n    NodeFilter,\n    NamedNodeMap = window.NamedNodeMap || window.MozNamedAttrMap,\n    HTMLFormElement,\n    DOMParser,\n    trustedTypes\n  } = window;\n  const ElementPrototype = Element.prototype;\n  const cloneNode = lookupGetter(ElementPrototype, 'cloneNode');\n  const remove = lookupGetter(ElementPrototype, 'remove');\n  const getNextSibling = lookupGetter(ElementPrototype, 'nextSibling');\n  const getChildNodes = lookupGetter(ElementPrototype, 'childNodes');\n  const getParentNode = lookupGetter(ElementPrototype, 'parentNode');\n  // As per issue #47, the web-components registry is inherited by a\n  // new document created via createHTMLDocument. As per the spec\n  // (http://w3c.github.io/webcomponents/spec/custom/#creating-and-passing-registries)\n  // a new empty registry is used when creating a template contents owner\n  // document, so we use that as our parent document to ensure nothing\n  // is inherited.\n  if (typeof HTMLTemplateElement === 'function') {\n    const template = document.createElement('template');\n    if (template.content && template.content.ownerDocument) {\n      document = template.content.ownerDocument;\n    }\n  }\n  let trustedTypesPolicy;\n  let emptyHTML = '';\n  const {\n    implementation,\n    createNodeIterator,\n    createDocumentFragment,\n    getElementsByTagName\n  } = document;\n  const {\n    importNode\n  } = originalDocument;\n  let hooks = _createHooksMap();\n  /**\n   * Expose whether this browser supports running the full DOMPurify.\n   */\n  DOMPurify.isSupported = typeof entries === 'function' && typeof getParentNode === 'function' && implementation && implementation.createHTMLDocument !== undefined;\n  const {\n    MUSTACHE_EXPR,\n    ERB_EXPR,\n    TMPLIT_EXPR,\n    DATA_ATTR,\n    ARIA_ATTR,\n    IS_SCRIPT_OR_DATA,\n    ATTR_WHITESPACE,\n    CUSTOM_ELEMENT\n  } = EXPRESSIONS;\n  let {\n    IS_ALLOWED_URI: IS_ALLOWED_URI$1\n  } = EXPRESSIONS;\n  /**\n   * We consider the elements and attributes below to be safe. Ideally\n   * don't add any new ones but feel free to remove unwanted ones.\n   */\n  /* allowed element names */\n  let ALLOWED_TAGS = null;\n  const DEFAULT_ALLOWED_TAGS = addToSet({}, [...html$1, ...svg$1, ...svgFilters, ...mathMl$1, ...text]);\n  /* Allowed attribute names */\n  let ALLOWED_ATTR = null;\n  const DEFAULT_ALLOWED_ATTR = addToSet({}, [...html, ...svg, ...mathMl, ...xml]);\n  /*\n   * Configure how DOMPurify should handle custom elements and their attributes as well as customized built-in elements.\n   * @property {RegExp|Function|null} tagNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any custom elements)\n   * @property {RegExp|Function|null} attributeNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any attributes not on the allow list)\n   * @property {boolean} allowCustomizedBuiltInElements allow custom elements derived from built-ins if they pass CUSTOM_ELEMENT_HANDLING.tagNameCheck. Default: `false`.\n   */\n  let CUSTOM_ELEMENT_HANDLING = Object.seal(create(null, {\n    tagNameCheck: {\n      writable: true,\n      configurable: false,\n      enumerable: true,\n      value: null\n    },\n    attributeNameCheck: {\n      writable: true,\n      configurable: false,\n      enumerable: true,\n      value: null\n    },\n    allowCustomizedBuiltInElements: {\n      writable: true,\n      configurable: false,\n      enumerable: true,\n      value: false\n    }\n  }));\n  /* Explicitly forbidden tags (overrides ALLOWED_TAGS/ADD_TAGS) */\n  let FORBID_TAGS = null;\n  /* Explicitly forbidden attributes (overrides ALLOWED_ATTR/ADD_ATTR) */\n  let FORBID_ATTR = null;\n  /* Config object to store ADD_TAGS/ADD_ATTR functions (when used as functions) */\n  const EXTRA_ELEMENT_HANDLING = Object.seal(create(null, {\n    tagCheck: {\n      writable: true,\n      configurable: false,\n      enumerable: true,\n      value: null\n    },\n    attributeCheck: {\n      writable: true,\n      configurable: false,\n      enumerable: true,\n      value: null\n    }\n  }));\n  /* Decide if ARIA attributes are okay */\n  let ALLOW_ARIA_ATTR = true;\n  /* Decide if custom data attributes are okay */\n  let ALLOW_DATA_ATTR = true;\n  /* Decide if unknown protocols are okay */\n  let ALLOW_UNKNOWN_PROTOCOLS = false;\n  /* Decide if self-closing tags in attributes are allowed.\n   * Usually removed due to a mXSS issue in jQuery 3.0 */\n  let ALLOW_SELF_CLOSE_IN_ATTR = true;\n  /* Output should be safe for common template engines.\n   * This means, DOMPurify removes data attributes, mustaches and ERB\n   */\n  let SAFE_FOR_TEMPLATES = false;\n  /* Output should be safe even for XML used within HTML and alike.\n   * This means, DOMPurify removes comments when containing risky content.\n   */\n  let SAFE_FOR_XML = true;\n  /* Decide if document with <html>... should be returned */\n  let WHOLE_DOCUMENT = false;\n  /* Track whether config is already set on this instance of DOMPurify. */\n  let SET_CONFIG = false;\n  /* Decide if all elements (e.g. style, script) must be children of\n   * document.body. By default, browsers might move them to document.head */\n  let FORCE_BODY = false;\n  /* Decide if a DOM `HTMLBodyElement` should be returned, instead of a html\n   * string (or a TrustedHTML object if Trusted Types are supported).\n   * If `WHOLE_DOCUMENT` is enabled a `HTMLHtmlElement` will be returned instead\n   */\n  let RETURN_DOM = false;\n  /* Decide if a DOM `DocumentFragment` should be returned, instead of a html\n   * string  (or a TrustedHTML object if Trusted Types are supported) */\n  let RETURN_DOM_FRAGMENT = false;\n  /* Try to return a Trusted Type object instead of a string, return a string in\n   * case Trusted Types are not supported  */\n  let RETURN_TRUSTED_TYPE = false;\n  /* Output should be free from DOM clobbering attacks?\n   * This sanitizes markups named with colliding, clobberable built-in DOM APIs.\n   */\n  let SANITIZE_DOM = true;\n  /* Achieve full DOM Clobbering protection by isolating the namespace of named\n   * properties and JS variables, mitigating attacks that abuse the HTML/DOM spec rules.\n   *\n   * HTML/DOM spec rules that enable DOM Clobbering:\n   *   - Named Access on Window (7.3.3)\n   *   - DOM Tree Accessors (3.1.5)\n   *   - Form Element Parent-Child Relations (4.10.3)\n   *   - Iframe srcdoc / Nested WindowProxies (4.8.5)\n   *   - HTMLCollection (4.2.10.2)\n   *\n   * Namespace isolation is implemented by prefixing `id` and `name` attributes\n   * with a constant string, i.e., `user-content-`\n   */\n  let SANITIZE_NAMED_PROPS = false;\n  const SANITIZE_NAMED_PROPS_PREFIX = 'user-content-';\n  /* Keep element content when removing element? */\n  let KEEP_CONTENT = true;\n  /* If a `Node` is passed to sanitize(), then performs sanitization in-place instead\n   * of importing it into a new Document and returning a sanitized copy */\n  let IN_PLACE = false;\n  /* Allow usage of profiles like html, svg and mathMl */\n  let USE_PROFILES = {};\n  /* Tags to ignore content of when KEEP_CONTENT is true */\n  let FORBID_CONTENTS = null;\n  const DEFAULT_FORBID_CONTENTS = addToSet({}, ['annotation-xml', 'audio', 'colgroup', 'desc', 'foreignobject', 'head', 'iframe', 'math', 'mi', 'mn', 'mo', 'ms', 'mtext', 'noembed', 'noframes', 'noscript', 'plaintext', 'script', 'style', 'svg', 'template', 'thead', 'title', 'video', 'xmp']);\n  /* Tags that are safe for data: URIs */\n  let DATA_URI_TAGS = null;\n  const DEFAULT_DATA_URI_TAGS = addToSet({}, ['audio', 'video', 'img', 'source', 'image', 'track']);\n  /* Attributes safe for values like \"javascript:\" */\n  let URI_SAFE_ATTRIBUTES = null;\n  const DEFAULT_URI_SAFE_ATTRIBUTES = addToSet({}, ['alt', 'class', 'for', 'id', 'label', 'name', 'pattern', 'placeholder', 'role', 'summary', 'title', 'value', 'style', 'xmlns']);\n  const MATHML_NAMESPACE = 'http://www.w3.org/1998/Math/MathML';\n  const SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\n  const HTML_NAMESPACE = 'http://www.w3.org/1999/xhtml';\n  /* Document namespace */\n  let NAMESPACE = HTML_NAMESPACE;\n  let IS_EMPTY_INPUT = false;\n  /* Allowed XHTML+XML namespaces */\n  let ALLOWED_NAMESPACES = null;\n  const DEFAULT_ALLOWED_NAMESPACES = addToSet({}, [MATHML_NAMESPACE, SVG_NAMESPACE, HTML_NAMESPACE], stringToString);\n  let MATHML_TEXT_INTEGRATION_POINTS = addToSet({}, ['mi', 'mo', 'mn', 'ms', 'mtext']);\n  let HTML_INTEGRATION_POINTS = addToSet({}, ['annotation-xml']);\n  // Certain elements are allowed in both SVG and HTML\n  // namespace. We need to specify them explicitly\n  // so that they don't get erroneously deleted from\n  // HTML namespace.\n  const COMMON_SVG_AND_HTML_ELEMENTS = addToSet({}, ['title', 'style', 'font', 'a', 'script']);\n  /* Parsing of strict XHTML documents */\n  let PARSER_MEDIA_TYPE = null;\n  const SUPPORTED_PARSER_MEDIA_TYPES = ['application/xhtml+xml', 'text/html'];\n  const DEFAULT_PARSER_MEDIA_TYPE = 'text/html';\n  let transformCaseFunc = null;\n  /* Keep a reference to config to pass to hooks */\n  let CONFIG = null;\n  /* Ideally, do not touch anything below this line */\n  /* ______________________________________________ */\n  const formElement = document.createElement('form');\n  const isRegexOrFunction = function isRegexOrFunction(testValue) {\n    return testValue instanceof RegExp || testValue instanceof Function;\n  };\n  /**\n   * _parseConfig\n   *\n   * @param cfg optional config literal\n   */\n  // eslint-disable-next-line complexity\n  const _parseConfig = function _parseConfig() {\n    let cfg = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    if (CONFIG && CONFIG === cfg) {\n      return;\n    }\n    /* Shield configuration object from tampering */\n    if (!cfg || typeof cfg !== 'object') {\n      cfg = {};\n    }\n    /* Shield configuration object from prototype pollution */\n    cfg = clone(cfg);\n    PARSER_MEDIA_TYPE =\n    // eslint-disable-next-line unicorn/prefer-includes\n    SUPPORTED_PARSER_MEDIA_TYPES.indexOf(cfg.PARSER_MEDIA_TYPE) === -1 ? DEFAULT_PARSER_MEDIA_TYPE : cfg.PARSER_MEDIA_TYPE;\n    // HTML tags and attributes are not case-sensitive, converting to lowercase. Keeping XHTML as is.\n    transformCaseFunc = PARSER_MEDIA_TYPE === 'application/xhtml+xml' ? stringToString : stringToLowerCase;\n    /* Set configuration parameters */\n    ALLOWED_TAGS = objectHasOwnProperty(cfg, 'ALLOWED_TAGS') ? addToSet({}, cfg.ALLOWED_TAGS, transformCaseFunc) : DEFAULT_ALLOWED_TAGS;\n    ALLOWED_ATTR = objectHasOwnProperty(cfg, 'ALLOWED_ATTR') ? addToSet({}, cfg.ALLOWED_ATTR, transformCaseFunc) : DEFAULT_ALLOWED_ATTR;\n    ALLOWED_NAMESPACES = objectHasOwnProperty(cfg, 'ALLOWED_NAMESPACES') ? addToSet({}, cfg.ALLOWED_NAMESPACES, stringToString) : DEFAULT_ALLOWED_NAMESPACES;\n    URI_SAFE_ATTRIBUTES = objectHasOwnProperty(cfg, 'ADD_URI_SAFE_ATTR') ? addToSet(clone(DEFAULT_URI_SAFE_ATTRIBUTES), cfg.ADD_URI_SAFE_ATTR, transformCaseFunc) : DEFAULT_URI_SAFE_ATTRIBUTES;\n    DATA_URI_TAGS = objectHasOwnProperty(cfg, 'ADD_DATA_URI_TAGS') ? addToSet(clone(DEFAULT_DATA_URI_TAGS), cfg.ADD_DATA_URI_TAGS, transformCaseFunc) : DEFAULT_DATA_URI_TAGS;\n    FORBID_CONTENTS = objectHasOwnProperty(cfg, 'FORBID_CONTENTS') ? addToSet({}, cfg.FORBID_CONTENTS, transformCaseFunc) : DEFAULT_FORBID_CONTENTS;\n    FORBID_TAGS = objectHasOwnProperty(cfg, 'FORBID_TAGS') ? addToSet({}, cfg.FORBID_TAGS, transformCaseFunc) : clone({});\n    FORBID_ATTR = objectHasOwnProperty(cfg, 'FORBID_ATTR') ? addToSet({}, cfg.FORBID_ATTR, transformCaseFunc) : clone({});\n    USE_PROFILES = objectHasOwnProperty(cfg, 'USE_PROFILES') ? cfg.USE_PROFILES : false;\n    ALLOW_ARIA_ATTR = cfg.ALLOW_ARIA_ATTR !== false; // Default true\n    ALLOW_DATA_ATTR = cfg.ALLOW_DATA_ATTR !== false; // Default true\n    ALLOW_UNKNOWN_PROTOCOLS = cfg.ALLOW_UNKNOWN_PROTOCOLS || false; // Default false\n    ALLOW_SELF_CLOSE_IN_ATTR = cfg.ALLOW_SELF_CLOSE_IN_ATTR !== false; // Default true\n    SAFE_FOR_TEMPLATES = cfg.SAFE_FOR_TEMPLATES || false; // Default false\n    SAFE_FOR_XML = cfg.SAFE_FOR_XML !== false; // Default true\n    WHOLE_DOCUMENT = cfg.WHOLE_DOCUMENT || false; // Default false\n    RETURN_DOM = cfg.RETURN_DOM || false; // Default false\n    RETURN_DOM_FRAGMENT = cfg.RETURN_DOM_FRAGMENT || false; // Default false\n    RETURN_TRUSTED_TYPE = cfg.RETURN_TRUSTED_TYPE || false; // Default false\n    FORCE_BODY = cfg.FORCE_BODY || false; // Default false\n    SANITIZE_DOM = cfg.SANITIZE_DOM !== false; // Default true\n    SANITIZE_NAMED_PROPS = cfg.SANITIZE_NAMED_PROPS || false; // Default false\n    KEEP_CONTENT = cfg.KEEP_CONTENT !== false; // Default true\n    IN_PLACE = cfg.IN_PLACE || false; // Default false\n    IS_ALLOWED_URI$1 = cfg.ALLOWED_URI_REGEXP || IS_ALLOWED_URI;\n    NAMESPACE = cfg.NAMESPACE || HTML_NAMESPACE;\n    MATHML_TEXT_INTEGRATION_POINTS = cfg.MATHML_TEXT_INTEGRATION_POINTS || MATHML_TEXT_INTEGRATION_POINTS;\n    HTML_INTEGRATION_POINTS = cfg.HTML_INTEGRATION_POINTS || HTML_INTEGRATION_POINTS;\n    CUSTOM_ELEMENT_HANDLING = cfg.CUSTOM_ELEMENT_HANDLING || {};\n    if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck)) {\n      CUSTOM_ELEMENT_HANDLING.tagNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck;\n    }\n    if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)) {\n      CUSTOM_ELEMENT_HANDLING.attributeNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck;\n    }\n    if (cfg.CUSTOM_ELEMENT_HANDLING && typeof cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements === 'boolean') {\n      CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements = cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements;\n    }\n    if (SAFE_FOR_TEMPLATES) {\n      ALLOW_DATA_ATTR = false;\n    }\n    if (RETURN_DOM_FRAGMENT) {\n      RETURN_DOM = true;\n    }\n    /* Parse profile info */\n    if (USE_PROFILES) {\n      ALLOWED_TAGS = addToSet({}, text);\n      ALLOWED_ATTR = [];\n      if (USE_PROFILES.html === true) {\n        addToSet(ALLOWED_TAGS, html$1);\n        addToSet(ALLOWED_ATTR, html);\n      }\n      if (USE_PROFILES.svg === true) {\n        addToSet(ALLOWED_TAGS, svg$1);\n        addToSet(ALLOWED_ATTR, svg);\n        addToSet(ALLOWED_ATTR, xml);\n      }\n      if (USE_PROFILES.svgFilters === true) {\n        addToSet(ALLOWED_TAGS, svgFilters);\n        addToSet(ALLOWED_ATTR, svg);\n        addToSet(ALLOWED_ATTR, xml);\n      }\n      if (USE_PROFILES.mathMl === true) {\n        addToSet(ALLOWED_TAGS, mathMl$1);\n        addToSet(ALLOWED_ATTR, mathMl);\n        addToSet(ALLOWED_ATTR, xml);\n      }\n    }\n    /* Merge configuration parameters */\n    if (cfg.ADD_TAGS) {\n      if (typeof cfg.ADD_TAGS === 'function') {\n        EXTRA_ELEMENT_HANDLING.tagCheck = cfg.ADD_TAGS;\n      } else {\n        if (ALLOWED_TAGS === DEFAULT_ALLOWED_TAGS) {\n          ALLOWED_TAGS = clone(ALLOWED_TAGS);\n        }\n        addToSet(ALLOWED_TAGS, cfg.ADD_TAGS, transformCaseFunc);\n      }\n    }\n    if (cfg.ADD_ATTR) {\n      if (typeof cfg.ADD_ATTR === 'function') {\n        EXTRA_ELEMENT_HANDLING.attributeCheck = cfg.ADD_ATTR;\n      } else {\n        if (ALLOWED_ATTR === DEFAULT_ALLOWED_ATTR) {\n          ALLOWED_ATTR = clone(ALLOWED_ATTR);\n        }\n        addToSet(ALLOWED_ATTR, cfg.ADD_ATTR, transformCaseFunc);\n      }\n    }\n    if (cfg.ADD_URI_SAFE_ATTR) {\n      addToSet(URI_SAFE_ATTRIBUTES, cfg.ADD_URI_SAFE_ATTR, transformCaseFunc);\n    }\n    if (cfg.FORBID_CONTENTS) {\n      if (FORBID_CONTENTS === DEFAULT_FORBID_CONTENTS) {\n        FORBID_CONTENTS = clone(FORBID_CONTENTS);\n      }\n      addToSet(FORBID_CONTENTS, cfg.FORBID_CONTENTS, transformCaseFunc);\n    }\n    if (cfg.ADD_FORBID_CONTENTS) {\n      if (FORBID_CONTENTS === DEFAULT_FORBID_CONTENTS) {\n        FORBID_CONTENTS = clone(FORBID_CONTENTS);\n      }\n      addToSet(FORBID_CONTENTS, cfg.ADD_FORBID_CONTENTS, transformCaseFunc);\n    }\n    /* Add #text in case KEEP_CONTENT is set to true */\n    if (KEEP_CONTENT) {\n      ALLOWED_TAGS['#text'] = true;\n    }\n    /* Add html, head and body to ALLOWED_TAGS in case WHOLE_DOCUMENT is true */\n    if (WHOLE_DOCUMENT) {\n      addToSet(ALLOWED_TAGS, ['html', 'head', 'body']);\n    }\n    /* Add tbody to ALLOWED_TAGS in case tables are permitted, see #286, #365 */\n    if (ALLOWED_TAGS.table) {\n      addToSet(ALLOWED_TAGS, ['tbody']);\n      delete FORBID_TAGS.tbody;\n    }\n    if (cfg.TRUSTED_TYPES_POLICY) {\n      if (typeof cfg.TRUSTED_TYPES_POLICY.createHTML !== 'function') {\n        throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a \"createHTML\" hook.');\n      }\n      if (typeof cfg.TRUSTED_TYPES_POLICY.createScriptURL !== 'function') {\n        throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a \"createScriptURL\" hook.');\n      }\n      // Overwrite existing TrustedTypes policy.\n      trustedTypesPolicy = cfg.TRUSTED_TYPES_POLICY;\n      // Sign local variables required by `sanitize`.\n      emptyHTML = trustedTypesPolicy.createHTML('');\n    } else {\n      // Uninitialized policy, attempt to initialize the internal dompurify policy.\n      if (trustedTypesPolicy === undefined) {\n        trustedTypesPolicy = _createTrustedTypesPolicy(trustedTypes, currentScript);\n      }\n      // If creating the internal policy succeeded sign internal variables.\n      if (trustedTypesPolicy !== null && typeof emptyHTML === 'string') {\n        emptyHTML = trustedTypesPolicy.createHTML('');\n      }\n    }\n    // Prevent further manipulation of configuration.\n    // Not available in IE8, Safari 5, etc.\n    if (freeze) {\n      freeze(cfg);\n    }\n    CONFIG = cfg;\n  };\n  /* Keep track of all possible SVG and MathML tags\n   * so that we can perform the namespace checks\n   * correctly. */\n  const ALL_SVG_TAGS = addToSet({}, [...svg$1, ...svgFilters, ...svgDisallowed]);\n  const ALL_MATHML_TAGS = addToSet({}, [...mathMl$1, ...mathMlDisallowed]);\n  /**\n   * @param element a DOM element whose namespace is being checked\n   * @returns Return false if the element has a\n   *  namespace that a spec-compliant parser would never\n   *  return. Return true otherwise.\n   */\n  const _checkValidNamespace = function _checkValidNamespace(element) {\n    let parent = getParentNode(element);\n    // In JSDOM, if we're inside shadow DOM, then parentNode\n    // can be null. We just simulate parent in this case.\n    if (!parent || !parent.tagName) {\n      parent = {\n        namespaceURI: NAMESPACE,\n        tagName: 'template'\n      };\n    }\n    const tagName = stringToLowerCase(element.tagName);\n    const parentTagName = stringToLowerCase(parent.tagName);\n    if (!ALLOWED_NAMESPACES[element.namespaceURI]) {\n      return false;\n    }\n    if (element.namespaceURI === SVG_NAMESPACE) {\n      // The only way to switch from HTML namespace to SVG\n      // is via <svg>. If it happens via any other tag, then\n      // it should be killed.\n      if (parent.namespaceURI === HTML_NAMESPACE) {\n        return tagName === 'svg';\n      }\n      // The only way to switch from MathML to SVG is via`\n      // svg if parent is either <annotation-xml> or MathML\n      // text integration points.\n      if (parent.namespaceURI === MATHML_NAMESPACE) {\n        return tagName === 'svg' && (parentTagName === 'annotation-xml' || MATHML_TEXT_INTEGRATION_POINTS[parentTagName]);\n      }\n      // We only allow elements that are defined in SVG\n      // spec. All others are disallowed in SVG namespace.\n      return Boolean(ALL_SVG_TAGS[tagName]);\n    }\n    if (element.namespaceURI === MATHML_NAMESPACE) {\n      // The only way to switch from HTML namespace to MathML\n      // is via <math>. If it happens via any other tag, then\n      // it should be killed.\n      if (parent.namespaceURI === HTML_NAMESPACE) {\n        return tagName === 'math';\n      }\n      // The only way to switch from SVG to MathML is via\n      // <math> and HTML integration points\n      if (parent.namespaceURI === SVG_NAMESPACE) {\n        return tagName === 'math' && HTML_INTEGRATION_POINTS[parentTagName];\n      }\n      // We only allow elements that are defined in MathML\n      // spec. All others are disallowed in MathML namespace.\n      return Boolean(ALL_MATHML_TAGS[tagName]);\n    }\n    if (element.namespaceURI === HTML_NAMESPACE) {\n      // The only way to switch from SVG to HTML is via\n      // HTML integration points, and from MathML to HTML\n      // is via MathML text integration points\n      if (parent.namespaceURI === SVG_NAMESPACE && !HTML_INTEGRATION_POINTS[parentTagName]) {\n        return false;\n      }\n      if (parent.namespaceURI === MATHML_NAMESPACE && !MATHML_TEXT_INTEGRATION_POINTS[parentTagName]) {\n        return false;\n      }\n      // We disallow tags that are specific for MathML\n      // or SVG and should never appear in HTML namespace\n      return !ALL_MATHML_TAGS[tagName] && (COMMON_SVG_AND_HTML_ELEMENTS[tagName] || !ALL_SVG_TAGS[tagName]);\n    }\n    // For XHTML and XML documents that support custom namespaces\n    if (PARSER_MEDIA_TYPE === 'application/xhtml+xml' && ALLOWED_NAMESPACES[element.namespaceURI]) {\n      return true;\n    }\n    // The code should never reach this place (this means\n    // that the element somehow got namespace that is not\n    // HTML, SVG, MathML or allowed via ALLOWED_NAMESPACES).\n    // Return false just in case.\n    return false;\n  };\n  /**\n   * _forceRemove\n   *\n   * @param node a DOM node\n   */\n  const _forceRemove = function _forceRemove(node) {\n    arrayPush(DOMPurify.removed, {\n      element: node\n    });\n    try {\n      // eslint-disable-next-line unicorn/prefer-dom-node-remove\n      getParentNode(node).removeChild(node);\n    } catch (_) {\n      remove(node);\n    }\n  };\n  /**\n   * _removeAttribute\n   *\n   * @param name an Attribute name\n   * @param element a DOM node\n   */\n  const _removeAttribute = function _removeAttribute(name, element) {\n    try {\n      arrayPush(DOMPurify.removed, {\n        attribute: element.getAttributeNode(name),\n        from: element\n      });\n    } catch (_) {\n      arrayPush(DOMPurify.removed, {\n        attribute: null,\n        from: element\n      });\n    }\n    element.removeAttribute(name);\n    // We void attribute values for unremovable \"is\" attributes\n    if (name === 'is') {\n      if (RETURN_DOM || RETURN_DOM_FRAGMENT) {\n        try {\n          _forceRemove(element);\n        } catch (_) {}\n      } else {\n        try {\n          element.setAttribute(name, '');\n        } catch (_) {}\n      }\n    }\n  };\n  /**\n   * _initDocument\n   *\n   * @param dirty - a string of dirty markup\n   * @return a DOM, filled with the dirty markup\n   */\n  const _initDocument = function _initDocument(dirty) {\n    /* Create a HTML document */\n    let doc = null;\n    let leadingWhitespace = null;\n    if (FORCE_BODY) {\n      dirty = '<remove></remove>' + dirty;\n    } else {\n      /* If FORCE_BODY isn't used, leading whitespace needs to be preserved manually */\n      const matches = stringMatch(dirty, /^[\\r\\n\\t ]+/);\n      leadingWhitespace = matches && matches[0];\n    }\n    if (PARSER_MEDIA_TYPE === 'application/xhtml+xml' && NAMESPACE === HTML_NAMESPACE) {\n      // Root of XHTML doc must contain xmlns declaration (see https://www.w3.org/TR/xhtml1/normative.html#strict)\n      dirty = '<html xmlns=\"http://www.w3.org/1999/xhtml\"><head></head><body>' + dirty + '</body></html>';\n    }\n    const dirtyPayload = trustedTypesPolicy ? trustedTypesPolicy.createHTML(dirty) : dirty;\n    /*\n     * Use the DOMParser API by default, fallback later if needs be\n     * DOMParser not work for svg when has multiple root element.\n     */\n    if (NAMESPACE === HTML_NAMESPACE) {\n      try {\n        doc = new DOMParser().parseFromString(dirtyPayload, PARSER_MEDIA_TYPE);\n      } catch (_) {}\n    }\n    /* Use createHTMLDocument in case DOMParser is not available */\n    if (!doc || !doc.documentElement) {\n      doc = implementation.createDocument(NAMESPACE, 'template', null);\n      try {\n        doc.documentElement.innerHTML = IS_EMPTY_INPUT ? emptyHTML : dirtyPayload;\n      } catch (_) {\n        // Syntax error if dirtyPayload is invalid xml\n      }\n    }\n    const body = doc.body || doc.documentElement;\n    if (dirty && leadingWhitespace) {\n      body.insertBefore(document.createTextNode(leadingWhitespace), body.childNodes[0] || null);\n    }\n    /* Work on whole document or just its body */\n    if (NAMESPACE === HTML_NAMESPACE) {\n      return getElementsByTagName.call(doc, WHOLE_DOCUMENT ? 'html' : 'body')[0];\n    }\n    return WHOLE_DOCUMENT ? doc.documentElement : body;\n  };\n  /**\n   * Creates a NodeIterator object that you can use to traverse filtered lists of nodes or elements in a document.\n   *\n   * @param root The root element or node to start traversing on.\n   * @return The created NodeIterator\n   */\n  const _createNodeIterator = function _createNodeIterator(root) {\n    return createNodeIterator.call(root.ownerDocument || root, root,\n    // eslint-disable-next-line no-bitwise\n    NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT | NodeFilter.SHOW_TEXT | NodeFilter.SHOW_PROCESSING_INSTRUCTION | NodeFilter.SHOW_CDATA_SECTION, null);\n  };\n  /**\n   * _isClobbered\n   *\n   * @param element element to check for clobbering attacks\n   * @return true if clobbered, false if safe\n   */\n  const _isClobbered = function _isClobbered(element) {\n    return element instanceof HTMLFormElement && (typeof element.nodeName !== 'string' || typeof element.textContent !== 'string' || typeof element.removeChild !== 'function' || !(element.attributes instanceof NamedNodeMap) || typeof element.removeAttribute !== 'function' || typeof element.setAttribute !== 'function' || typeof element.namespaceURI !== 'string' || typeof element.insertBefore !== 'function' || typeof element.hasChildNodes !== 'function');\n  };\n  /**\n   * Checks whether the given object is a DOM node.\n   *\n   * @param value object to check whether it's a DOM node\n   * @return true is object is a DOM node\n   */\n  const _isNode = function _isNode(value) {\n    return typeof Node === 'function' && value instanceof Node;\n  };\n  function _executeHooks(hooks, currentNode, data) {\n    arrayForEach(hooks, hook => {\n      hook.call(DOMPurify, currentNode, data, CONFIG);\n    });\n  }\n  /**\n   * _sanitizeElements\n   *\n   * @protect nodeName\n   * @protect textContent\n   * @protect removeChild\n   * @param currentNode to check for permission to exist\n   * @return true if node was killed, false if left alive\n   */\n  const _sanitizeElements = function _sanitizeElements(currentNode) {\n    let content = null;\n    /* Execute a hook if present */\n    _executeHooks(hooks.beforeSanitizeElements, currentNode, null);\n    /* Check if element is clobbered or can clobber */\n    if (_isClobbered(currentNode)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Now let's check the element's type and name */\n    const tagName = transformCaseFunc(currentNode.nodeName);\n    /* Execute a hook if present */\n    _executeHooks(hooks.uponSanitizeElement, currentNode, {\n      tagName,\n      allowedTags: ALLOWED_TAGS\n    });\n    /* Detect mXSS attempts abusing namespace confusion */\n    if (SAFE_FOR_XML && currentNode.hasChildNodes() && !_isNode(currentNode.firstElementChild) && regExpTest(/<[/\\w!]/g, currentNode.innerHTML) && regExpTest(/<[/\\w!]/g, currentNode.textContent)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Remove any occurrence of processing instructions */\n    if (currentNode.nodeType === NODE_TYPE.progressingInstruction) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Remove any kind of possibly harmful comments */\n    if (SAFE_FOR_XML && currentNode.nodeType === NODE_TYPE.comment && regExpTest(/<[/\\w]/g, currentNode.data)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Remove element if anything forbids its presence */\n    if (!(EXTRA_ELEMENT_HANDLING.tagCheck instanceof Function && EXTRA_ELEMENT_HANDLING.tagCheck(tagName)) && (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName])) {\n      /* Check if we have a custom element to handle */\n      if (!FORBID_TAGS[tagName] && _isBasicCustomElement(tagName)) {\n        if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, tagName)) {\n          return false;\n        }\n        if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(tagName)) {\n          return false;\n        }\n      }\n      /* Keep content except for bad-listed elements */\n      if (KEEP_CONTENT && !FORBID_CONTENTS[tagName]) {\n        const parentNode = getParentNode(currentNode) || currentNode.parentNode;\n        const childNodes = getChildNodes(currentNode) || currentNode.childNodes;\n        if (childNodes && parentNode) {\n          const childCount = childNodes.length;\n          for (let i = childCount - 1; i >= 0; --i) {\n            const childClone = cloneNode(childNodes[i], true);\n            childClone.__removalCount = (currentNode.__removalCount || 0) + 1;\n            parentNode.insertBefore(childClone, getNextSibling(currentNode));\n          }\n        }\n      }\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Check whether element has a valid namespace */\n    if (currentNode instanceof Element && !_checkValidNamespace(currentNode)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Make sure that older browsers don't get fallback-tag mXSS */\n    if ((tagName === 'noscript' || tagName === 'noembed' || tagName === 'noframes') && regExpTest(/<\\/no(script|embed|frames)/i, currentNode.innerHTML)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Sanitize element content to be template-safe */\n    if (SAFE_FOR_TEMPLATES && currentNode.nodeType === NODE_TYPE.text) {\n      /* Get the element's text content */\n      content = currentNode.textContent;\n      arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], expr => {\n        content = stringReplace(content, expr, ' ');\n      });\n      if (currentNode.textContent !== content) {\n        arrayPush(DOMPurify.removed, {\n          element: currentNode.cloneNode()\n        });\n        currentNode.textContent = content;\n      }\n    }\n    /* Execute a hook if present */\n    _executeHooks(hooks.afterSanitizeElements, currentNode, null);\n    return false;\n  };\n  /**\n   * _isValidAttribute\n   *\n   * @param lcTag Lowercase tag name of containing element.\n   * @param lcName Lowercase attribute name.\n   * @param value Attribute value.\n   * @return Returns true if `value` is valid, otherwise false.\n   */\n  // eslint-disable-next-line complexity\n  const _isValidAttribute = function _isValidAttribute(lcTag, lcName, value) {\n    /* Make sure attribute cannot clobber */\n    if (SANITIZE_DOM && (lcName === 'id' || lcName === 'name') && (value in document || value in formElement)) {\n      return false;\n    }\n    /* Allow valid data-* attributes: At least one character after \"-\"\n        (https://html.spec.whatwg.org/multipage/dom.html#embedding-custom-non-visible-data-with-the-data-*-attributes)\n        XML-compatible (https://html.spec.whatwg.org/multipage/infrastructure.html#xml-compatible and http://www.w3.org/TR/xml/#d0e804)\n        We don't need to check the value; it's always URI safe. */\n    if (ALLOW_DATA_ATTR && !FORBID_ATTR[lcName] && regExpTest(DATA_ATTR, lcName)) ; else if (ALLOW_ARIA_ATTR && regExpTest(ARIA_ATTR, lcName)) ; else if (EXTRA_ELEMENT_HANDLING.attributeCheck instanceof Function && EXTRA_ELEMENT_HANDLING.attributeCheck(lcName, lcTag)) ; else if (!ALLOWED_ATTR[lcName] || FORBID_ATTR[lcName]) {\n      if (\n      // First condition does a very basic check if a) it's basically a valid custom element tagname AND\n      // b) if the tagName passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n      // and c) if the attribute name passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.attributeNameCheck\n      _isBasicCustomElement(lcTag) && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, lcTag) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(lcTag)) && (CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.attributeNameCheck, lcName) || CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.attributeNameCheck(lcName, lcTag)) ||\n      // Alternative, second condition checks if it's an `is`-attribute, AND\n      // the value passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n      lcName === 'is' && CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, value) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(value))) ; else {\n        return false;\n      }\n      /* Check value is safe. First, is attr inert? If so, is safe */\n    } else if (URI_SAFE_ATTRIBUTES[lcName]) ; else if (regExpTest(IS_ALLOWED_URI$1, stringReplace(value, ATTR_WHITESPACE, ''))) ; else if ((lcName === 'src' || lcName === 'xlink:href' || lcName === 'href') && lcTag !== 'script' && stringIndexOf(value, 'data:') === 0 && DATA_URI_TAGS[lcTag]) ; else if (ALLOW_UNKNOWN_PROTOCOLS && !regExpTest(IS_SCRIPT_OR_DATA, stringReplace(value, ATTR_WHITESPACE, ''))) ; else if (value) {\n      return false;\n    } else ;\n    return true;\n  };\n  /**\n   * _isBasicCustomElement\n   * checks if at least one dash is included in tagName, and it's not the first char\n   * for more sophisticated checking see https://github.com/sindresorhus/validate-element-name\n   *\n   * @param tagName name of the tag of the node to sanitize\n   * @returns Returns true if the tag name meets the basic criteria for a custom element, otherwise false.\n   */\n  const _isBasicCustomElement = function _isBasicCustomElement(tagName) {\n    return tagName !== 'annotation-xml' && stringMatch(tagName, CUSTOM_ELEMENT);\n  };\n  /**\n   * _sanitizeAttributes\n   *\n   * @protect attributes\n   * @protect nodeName\n   * @protect removeAttribute\n   * @protect setAttribute\n   *\n   * @param currentNode to sanitize\n   */\n  const _sanitizeAttributes = function _sanitizeAttributes(currentNode) {\n    /* Execute a hook if present */\n    _executeHooks(hooks.beforeSanitizeAttributes, currentNode, null);\n    const {\n      attributes\n    } = currentNode;\n    /* Check if we have attributes; if not we might have a text node */\n    if (!attributes || _isClobbered(currentNode)) {\n      return;\n    }\n    const hookEvent = {\n      attrName: '',\n      attrValue: '',\n      keepAttr: true,\n      allowedAttributes: ALLOWED_ATTR,\n      forceKeepAttr: undefined\n    };\n    let l = attributes.length;\n    /* Go backwards over all attributes; safely remove bad ones */\n    while (l--) {\n      const attr = attributes[l];\n      const {\n        name,\n        namespaceURI,\n        value: attrValue\n      } = attr;\n      const lcName = transformCaseFunc(name);\n      const initValue = attrValue;\n      let value = name === 'value' ? initValue : stringTrim(initValue);\n      /* Execute a hook if present */\n      hookEvent.attrName = lcName;\n      hookEvent.attrValue = value;\n      hookEvent.keepAttr = true;\n      hookEvent.forceKeepAttr = undefined; // Allows developers to see this is a property they can set\n      _executeHooks(hooks.uponSanitizeAttribute, currentNode, hookEvent);\n      value = hookEvent.attrValue;\n      /* Full DOM Clobbering protection via namespace isolation,\n       * Prefix id and name attributes with `user-content-`\n       */\n      if (SANITIZE_NAMED_PROPS && (lcName === 'id' || lcName === 'name')) {\n        // Remove the attribute with this value\n        _removeAttribute(name, currentNode);\n        // Prefix the value and later re-create the attribute with the sanitized value\n        value = SANITIZE_NAMED_PROPS_PREFIX + value;\n      }\n      /* Work around a security issue with comments inside attributes */\n      if (SAFE_FOR_XML && regExpTest(/((--!?|])>)|<\\/(style|title|textarea)/i, value)) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n      /* Make sure we cannot easily use animated hrefs, even if animations are allowed */\n      if (lcName === 'attributename' && stringMatch(value, 'href')) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n      /* Did the hooks approve of the attribute? */\n      if (hookEvent.forceKeepAttr) {\n        continue;\n      }\n      /* Did the hooks approve of the attribute? */\n      if (!hookEvent.keepAttr) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n      /* Work around a security issue in jQuery 3.0 */\n      if (!ALLOW_SELF_CLOSE_IN_ATTR && regExpTest(/\\/>/i, value)) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n      /* Sanitize attribute content to be template-safe */\n      if (SAFE_FOR_TEMPLATES) {\n        arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], expr => {\n          value = stringReplace(value, expr, ' ');\n        });\n      }\n      /* Is `value` valid for this attribute? */\n      const lcTag = transformCaseFunc(currentNode.nodeName);\n      if (!_isValidAttribute(lcTag, lcName, value)) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n      /* Handle attributes that require Trusted Types */\n      if (trustedTypesPolicy && typeof trustedTypes === 'object' && typeof trustedTypes.getAttributeType === 'function') {\n        if (namespaceURI) ; else {\n          switch (trustedTypes.getAttributeType(lcTag, lcName)) {\n            case 'TrustedHTML':\n              {\n                value = trustedTypesPolicy.createHTML(value);\n                break;\n              }\n            case 'TrustedScriptURL':\n              {\n                value = trustedTypesPolicy.createScriptURL(value);\n                break;\n              }\n          }\n        }\n      }\n      /* Handle invalid data-* attribute set by try-catching it */\n      if (value !== initValue) {\n        try {\n          if (namespaceURI) {\n            currentNode.setAttributeNS(namespaceURI, name, value);\n          } else {\n            /* Fallback to setAttribute() for browser-unrecognized namespaces e.g. \"x-schema\". */\n            currentNode.setAttribute(name, value);\n          }\n          if (_isClobbered(currentNode)) {\n            _forceRemove(currentNode);\n          } else {\n            arrayPop(DOMPurify.removed);\n          }\n        } catch (_) {\n          _removeAttribute(name, currentNode);\n        }\n      }\n    }\n    /* Execute a hook if present */\n    _executeHooks(hooks.afterSanitizeAttributes, currentNode, null);\n  };\n  /**\n   * _sanitizeShadowDOM\n   *\n   * @param fragment to iterate over recursively\n   */\n  const _sanitizeShadowDOM = function _sanitizeShadowDOM(fragment) {\n    let shadowNode = null;\n    const shadowIterator = _createNodeIterator(fragment);\n    /* Execute a hook if present */\n    _executeHooks(hooks.beforeSanitizeShadowDOM, fragment, null);\n    while (shadowNode = shadowIterator.nextNode()) {\n      /* Execute a hook if present */\n      _executeHooks(hooks.uponSanitizeShadowNode, shadowNode, null);\n      /* Sanitize tags and elements */\n      _sanitizeElements(shadowNode);\n      /* Check attributes next */\n      _sanitizeAttributes(shadowNode);\n      /* Deep shadow DOM detected */\n      if (shadowNode.content instanceof DocumentFragment) {\n        _sanitizeShadowDOM(shadowNode.content);\n      }\n    }\n    /* Execute a hook if present */\n    _executeHooks(hooks.afterSanitizeShadowDOM, fragment, null);\n  };\n  // eslint-disable-next-line complexity\n  DOMPurify.sanitize = function (dirty) {\n    let cfg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let body = null;\n    let importedNode = null;\n    let currentNode = null;\n    let returnNode = null;\n    /* Make sure we have a string to sanitize.\n      DO NOT return early, as this will return the wrong type if\n      the user has requested a DOM object rather than a string */\n    IS_EMPTY_INPUT = !dirty;\n    if (IS_EMPTY_INPUT) {\n      dirty = '<!-->';\n    }\n    /* Stringify, in case dirty is an object */\n    if (typeof dirty !== 'string' && !_isNode(dirty)) {\n      if (typeof dirty.toString === 'function') {\n        dirty = dirty.toString();\n        if (typeof dirty !== 'string') {\n          throw typeErrorCreate('dirty is not a string, aborting');\n        }\n      } else {\n        throw typeErrorCreate('toString is not a function');\n      }\n    }\n    /* Return dirty HTML if DOMPurify cannot run */\n    if (!DOMPurify.isSupported) {\n      return dirty;\n    }\n    /* Assign config vars */\n    if (!SET_CONFIG) {\n      _parseConfig(cfg);\n    }\n    /* Clean up removed elements */\n    DOMPurify.removed = [];\n    /* Check if dirty is correctly typed for IN_PLACE */\n    if (typeof dirty === 'string') {\n      IN_PLACE = false;\n    }\n    if (IN_PLACE) {\n      /* Do some early pre-sanitization to avoid unsafe root nodes */\n      if (dirty.nodeName) {\n        const tagName = transformCaseFunc(dirty.nodeName);\n        if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n          throw typeErrorCreate('root node is forbidden and cannot be sanitized in-place');\n        }\n      }\n    } else if (dirty instanceof Node) {\n      /* If dirty is a DOM element, append to an empty document to avoid\n         elements being stripped by the parser */\n      body = _initDocument('<!---->');\n      importedNode = body.ownerDocument.importNode(dirty, true);\n      if (importedNode.nodeType === NODE_TYPE.element && importedNode.nodeName === 'BODY') {\n        /* Node is already a body, use as is */\n        body = importedNode;\n      } else if (importedNode.nodeName === 'HTML') {\n        body = importedNode;\n      } else {\n        // eslint-disable-next-line unicorn/prefer-dom-node-append\n        body.appendChild(importedNode);\n      }\n    } else {\n      /* Exit directly if we have nothing to do */\n      if (!RETURN_DOM && !SAFE_FOR_TEMPLATES && !WHOLE_DOCUMENT &&\n      // eslint-disable-next-line unicorn/prefer-includes\n      dirty.indexOf('<') === -1) {\n        return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(dirty) : dirty;\n      }\n      /* Initialize the document to work on */\n      body = _initDocument(dirty);\n      /* Check we have a DOM node from the data */\n      if (!body) {\n        return RETURN_DOM ? null : RETURN_TRUSTED_TYPE ? emptyHTML : '';\n      }\n    }\n    /* Remove first element node (ours) if FORCE_BODY is set */\n    if (body && FORCE_BODY) {\n      _forceRemove(body.firstChild);\n    }\n    /* Get node iterator */\n    const nodeIterator = _createNodeIterator(IN_PLACE ? dirty : body);\n    /* Now start iterating over the created document */\n    while (currentNode = nodeIterator.nextNode()) {\n      /* Sanitize tags and elements */\n      _sanitizeElements(currentNode);\n      /* Check attributes next */\n      _sanitizeAttributes(currentNode);\n      /* Shadow DOM detected, sanitize it */\n      if (currentNode.content instanceof DocumentFragment) {\n        _sanitizeShadowDOM(currentNode.content);\n      }\n    }\n    /* If we sanitized `dirty` in-place, return it. */\n    if (IN_PLACE) {\n      return dirty;\n    }\n    /* Return sanitized string or DOM */\n    if (RETURN_DOM) {\n      if (RETURN_DOM_FRAGMENT) {\n        returnNode = createDocumentFragment.call(body.ownerDocument);\n        while (body.firstChild) {\n          // eslint-disable-next-line unicorn/prefer-dom-node-append\n          returnNode.appendChild(body.firstChild);\n        }\n      } else {\n        returnNode = body;\n      }\n      if (ALLOWED_ATTR.shadowroot || ALLOWED_ATTR.shadowrootmode) {\n        /*\n          AdoptNode() is not used because internal state is not reset\n          (e.g. the past names map of a HTMLFormElement), this is safe\n          in theory but we would rather not risk another attack vector.\n          The state that is cloned by importNode() is explicitly defined\n          by the specs.\n        */\n        returnNode = importNode.call(originalDocument, returnNode, true);\n      }\n      return returnNode;\n    }\n    let serializedHTML = WHOLE_DOCUMENT ? body.outerHTML : body.innerHTML;\n    /* Serialize doctype if allowed */\n    if (WHOLE_DOCUMENT && ALLOWED_TAGS['!doctype'] && body.ownerDocument && body.ownerDocument.doctype && body.ownerDocument.doctype.name && regExpTest(DOCTYPE_NAME, body.ownerDocument.doctype.name)) {\n      serializedHTML = '<!DOCTYPE ' + body.ownerDocument.doctype.name + '>\\n' + serializedHTML;\n    }\n    /* Sanitize final string template-safe */\n    if (SAFE_FOR_TEMPLATES) {\n      arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], expr => {\n        serializedHTML = stringReplace(serializedHTML, expr, ' ');\n      });\n    }\n    return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(serializedHTML) : serializedHTML;\n  };\n  DOMPurify.setConfig = function () {\n    let cfg = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    _parseConfig(cfg);\n    SET_CONFIG = true;\n  };\n  DOMPurify.clearConfig = function () {\n    CONFIG = null;\n    SET_CONFIG = false;\n  };\n  DOMPurify.isValidAttribute = function (tag, attr, value) {\n    /* Initialize shared config vars if necessary. */\n    if (!CONFIG) {\n      _parseConfig({});\n    }\n    const lcTag = transformCaseFunc(tag);\n    const lcName = transformCaseFunc(attr);\n    return _isValidAttribute(lcTag, lcName, value);\n  };\n  DOMPurify.addHook = function (entryPoint, hookFunction) {\n    if (typeof hookFunction !== 'function') {\n      return;\n    }\n    arrayPush(hooks[entryPoint], hookFunction);\n  };\n  DOMPurify.removeHook = function (entryPoint, hookFunction) {\n    if (hookFunction !== undefined) {\n      const index = arrayLastIndexOf(hooks[entryPoint], hookFunction);\n      return index === -1 ? undefined : arraySplice(hooks[entryPoint], index, 1)[0];\n    }\n    return arrayPop(hooks[entryPoint]);\n  };\n  DOMPurify.removeHooks = function (entryPoint) {\n    hooks[entryPoint] = [];\n  };\n  DOMPurify.removeAllHooks = function () {\n    hooks = _createHooksMap();\n  };\n  return DOMPurify;\n}\nvar purify = createDOMPurify();\n\nexport { purify as default };\n//# sourceMappingURL=purify.es.mjs.map\n","import { marked } from 'marked';\nimport DOMPurify from 'dompurify';\nimport Prism from 'prismjs';\nimport 'prismjs/components/prism-javascript.js';\nimport 'prismjs/components/prism-python.js';\nimport 'prismjs/components/prism-css.js';\nimport 'prismjs/components/prism-markup.js';\nimport 'prismjs/components/prism-json.js';\nimport 'prismjs/components/prism-markdown.js';\n\n/**\n * EditorUI - Full Vision Brain System\n *\n * v13f Architecture:\n * - Brain Core: Central state and coordination\n * - Subsystems: Modular UI components with lifecycle hooks\n * - Event Bus: Inter-subsystem communication\n * - State Machine: UI mode transitions\n *\n * Subsystems:\n * - Rendering: Preview, syntax highlighting\n * - Input: Keyboard shortcuts, tabs, modes\n * - Toolbar: Copy, export, theme, undo/redo\n * - Feedback: Notifications, save indicator, stats\n * - Layout: Help bar, panels, responsive\n *\n * @module EditorUI\n * @version 2.0.0 (Brain System)\n */\nclass EditorUI {\n    constructor(options = {}) {\n        // === Brain Core: Central State ===\n        this._brainState = {\n            initialized: false,\n            mode: 'split',\n            theme: 'dark',\n            focused: false,\n            dirty: false,\n            subsystems: new Map()\n        };\n\n        // === Event Bus ===\n        this._eventBus = {\n            listeners: new Map(),\n            emit: (event, data) => this._emitEvent(event, data),\n            on: (event, handler) => this._addEventListener(event, handler),\n            off: (event, handler) => this._removeEventListener(event, handler)\n        };\n\n        // === DOM Elements ===\n        this.editor = null;\n        this.preview = null;\n        this.fileInput = null;\n        this.uploadArea = null;\n        this.statsDisplay = null;\n        this.saveIndicator = null;\n        this.undoBtn = null;\n        this.redoBtn = null;\n\n        this.cachedElements = {};\n        this.debounceTimer = null;\n        this._copyButtonsInitialized = false;\n\n        // Track event listeners for cleanup\n        this.eventListeners = [];\n\n        // Cache for DOM queries\n        this.cachedTabs = null;\n        this.cachedPanes = null;\n        this.statsDebounceTimer = null;\n\n        // Animation and notification managers (injected)\n        this.anim = options.anim;\n        this.notify = options.notify;\n\n        // Callbacks to orchestrator\n        this.onEditorInput = options.onEditorInput || (() => {});\n        this.onFileSelect = options.onFileSelect || (() => {});\n        this.onSave = options.onSave || (() => {});\n        this.onUndo = options.onUndo || (() => {});\n        this.onRedo = options.onRedo || (() => {});\n        this.onExport = options.onExport || (() => {});\n        this.onCopyMarkdown = options.onCopyMarkdown || (() => {});\n        this.onCopyHTML = options.onCopyHTML || (() => {});\n        this.onCopyToEditor = options.onCopyToEditor || (() => {});\n        this.onSetMode = options.onSetMode || ((m) => this.setMode(m));\n        this.onUpdatePreview = options.onUpdatePreview || (() => this.updatePreview());\n        this.getEditorValue = options.getEditorValue || (() => '');\n\n        // v13a: File drag analysis callback - returns Promise<boolean> to proceed\n        this.onFileDragAnalysis = options.onFileDragAnalysis || null;\n\n        // Theme\n        this.currentTheme = localStorage.getItem('md-reader-theme') || 'dark';\n\n        // Stats\n        this.stats = { words: 0, characters: 0, lines: 0, readingTime: 0 };\n\n        // DOMPurify config\n        this.sanitizeConfig = {\n            ALLOWED_TAGS: ['h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'p', 'a',\n                          'ul', 'ol', 'li', 'blockquote', 'code', 'pre',\n                          'strong', 'em', 'img', 'table', 'thead', 'tbody',\n                          'tr', 'th', 'td', 'br', 'hr', 'del', 'input', 'span'],\n            ALLOWED_ATTR: ['href', 'src', 'alt', 'title', 'class', 'type',\n                          'checked', 'disabled']\n        };\n\n        // Constants\n        this.CONSTANTS = {\n            TAB_WIDTH: 4,\n            INDENTATION_SPACES: '    ',\n            FEEDBACK_DURATION: 2000,\n            FEEDBACK_FADE_DURATION: 300,\n            HELP_BAR_TRANSITION_DURATION: 300,\n            HELP_BAR_WIDTH: 400,\n            DEBOUNCE_DELAY: 300\n        };\n    }\n\n    // === Brain Core: Event Bus Implementation ===\n\n    /**\n     * Emit an event to all listeners\n     * @param {string} event - Event name\n     * @param {any} data - Event data\n     */\n    _emitEvent(event, data) {\n        const listeners = this._eventBus.listeners.get(event);\n        if (listeners) {\n            listeners.forEach(handler => {\n                try {\n                    handler(data);\n                } catch (err) {\n                    console.error(`Event handler error for ${event}:`, err);\n                }\n            });\n        }\n    }\n\n    /**\n     * Add event listener\n     * @param {string} event - Event name\n     * @param {Function} handler - Event handler\n     */\n    _addEventListener(event, handler) {\n        if (!this._eventBus.listeners.has(event)) {\n            this._eventBus.listeners.set(event, new Set());\n        }\n        this._eventBus.listeners.get(event).add(handler);\n    }\n\n    /**\n     * Remove event listener\n     * @param {string} event - Event name\n     * @param {Function} handler - Event handler\n     */\n    _removeEventListener(event, handler) {\n        const listeners = this._eventBus.listeners.get(event);\n        if (listeners) {\n            listeners.delete(handler);\n        }\n    }\n\n    // === Brain Core: Subsystem Management ===\n\n    /**\n     * Register a subsystem\n     * @param {string} name - Subsystem name\n     * @param {Object} config - Subsystem configuration\n     */\n    registerSubsystem(name, config = {}) {\n        this._brainState.subsystems.set(name, {\n            name,\n            enabled: config.enabled !== false,\n            initialized: false,\n            init: config.init || (() => {}),\n            destroy: config.destroy || (() => {}),\n            onModeChange: config.onModeChange || (() => {}),\n            onThemeChange: config.onThemeChange || (() => {})\n        });\n    }\n\n    /**\n     * Initialize all registered subsystems\n     */\n    initializeSubsystems() {\n        for (const [name, subsystem] of this._brainState.subsystems) {\n            if (subsystem.enabled && !subsystem.initialized) {\n                try {\n                    subsystem.init.call(this);\n                    subsystem.initialized = true;\n                    console.log(` Subsystem initialized: ${name}`);\n                } catch (err) {\n                    console.error(` Subsystem init failed: ${name}`, err);\n                }\n            }\n        }\n    }\n\n    /**\n     * Get brain state\n     * @returns {Object}\n     */\n    getBrainState() {\n        return { ...this._brainState };\n    }\n\n    /**\n     * Update brain state\n     * @param {string} key - State key\n     * @param {any} value - New value\n     */\n    setBrainState(key, value) {\n        const oldValue = this._brainState[key];\n        this._brainState[key] = value;\n\n        // Emit state change event\n        this._emitEvent('stateChange', { key, oldValue, newValue: value });\n\n        // Notify subsystems of specific changes\n        if (key === 'mode') {\n            this._notifySubsystemsOfModeChange(value);\n        } else if (key === 'theme') {\n            this._notifySubsystemsOfThemeChange(value);\n        }\n    }\n\n    /**\n     * Notify subsystems of mode change\n     * @private\n     */\n    _notifySubsystemsOfModeChange(mode) {\n        for (const [, subsystem] of this._brainState.subsystems) {\n            if (subsystem.enabled && subsystem.initialized) {\n                subsystem.onModeChange.call(this, mode);\n            }\n        }\n    }\n\n    /**\n     * Notify subsystems of theme change\n     * @private\n     */\n    _notifySubsystemsOfThemeChange(theme) {\n        for (const [, subsystem] of this._brainState.subsystems) {\n            if (subsystem.enabled && subsystem.initialized) {\n                subsystem.onThemeChange.call(this, theme);\n            }\n        }\n    }\n\n    // === Environment Helpers ===\n\n    isBrowser() {\n        return typeof window !== 'undefined';\n    }\n\n    isTestEnvironment() {\n        return typeof jest !== 'undefined';\n    }\n\n    hasRequiredElements() {\n        return this.editor && this.preview;\n    }\n\n    getCachedElement(id, selector) {\n        const key = id || selector;\n        if (!this.cachedElements[key]) {\n            this.cachedElements[key] = id ?\n                document.getElementById(id) :\n                (selector ? document.querySelector(selector) : null);\n        }\n        return this.cachedElements[key];\n    }\n\n    removeDOMElement(element) {\n        try {\n            if (element?.parentNode) {\n                element.parentNode.removeChild(element);\n            }\n        } catch (_) { }\n    }\n\n    // Add event listener via a single abstraction point\n    addTrackedListener(target, event, handler, options) {\n        target.addEventListener(event, handler, options);\n    }\n    // === Core Setup ===\n\n    setupDOM() {\n        // Register core subsystems (v13f Brain System)\n        this._registerCoreSubsystems();\n\n        this.editor = document.getElementById('markdown-editor');\n        this.preview = document.getElementById('markdown-preview');\n        this.fileInput = document.getElementById('file-input');\n        this.uploadArea = document.querySelector('.upload-area');\n\n        if (!this.hasRequiredElements()) {\n            if (!this.isTestEnvironment()) {\n                console.error('Required DOM elements not found');\n            }\n            return false;\n        }\n\n        // Configure marked\n        marked.setOptions({\n            breaks: true,\n            gfm: true,\n            headerIds: false,\n            async: false,\n            highlight: (code, lang) => {\n                if (lang && Prism.languages[lang]) {\n                    return Prism.highlight(code, Prism.languages[lang], lang);\n                }\n                return code;\n            }\n        });\n\n        // Mark brain as initialized\n        this.setBrainState('initialized', true);\n        this._emitEvent('brain:ready', { timestamp: Date.now() });\n\n        return true;\n    }\n\n    /**\n     * Register core subsystems (v13f Brain System)\n     * @private\n     */\n    _registerCoreSubsystems() {\n        // Rendering subsystem\n        this.registerSubsystem('rendering', {\n            init: () => {\n                this._emitEvent('subsystem:rendering:init', {});\n            },\n            onModeChange: (mode) => {\n                this._emitEvent('subsystem:rendering:modeChange', { mode });\n            }\n        });\n\n        // Input subsystem\n        this.registerSubsystem('input', {\n            init: () => {\n                this._emitEvent('subsystem:input:init', {});\n            }\n        });\n\n        // Toolbar subsystem\n        this.registerSubsystem('toolbar', {\n            init: () => {\n                this._emitEvent('subsystem:toolbar:init', {});\n            },\n            onThemeChange: (theme) => {\n                this._emitEvent('subsystem:toolbar:themeChange', { theme });\n            }\n        });\n\n        // Feedback subsystem\n        this.registerSubsystem('feedback', {\n            init: () => {\n                this._emitEvent('subsystem:feedback:init', {});\n            }\n        });\n\n        // Layout subsystem\n        this.registerSubsystem('layout', {\n            init: () => {\n                this._emitEvent('subsystem:layout:init', {});\n            },\n            onModeChange: (mode) => {\n                // Layout adjusts for different modes\n                this._emitEvent('subsystem:layout:modeChange', { mode });\n            }\n        });\n    }\n\n    setupEventListeners() {\n        if (!this.editor) return;\n\n        // Real-time preview with debouncing\n        this.editor.addEventListener('input', () => {\n            this.debouncedUpdatePreview();\n            this.onEditorInput();\n        });\n\n        // File upload\n        if (this.fileInput) {\n            this.fileInput.addEventListener('change', (e) => {\n                const file = e.target.files[0];\n                if (file) this.onFileSelect(file);\n            });\n        }\n\n        // Drag and drop\n        if (this.uploadArea) {\n            this.setupDragAndDrop();\n        }\n\n        // Keyboard shortcuts\n        this.editor.addEventListener('keydown', (e) => this.handleKeyboardShortcuts(e));\n    }\n\n    setupDragAndDrop() {\n        if (!this.uploadArea) return;\n\n        const uploadArea = this.uploadArea;\n        const preventDefaults = (e) => { e.preventDefault(); e.stopPropagation(); };\n\n        // v13a: Handle file drop with optional pre-analysis\n        const handleDrop = async (e) => {\n            const files = e.dataTransfer.files;\n            if (files.length === 0) return;\n\n            const file = files[0];\n\n            // If drag analysis is enabled, run it first\n            if (this.onFileDragAnalysis) {\n                try {\n                    const shouldProceed = await this.onFileDragAnalysis(file);\n                    if (!shouldProceed) {\n                        // User cancelled after seeing analysis\n                        return;\n                    }\n                } catch (err) {\n                    console.error('File drag analysis error:', err);\n                    // Proceed with load on error\n                }\n            }\n\n            this.onFileSelect(file);\n        };\n\n        const handlers = {\n            'dragenter': [preventDefaults, () => uploadArea.classList.add('drag-over')],\n            'dragover': [preventDefaults, () => uploadArea.classList.add('drag-over')],\n            'dragleave': [preventDefaults, () => uploadArea.classList.remove('drag-over')],\n            'drop': [\n                preventDefaults,\n                () => uploadArea.classList.remove('drag-over'),\n                handleDrop\n            ]\n        };\n\n        Object.entries(handlers).forEach(([event, fns]) => {\n            fns.forEach(fn => uploadArea.addEventListener(event, fn, false));\n            document.body.addEventListener(event, preventDefaults, false);\n        });\n\n        // Keyboard: Enter/Space activate (upload area has role=\"button\")\n        const fileInput = this.fileInput;\n        uploadArea.addEventListener('keydown', (e) => {\n            if (e.key !== 'Enter' && e.key !== ' ') return;\n            e.preventDefault();\n            if (fileInput) fileInput.click();\n        });\n    }\n\n    // === Preview & Rendering ===\n\n    debouncedUpdatePreview() {\n        if (this.debounceTimer) clearTimeout(this.debounceTimer);\n        this.debounceTimer = setTimeout(() => {\n            this.updatePreview();\n            this.debounceTimer = null;\n        }, this.CONSTANTS.DEBOUNCE_DELAY);\n    }\n\n    updatePreview() {\n        if (!this.hasRequiredElements()) return;\n\n        const text = this.editor.value;\n\n        if (!text.trim()) {\n            this.preview.innerHTML = `\n                <div style=\"color: #666; text-align: center; padding: 2rem;\">\n                    <h2> Start typing markdown</h2>\n                    <p>Your preview will appear here as you type</p>\n                </div>`;\n            return;\n        }\n\n        try {\n            const rawHtml = marked.parse(text);\n            const cleanHtml = DOMPurify.sanitize(rawHtml, this.sanitizeConfig);\n            this.preview.innerHTML = cleanHtml;\n        } catch (error) {\n            console.error('Markdown parsing error:', error);\n            const errorDiv = document.createElement('div');\n            errorDiv.style.cssText = 'color: #ff6b6b; padding: 1rem; background: rgba(255, 107, 107, 0.1); border-radius: 4px;';\n            errorDiv.innerHTML = `<strong>Markdown Error: </strong>${error.message}`;\n            this.preview.innerHTML = '';\n            this.preview.appendChild(errorDiv);\n        }\n    }\n\n    // === Keyboard Shortcuts ===\n\n    handleKeyboardShortcuts(e) {\n        // Ctrl/Cmd + S to save\n        if ((e.ctrlKey || e.metaKey) && e.key === 's') {\n            e.preventDefault();\n            this.onSave();\n            return;\n        }\n\n        // Quick tab switching\n        if ((e.ctrlKey || e.metaKey) && ['1','2','3','4','5'].includes(e.key)) {\n            e.preventDefault();\n            const modes = { '1':'editor', '2':'preview', '3':'split', '4':'annotation', '5':'reader' };\n            this.onSetMode(modes[e.key]);\n            return;\n        }\n\n        // Tab for indentation\n        if (e.key === 'Tab' && this.editor) {\n            e.preventDefault();\n            const start = this.editor.selectionStart;\n            const end = this.editor.selectionEnd;\n            this.editor.value = this.editor.value.substring(0, start) +\n                               this.CONSTANTS.INDENTATION_SPACES +\n                               this.editor.value.substring(end);\n            this.editor.selectionStart = this.editor.selectionEnd = start + this.CONSTANTS.TAB_WIDTH;\n            this.updatePreview();\n        }\n    }\n\n    setupEnhancedKeyboardShortcuts() {\n        document.addEventListener('keydown', (e) => {\n            if (document.activeElement !== this.editor) return;\n\n            // Undo\n            if ((e.ctrlKey || e.metaKey) && e.key === 'z' && !e.shiftKey) {\n                e.preventDefault();\n                this.onUndo();\n            }\n            // Redo\n            if ((e.ctrlKey || e.metaKey) && (e.key === 'y' || (e.key === 'z' && e.shiftKey))) {\n                e.preventDefault();\n                this.onRedo();\n            }\n        });\n    }\n\n    // === Tabs & Modes ===\n\n    setupTabs() {\n        // Cache tabs querySelectorAll to avoid repeated DOM queries\n        this.cachedTabs = document.querySelectorAll('.tab');\n        const editorContainer = this.getCachedElement('editor-container');\n\n        if (!this.cachedTabs || !editorContainer) return;\n\n        this.cachedTabs.forEach(t => {\n            t.addEventListener('click', () => this.onSetMode(t.getAttribute('data-tab')));\n        });\n\n        this.setMode('editor');\n    }\n\n    setMode(mode) {\n        // Update brain state (v13f)\n        this.setBrainState('mode', mode);\n        this._emitEvent('mode:change', { mode, previousMode: this._brainState.mode });\n\n        // Use cached tabs instead of repeated querySelectorAll\n        const tabs = this.cachedTabs || document.querySelectorAll('.tab');\n        tabs.forEach(t => {\n            t.classList.remove('active');\n            t.setAttribute('aria-selected', 'false');\n            if (t.getAttribute('data-tab') === mode) {\n                t.classList.add('active');\n                t.setAttribute('aria-selected', 'true');\n            }\n        });\n\n        const container = this.getCachedElement('editor-container');\n\n        // Cache panes for better performance\n        if (!this.cachedPanes) {\n            this.cachedPanes = {\n                editor: container?.querySelector('.editor-pane'),\n                preview: container?.querySelector('.preview-pane')\n            };\n        }\n\n        const editorPane = this.cachedPanes.editor;\n        const previewPane = this.cachedPanes.preview;\n\n        const show = (el) => { if (el) el.style.display = 'flex'; };\n        const hide = (el) => { if (el) el.style.display = 'none'; };\n\n        // Track display state to avoid getComputedStyle\n        const isHidden = (el) => !el || el.style.display === 'none';\n\n        const animateSwap = (outEl, inEl) => {\n            if (outEl && this.isBrowser() && !isHidden(outEl)) {\n                this.anim?.fadeOut(outEl, 160, 0, () => hide(outEl), { translateY: -6 });\n            }\n            if (inEl) {\n                show(inEl);\n                this.anim?.fadeIn(inEl, 180, 40, null, { translateY: 8 });\n            }\n        };\n\n        if (mode === 'editor') animateSwap(previewPane, editorPane);\n        else if (mode === 'preview') { this.updatePreview(); animateSwap(editorPane, previewPane); }\n        else if (mode === 'split') { show(editorPane); show(previewPane); }\n        else if (mode === 'annotation') { show(editorPane); hide(previewPane); }\n        else if (mode === 'reader') { this.updatePreview(); hide(editorPane); show(previewPane); }\n\n        this.updateStatus(mode);\n    }\n\n    updateStatus(mode) {\n        const statusIndicator = this.getCachedElement('status-indicator');\n        if (!statusIndicator) return;\n\n        const statusDot = statusIndicator.querySelector('.status-dot');\n        const statusText = statusIndicator.querySelector('span');\n        const statuses = {\n            'editor': { text: 'Editing', color: '#00ff00' },\n            'preview': { text: 'Previewing', color: '#00d4ff' },\n            'split': { text: 'Split View', color: '#ffd700' },\n            'annotation': { text: 'Annotating', color: '#ff6b6b' },\n            'reader': { text: 'Reading', color: '#4ecdc4' }\n        };\n\n        const s = statuses[mode] || { text: 'Ready', color: '#00ff00' };\n        if (statusText) statusText.textContent = s.text;\n        if (statusDot?.style) statusDot.style.background = s.color;\n    }\n\n    // === Help Bar ===\n\n    setupHelpBar() {\n        const helpToggle = this.getCachedElement('help-toggle');\n        const helpBar = this.getCachedElement(null, '.help-bar');\n\n        if (helpToggle && helpBar) {\n            const helpIcon = helpToggle.querySelector('.help-icon');\n            const helpText = helpToggle.querySelector('.help-text');\n\n            helpToggle.addEventListener('click', () => {\n                helpBar.classList.toggle('show');\n                const isVisible = helpBar.classList.contains('show');\n                this._updateHelpBarState(isVisible, helpIcon, helpText, helpToggle);\n            });\n\n            // Use tracked listener to prevent memory leak\n            const clickOutsideHandler = (e) => {\n                if (!helpBar.contains(e.target) && !helpToggle.contains(e.target)) {\n                    helpBar.classList.remove('show');\n                    this._updateHelpBarState(false, helpIcon, helpText, helpToggle);\n                }\n            };\n            this.addTrackedListener(document, 'click', clickOutsideHandler);\n\n            helpBar.addEventListener('click', (e) => e.stopPropagation());\n        }\n\n        this.setupCopyButtons();\n    }\n\n    _updateHelpBarState(isVisible, helpIcon, helpText, helpToggle) {\n        if (isVisible) {\n            if (helpIcon) helpIcon.textContent = '';\n            if (helpText) helpText.textContent = 'Close';\n            if (helpToggle) helpToggle.setAttribute('aria-label', 'Close Markdown Help');\n        } else {\n            if (helpIcon) helpIcon.textContent = '';\n            if (helpText) helpText.textContent = 'Help';\n            if (helpToggle) helpToggle.setAttribute('aria-label', 'Open Markdown Help');\n        }\n    }\n\n    setupCopyButtons() {\n        if (this._copyButtonsInitialized) return;\n        this._copyButtonsInitialized = true;\n\n        document.addEventListener('click', (e) => {\n            if (e.target.classList.contains('copy-btn') && e.target.hasAttribute('data-copy-text')) {\n                this.onCopyToEditor(e.target.getAttribute('data-copy-text'));\n            }\n        });\n    }\n\n    // === Stats Counter ===\n\n    setupStatsCounter() {\n        const statsDisplay = document.createElement('div');\n        statsDisplay.id = 'stats-counter';\n        statsDisplay.className = 'stats-counter';\n        statsDisplay.style.cssText = `\n            position: fixed; bottom: 20px; right: 20px;\n            background: rgba(42, 42, 42, 0.95); backdrop-filter: blur(10px);\n            border: 1px solid rgba(255, 215, 0, 0.3); border-radius: 8px;\n            padding: 12px 16px; font-size: 12px; color: #FFD700;\n            z-index: 1000; display: flex; gap: 16px;\n            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.4);\n        `;\n\n        document.body.appendChild(statsDisplay);\n        this.statsDisplay = statsDisplay;\n\n        if (this.editor) {\n            // Add debounced stats updates to prevent excessive recalculation\n            this.editor.addEventListener('input', () => {\n                if (this.statsDebounceTimer) {\n                    clearTimeout(this.statsDebounceTimer);\n                }\n                this.statsDebounceTimer = setTimeout(() => {\n                    this.updateStats();\n                }, this.CONSTANTS.DEBOUNCE_DELAY);\n            });\n        }\n        this.updateStats();\n    }\n\n    updateStats() {\n        if (!this.editor || !this.statsDisplay) return;\n\n        const text = this.editor.value;\n        const trimmedText = text.trim();\n        \n        // Optimize: single pass for word counting and character counting\n        const words = trimmedText ? trimmedText.split(/\\s+/).length : 0;\n        const characters = text.length;\n        const charactersNoSpaces = text.replace(/\\s/g, '').length;\n        const lines = text.split('\\n').length;\n        const readingTime = Math.ceil(words / 200);\n\n        this.stats = { words, characters, lines, readingTime };\n        \n        // Update via textContent if elements exist, otherwise full innerHTML\n        if (this.statElements && this.statElements.words) {\n            this.statElements.words.textContent = ` ${words} words`;\n            this.statElements.characters.textContent = ` ${characters} (${charactersNoSpaces}) chars`;\n            this.statElements.lines.textContent = ` ${lines} lines`;\n            this.statElements.time.textContent = ` ${readingTime} min read`;\n        } else {\n            // Initial render with class names for future caching\n            this.statsDisplay.innerHTML = `\n                <span id=\"word-count\" class=\"stat-words\" title=\"Word count\"> ${words} words</span>\n                <span id=\"char-count\" class=\"stat-chars\" title=\"Character count\"> ${characters} (${charactersNoSpaces}) chars</span>\n                <span id=\"line-count\" class=\"stat-lines\" title=\"Line count\"> ${lines} lines</span>\n                <span id=\"reading-time\" class=\"stat-time\" title=\"Reading time\"> ${readingTime} min read</span>\n            `;\n            // Cache elements after initial render\n            this.statElements = {\n                words: this.statsDisplay.querySelector('.stat-words'),\n                characters: this.statsDisplay.querySelector('.stat-chars'),\n                lines: this.statsDisplay.querySelector('.stat-lines'),\n                time: this.statsDisplay.querySelector('.stat-time')\n            };\n        }\n    }\n\n    // === Save Indicator ===\n\n    createSaveIndicator() {\n        const indicator = document.createElement('div');\n        indicator.id = 'save-indicator';\n        indicator.classList.add('save-indicator');\n        document.body.appendChild(indicator);\n        this.saveIndicator = indicator;\n    }\n\n    updateSaveIndicator(lastSaveTime, getTimeAgo) {\n        if (!this.saveIndicator) return;\n        this.saveIndicator.textContent = lastSaveTime\n            ? ` Saved ${getTimeAgo(lastSaveTime)}`\n            : ' Auto-save enabled';\n    }\n\n    // === Undo/Redo Buttons ===\n\n    addUndoRedoButtons() {\n        const toolbar = document.querySelector('.toolbar');\n        if (!toolbar) return;\n\n        const undoBtn = document.createElement('button');\n        undoBtn.className = 'toolbar-btn';\n        undoBtn.id = 'undo-btn';\n        undoBtn.innerHTML = ' Undo';\n        undoBtn.title = 'Undo (Ctrl+Z)';\n        undoBtn.addEventListener('click', () => this.onUndo());\n\n        const redoBtn = document.createElement('button');\n        redoBtn.className = 'toolbar-btn';\n        redoBtn.id = 'redo-btn';\n        redoBtn.innerHTML = ' Redo';\n        redoBtn.title = 'Redo (Ctrl+Y)';\n        redoBtn.addEventListener('click', () => this.onRedo());\n\n        toolbar.insertBefore(redoBtn, toolbar.firstChild);\n        toolbar.insertBefore(undoBtn, toolbar.firstChild);\n\n        this.undoBtn = undoBtn;\n        this.redoBtn = redoBtn;\n    }\n\n    updateUndoRedoButtons(canUndo, canRedo) {\n        if (this.undoBtn) {\n            this.undoBtn.disabled = !canUndo;\n            this.undoBtn.style.opacity = canUndo ? '1' : '0.5';\n        }\n        if (this.redoBtn) {\n            this.redoBtn.disabled = !canRedo;\n            this.redoBtn.style.opacity = canRedo ? '1' : '0.5';\n        }\n    }\n\n    // === Copy Dropdown ===\n\n    setupToolbarCopyDropdown() {\n        const toolbar = document.querySelector('.toolbar');\n        if (!toolbar) return;\n\n        const existingCopyBtn = Array.from(toolbar.querySelectorAll('.toolbar-btn'))\n            .find(btn => btn.textContent.includes('Copy'));\n\n        if (existingCopyBtn) {\n            existingCopyBtn.replaceWith(this._createCopyDropdown());\n        }\n    }\n\n    _createCopyDropdown() {\n        const container = document.createElement('div');\n        container.style.cssText = 'position: relative; display: inline-block;';\n\n        const mainBtn = document.createElement('button');\n        mainBtn.className = 'toolbar-btn';\n        mainBtn.innerHTML = ' Copy ';\n        mainBtn.title = 'Copy markdown or HTML';\n\n        const dropdown = document.createElement('div');\n        dropdown.style.cssText = `\n            position: absolute; top: 100%; left: 0; background: #222;\n            border: 1px solid #444; border-radius: 4px; margin-top: 4px;\n            display: none; min-width: 150px; z-index: 1000;\n        `;\n\n        const createItem = (text, onClick) => {\n            const item = document.createElement('button');\n            item.style.cssText = `\n                width: 100%; padding: 8px 12px; background: none; border: none;\n                color: #fff; text-align: left; cursor: pointer; font-size: 12px;\n            `;\n            item.textContent = text;\n            item.addEventListener('click', () => { onClick(); dropdown.style.display = 'none'; });\n            item.addEventListener('mouseenter', () => item.style.background = '#333');\n            item.addEventListener('mouseleave', () => item.style.background = 'none');\n            return item;\n        };\n\n        dropdown.appendChild(createItem(' Copy Markdown', () => this.onCopyMarkdown()));\n        dropdown.appendChild(createItem(' Copy HTML', () => this.onCopyHTML()));\n\n        mainBtn.addEventListener('click', (e) => {\n            e.stopPropagation();\n            dropdown.style.display = dropdown.style.display === 'none' ? 'block' : 'none';\n        });\n\n        // Use tracked listener to prevent memory leak\n        const closeDropdownHandler = () => dropdown.style.display = 'none';\n        this.addTrackedListener(document, 'click', closeDropdownHandler);\n\n        container.appendChild(mainBtn);\n        container.appendChild(dropdown);\n        return container;\n    }\n\n    // === Save Button (toolbar) ===\n\n    setupSaveButton() {\n        const saveBtn = document.getElementById('save-btn');\n        if (saveBtn) {\n            saveBtn.addEventListener('click', () => this.onSave());\n            saveBtn.title = 'Save markdown (Ctrl+S)';\n        }\n    }\n\n    // === Export Button ===\n\n    setupExportButton() {\n        let exportBtn = document.getElementById('export-btn');\n        if (!exportBtn) {\n            const toolbar = document.querySelector('.toolbar');\n            if (!toolbar) return;\n            exportBtn = document.createElement('button');\n            exportBtn.id = 'export-btn';\n            exportBtn.className = 'toolbar-btn';\n            exportBtn.innerHTML = ' Export';\n            exportBtn.title = 'Export as HTML file';\n            toolbar.appendChild(exportBtn);\n        }\n        exportBtn.addEventListener('click', () => this.onExport());\n    }\n\n    // === Theme Toggle ===\n\n    setupThemeToggle() {\n        const headerControls = document.querySelector('.header-controls');\n        if (!headerControls) return;\n\n        const themeBtn = document.createElement('button');\n        themeBtn.className = 'toolbar-btn btn-interactive';\n        themeBtn.id = 'theme-toggle';\n        themeBtn.innerHTML = this.currentTheme === 'dark' ? ' Dark' : ' Light';\n        themeBtn.title = 'Toggle theme';\n        themeBtn.addEventListener('click', () => this.toggleTheme());\n\n        headerControls.insertBefore(themeBtn, headerControls.firstChild);\n    }\n\n    toggleTheme() {\n        this.currentTheme = this.currentTheme === 'dark' ? 'light' : 'dark';\n        localStorage.setItem('md-reader-theme', this.currentTheme);\n\n        // Update brain state (v13f)\n        this.setBrainState('theme', this.currentTheme);\n        this._emitEvent('theme:change', { theme: this.currentTheme });\n\n        const themeBtn = document.getElementById('theme-toggle');\n        if (themeBtn) {\n            themeBtn.innerHTML = this.currentTheme === 'dark' ? ' Dark' : ' Light';\n        }\n\n        document.body.classList.toggle('light-theme');\n        this.showNotification(\n            `${this.currentTheme === 'dark' ? '' : ''} ${this.currentTheme} theme activated`,\n            'success',\n            1500\n        );\n    }\n\n    // === v13e: Custom Theme System ===\n\n    /**\n     * Theme presets\n     */\n    static THEME_PRESETS = {\n        default: {\n            name: 'Default Gold',\n            accent: '#FFD700',\n            bgPrimary: '#0a0a0a',\n            bgSecondary: '#111111',\n            bgTertiary: '#1a1a1a',\n            textPrimary: '#ffffff',\n            textSecondary: '#cccccc',\n            textMuted: '#888888',\n            border: '#333333'\n        },\n        ocean: {\n            name: 'Ocean Blue',\n            accent: '#00d4ff',\n            bgPrimary: '#0a1929',\n            bgSecondary: '#0d2137',\n            bgTertiary: '#132f4c',\n            textPrimary: '#ffffff',\n            textSecondary: '#b2bac2',\n            textMuted: '#6b7a8a',\n            border: '#1e4976'\n        },\n        forest: {\n            name: 'Forest Green',\n            accent: '#4CAF50',\n            bgPrimary: '#0a1a0a',\n            bgSecondary: '#0f2a0f',\n            bgTertiary: '#1a3a1a',\n            textPrimary: '#e8f5e9',\n            textSecondary: '#a5d6a7',\n            textMuted: '#66bb6a',\n            border: '#2e5a2e'\n        },\n        sunset: {\n            name: 'Sunset Orange',\n            accent: '#FF6B35',\n            bgPrimary: '#1a0f0a',\n            bgSecondary: '#2a1a14',\n            bgTertiary: '#3a2820',\n            textPrimary: '#fff3e0',\n            textSecondary: '#ffcc80',\n            textMuted: '#ff9800',\n            border: '#5d4037'\n        },\n        midnight: {\n            name: 'Midnight Purple',\n            accent: '#9C27B0',\n            bgPrimary: '#0d0a14',\n            bgSecondary: '#150f20',\n            bgTertiary: '#1f1830',\n            textPrimary: '#f3e5f5',\n            textSecondary: '#ce93d8',\n            textMuted: '#ab47bc',\n            border: '#4a148c'\n        },\n        rose: {\n            name: 'Rose Pink',\n            accent: '#E91E63',\n            bgPrimary: '#140a0d',\n            bgSecondary: '#200f14',\n            bgTertiary: '#30181f',\n            textPrimary: '#fce4ec',\n            textSecondary: '#f48fb1',\n            textMuted: '#ec407a',\n            border: '#880e4f'\n        }\n    };\n\n    /**\n     * Apply a custom theme\n     * @param {Object} themeColors - Theme color object\n     */\n    applyCustomTheme(themeColors) {\n        const root = document.documentElement;\n\n        root.style.setProperty('--accent-color', themeColors.accent);\n        root.style.setProperty('--accent-glow', `${themeColors.accent}66`);\n        root.style.setProperty('--bg-primary', themeColors.bgPrimary);\n        root.style.setProperty('--bg-secondary', themeColors.bgSecondary);\n        root.style.setProperty('--bg-tertiary', themeColors.bgTertiary);\n        root.style.setProperty('--text-primary', themeColors.textPrimary);\n        root.style.setProperty('--text-secondary', themeColors.textSecondary);\n        root.style.setProperty('--text-muted', themeColors.textMuted);\n        root.style.setProperty('--border-color', themeColors.border);\n\n        // Also update body background\n        document.body.style.background = `linear-gradient(135deg, ${themeColors.bgPrimary} 0%, ${themeColors.bgSecondary} 100%)`;\n    }\n\n    /**\n     * Apply a theme preset by name\n     * @param {string} presetName - Preset name from THEME_PRESETS\n     */\n    applyThemePreset(presetName) {\n        const preset = EditorUI.THEME_PRESETS[presetName];\n        if (preset) {\n            this.applyCustomTheme(preset);\n            return true;\n        }\n        return false;\n    }\n\n    /**\n     * Reset to default theme\n     */\n    resetToDefaultTheme() {\n        this.applyThemePreset('default');\n    }\n\n    /**\n     * Get all available theme presets\n     * @returns {Object}\n     */\n    getThemePresets() {\n        return EditorUI.THEME_PRESETS;\n    }\n\n    // === Keyboard Shortcuts Modal ===\n\n    setupKeyboardShortcutsModal() {\n        document.addEventListener('keydown', (e) => {\n            if (e.key === '?' && !e.ctrlKey && !e.metaKey && !e.altKey) {\n                if (document.activeElement === this.editor) return;\n                e.preventDefault();\n                this.showKeyboardShortcutsModal();\n            }\n        });\n    }\n\n    showKeyboardShortcutsModal() {\n        const existing = document.getElementById('shortcuts-modal');\n        if (existing) { existing.remove(); return; }\n\n        const modal = document.createElement('div');\n        modal.id = 'shortcuts-modal';\n        modal.style.cssText = `\n            position: fixed; top: 0; left: 0; right: 0; bottom: 0;\n            background: rgba(0, 0, 0, 0.8); z-index: 10000;\n            display: flex; align-items: center; justify-content: center;\n            backdrop-filter: blur(4px);\n        `;\n\n        const content = document.createElement('div');\n        content.style.cssText = `\n            background: #1a1a1a; border: 2px solid #FFD700; border-radius: 12px;\n            padding: 2rem; max-width: 600px; max-height: 80vh; overflow-y: auto;\n            box-shadow: 0 20px 60px rgba(255, 215, 0, 0.3);\n        `;\n\n        content.innerHTML = `\n            <h2 style=\"color: #FFD700; margin-top: 0;\"> Keyboard Shortcuts</h2>\n            <div style=\"display: grid; grid-template-columns: 1fr 2fr; gap: 12px; color: #fff;\">\n                <div><kbd style=\"background: #333; padding: 4px 8px; border-radius: 4px;\">Ctrl/Cmd + S</kbd></div><div>Save markdown</div>\n                <div><kbd style=\"background: #333; padding: 4px 8px; border-radius: 4px;\">Ctrl/Cmd + Z</kbd></div><div>Undo</div>\n                <div><kbd style=\"background: #333; padding: 4px 8px; border-radius: 4px;\">Ctrl/Cmd + Y</kbd></div><div>Redo</div>\n                <div><kbd style=\"background: #333; padding: 4px 8px; border-radius: 4px;\">Tab</kbd></div><div>Indent (in editor)</div>\n                <div><kbd style=\"background: #333; padding: 4px 8px; border-radius: 4px;\">?</kbd></div><div>Show this help</div>\n                <div><kbd style=\"background: #333; padding: 4px 8px; border-radius: 4px;\">Esc</kbd></div><div>Close modals</div>\n            </div>\n            <button id=\"close-shortcuts\" style=\"\n                margin-top: 1.5rem; padding: 8px 24px; background: #FFD700;\n                color: #000; border: none; border-radius: 6px; cursor: pointer; font-weight: 600;\n            \">Close</button>\n        `;\n\n        modal.appendChild(content);\n        document.body.appendChild(modal);\n\n        const closeModal = () => {\n            document.removeEventListener('keydown', closeOnEsc);\n            modal.remove();\n        };\n\n        const closeOnEsc = (e) => { if (e.key === 'Escape') closeModal(); };\n\n        modal.addEventListener('click', (e) => { if (e.target === modal) closeModal(); });\n        document.getElementById('close-shortcuts').addEventListener('click', closeModal);\n        document.addEventListener('keydown', closeOnEsc);\n    }\n\n    // === Notifications ===\n\n    showNotification(message, type = 'success', duration = null) {\n        const feedbackDuration = duration || this.CONSTANTS.FEEDBACK_DURATION;\n        const isError = type === 'error';\n\n        const notification = document.createElement('div');\n        notification.setAttribute('data-testid', 'notification');\n        notification.textContent = message;\n        notification.style.cssText = `\n            position: fixed; top: 20px;\n            right: ${isError ? '420px' : (this.CONSTANTS.HELP_BAR_WIDTH + 20) + 'px'};\n            background: ${isError ? '#ff6b6b' : '#4caf50'}; color: white;\n            padding: ${isError ? '12px 20px' : '8px 16px'};\n            border-radius: ${isError ? '6px' : '4px'};\n            font-size: 14px; font-weight: 500; z-index: 1001;\n            box-shadow: 0 2px 8px rgba(0,0,0,0.2);\n            ${!isError ? `transition: all ${this.CONSTANTS.HELP_BAR_TRANSITION_DURATION}ms ease;` : ''}\n        `;\n\n        document.body.appendChild(notification);\n\n        this.anim?.fadeOut(\n            notification,\n            this.CONSTANTS.FEEDBACK_FADE_DURATION,\n            feedbackDuration,\n            () => this.removeDOMElement(notification),\n            { translateY: -10 }\n        );\n    }\n\n    // === Copy to Editor ===\n\n    copyToEditor(example) {\n        if (!this.editor) return;\n\n        const cursorPos = this.editor.selectionStart;\n        const currentValue = this.editor.value;\n        const beforeCursor = currentValue.substring(0, cursorPos);\n        const afterCursor = currentValue.substring(cursorPos);\n\n        const spacing = (beforeCursor && !beforeCursor.endsWith('\\n') && !beforeCursor.endsWith(' ')) ? '\\n\\n' : '';\n        const newValue = beforeCursor + spacing + example + (afterCursor ? '\\n\\n' + afterCursor : '');\n\n        this.editor.value = newValue;\n\n        const newCursorPos = cursorPos + spacing.length + example.length + (afterCursor ? 2 : 0);\n        this.editor.setSelectionRange(newCursorPos, newCursorPos);\n\n        this.onUpdatePreview();\n        this.editor.focus();\n    }\n\n    showClipboardError(text) {\n        this.showNotification(' Clipboard access denied. Text is selected - press Ctrl+C to copy.', 'error', 5000);\n\n        if (this.editor) {\n            const start = this.editor.value.indexOf(text);\n            if (start !== -1) {\n                this.editor.setSelectionRange(start, start + text.length);\n                this.editor.focus();\n            }\n        }\n    }\n}\n\nexport default EditorUI;\n","/**\n * PluginRegistry - Tracks installed and enabled plugins\n *\n * Manages plugin state persistence and settings.\n *\n * @module PluginRegistry\n * @version 1.0.0\n */\n\nconst STORAGE_KEY = 'md-reader-pro-plugins';\n\n/**\n * Plugin registration entry\n * @typedef {Object} PluginEntry\n * @property {string} id - Plugin ID\n * @property {boolean} enabled - Whether plugin is enabled\n * @property {Object} settings - Plugin-specific settings\n * @property {string} installedAt - ISO timestamp\n */\n\nclass PluginRegistry {\n    constructor(options = {}) {\n        this.storage = options.storage || (typeof localStorage !== 'undefined' ? localStorage : null);\n        this.entries = new Map();\n        this._load();\n    }\n\n    /**\n     * Load registry from storage\n     * @private\n     */\n    _load() {\n        if (!this.storage) return;\n\n        try {\n            const data = this.storage.getItem(STORAGE_KEY);\n            if (data) {\n                const parsed = JSON.parse(data);\n                for (const entry of parsed) {\n                    this.entries.set(entry.id, entry);\n                }\n            }\n        } catch (err) {\n            console.warn('Failed to load plugin registry:', err);\n        }\n    }\n\n    /**\n     * Save registry to storage\n     * @private\n     */\n    _save() {\n        if (!this.storage) return;\n\n        try {\n            const data = Array.from(this.entries.values());\n            this.storage.setItem(STORAGE_KEY, JSON.stringify(data));\n        } catch (err) {\n            console.warn('Failed to save plugin registry:', err);\n        }\n    }\n\n    /**\n     * Register a plugin\n     * @param {string} id - Plugin ID\n     * @param {Object} settings - Initial settings\n     * @returns {PluginEntry}\n     */\n    register(id, settings = {}) {\n        const entry = {\n            id,\n            enabled: true,\n            settings,\n            installedAt: new Date().toISOString()\n        };\n\n        this.entries.set(id, entry);\n        this._save();\n        return entry;\n    }\n\n    /**\n     * Unregister a plugin\n     * @param {string} id - Plugin ID\n     */\n    unregister(id) {\n        this.entries.delete(id);\n        this._save();\n    }\n\n    /**\n     * Get a plugin entry\n     * @param {string} id - Plugin ID\n     * @returns {PluginEntry|undefined}\n     */\n    get(id) {\n        return this.entries.get(id);\n    }\n\n    /**\n     * Check if plugin is registered\n     * @param {string} id - Plugin ID\n     * @returns {boolean}\n     */\n    isRegistered(id) {\n        return this.entries.has(id);\n    }\n\n    /**\n     * Check if plugin is enabled\n     * @param {string} id - Plugin ID\n     * @returns {boolean}\n     */\n    isEnabled(id) {\n        const entry = this.entries.get(id);\n        return entry?.enabled ?? false;\n    }\n\n    /**\n     * Enable a plugin\n     * @param {string} id - Plugin ID\n     */\n    enable(id) {\n        const entry = this.entries.get(id);\n        if (entry) {\n            entry.enabled = true;\n            this._save();\n        }\n    }\n\n    /**\n     * Disable a plugin\n     * @param {string} id - Plugin ID\n     */\n    disable(id) {\n        const entry = this.entries.get(id);\n        if (entry) {\n            entry.enabled = false;\n            this._save();\n        }\n    }\n\n    /**\n     * Update plugin settings\n     * @param {string} id - Plugin ID\n     * @param {Object} settings - Settings to merge\n     */\n    updateSettings(id, settings) {\n        const entry = this.entries.get(id);\n        if (entry) {\n            entry.settings = { ...entry.settings, ...settings };\n            this._save();\n        }\n    }\n\n    /**\n     * Get all enabled plugin IDs\n     * @returns {string[]}\n     */\n    getEnabledPlugins() {\n        return Array.from(this.entries.values())\n            .filter(e => e.enabled)\n            .map(e => e.id);\n    }\n\n    /**\n     * Get all registered plugin entries\n     * @returns {PluginEntry[]}\n     */\n    getAll() {\n        return Array.from(this.entries.values());\n    }\n\n    /**\n     * Clear all entries\n     */\n    clear() {\n        this.entries.clear();\n        this._save();\n    }\n}\n\nexport default PluginRegistry;\n","/**\n * PluginBridge - Communication bridge between MD Reader Pro and plugins\n *\n * For native plugins: Uses child_process spawn with stdin/stdout JSON IPC\n * For browser-only: Falls back to mock/simulation mode\n *\n * @module PluginBridge\n * @version 1.0.0\n */\n\n/**\n * Generate unique message ID\n * @returns {string}\n */\nfunction generateMessageId() {\n    return `msg-${Date.now()}-${Math.random().toString(36).slice(2, 11)}`;\n}\n\n/**\n * PluginBridge handles IPC with a single plugin instance\n */\nclass PluginBridge {\n    constructor(options = {}) {\n        this.pluginId = options.pluginId || 'unknown';\n        this.type = options.type || 'native';\n        this.binary = options.binary;\n        this.args = options.args || [];\n\n        // Callbacks\n        this.onMessage = options.onMessage || (() => {});\n        this.onError = options.onError || console.error;\n        this.onReady = options.onReady || (() => {});\n        this.onExit = options.onExit || (() => {});\n\n        // State\n        this.process = null;\n        this.ready = false;\n        this.pendingRequests = new Map(); // messageId -> { resolve, reject, timeout }\n        this.buffer = '';\n\n        // Detect environment\n        this.isNode = typeof process !== 'undefined' && process.versions?.node;\n    }\n\n    /**\n     * Start the plugin process\n     * @returns {Promise<void>}\n     */\n    async start() {\n        if (this.type === 'native') {\n            if (this.isNode) {\n                await this._startNativeNode();\n            } else {\n                await this._startNativeBrowser();\n            }\n        }\n    }\n\n    /**\n     * Start native plugin in Node.js environment\n     * @private\n     */\n    async _startNativeNode() {\n        const { spawn } = await import(/* webpackIgnore: true */ 'child_process');\n\n        return new Promise((resolve, reject) => {\n            try {\n                this.process = spawn(this.binary, this.args, {\n                    stdio: ['pipe', 'pipe', 'pipe']\n                });\n\n                // Handle stdout (plugin responses)\n                this.process.stdout.on('data', (data) => {\n                    this._handleData(data.toString());\n                });\n\n                // Handle stderr (plugin errors/logs)\n                this.process.stderr.on('data', (data) => {\n                    console.error(`[${this.pluginId}] stderr:`, data.toString());\n                });\n\n                // Handle process exit\n                this.process.on('exit', (code) => {\n                    this.ready = false;\n                    this.onExit(code);\n                    this._rejectPendingRequests('Plugin process exited');\n                });\n\n                // Handle spawn errors\n                this.process.on('error', (err) => {\n                    this.onError(err);\n                    reject(err);\n                });\n\n                // Wait for ready signal\n                const readyTimeout = setTimeout(() => {\n                    reject(new Error('Plugin startup timeout'));\n                }, 5000);\n\n                const originalOnMessage = this.onMessage;\n                this.onMessage = (msg) => {\n                    if (msg.id === 'init' && msg.success && msg.data?.status === 'ready') {\n                        clearTimeout(readyTimeout);\n                        this.ready = true;\n                        this.onMessage = originalOnMessage;\n                        this.onReady();\n                        resolve();\n                    } else {\n                        originalOnMessage(msg);\n                    }\n                };\n            } catch (err) {\n                reject(err);\n            }\n        });\n    }\n\n    /**\n     * Start native plugin in browser (mock/simulation)\n     * @private\n     */\n    async _startNativeBrowser() {\n        // In browser, native plugins can't run directly\n        // This provides a mock implementation for testing\n        console.warn(`[${this.pluginId}] Running in browser mock mode`);\n\n        this.ready = true;\n        this.mockMode = true;\n        this.onReady();\n    }\n\n    /**\n     * Handle incoming data from plugin\n     * @private\n     */\n    _handleData(data) {\n        this.buffer += data;\n\n        // Process complete JSON lines\n        const lines = this.buffer.split('\\n');\n        this.buffer = lines.pop() || ''; // Keep incomplete line in buffer\n\n        for (const line of lines) {\n            if (line.trim()) {\n                try {\n                    const msg = JSON.parse(line);\n                    this._handleMessage(msg);\n                } catch (err) {\n                    console.error(`[${this.pluginId}] Invalid JSON:`, line);\n                }\n            }\n        }\n    }\n\n    /**\n     * Handle parsed message from plugin\n     * @private\n     */\n    _handleMessage(msg) {\n        // Check if this is a response to a pending request\n        const pending = this.pendingRequests.get(msg.id);\n        if (pending) {\n            clearTimeout(pending.timeout);\n            this.pendingRequests.delete(msg.id);\n\n            if (msg.success) {\n                pending.resolve(msg.data);\n            } else {\n                pending.reject(new Error(msg.error || 'Unknown error'));\n            }\n        } else {\n            // Unsolicited message (event from plugin)\n            this.onMessage(msg);\n        }\n    }\n\n    /**\n     * Send a message to the plugin and wait for response\n     * @param {string} action - Action to perform\n     * @param {Object} payload - Action payload\n     * @param {number} timeout - Timeout in ms (default: 30000)\n     * @returns {Promise<any>}\n     */\n    async send(action, payload = {}, timeout = 30000) {\n        if (!this.ready) {\n            throw new Error('Plugin not ready');\n        }\n\n        const id = generateMessageId();\n        const message = { id, action, payload };\n\n        return new Promise((resolve, reject) => {\n            // Set timeout\n            const timeoutId = setTimeout(() => {\n                this.pendingRequests.delete(id);\n                reject(new Error(`Request timeout: ${action}`));\n            }, timeout);\n\n            // Store pending request\n            this.pendingRequests.set(id, { resolve, reject, timeout: timeoutId });\n\n            // Send message\n            if (this.mockMode) {\n                this._sendMock(message);\n            } else if (this.process) {\n                this.process.stdin.write(JSON.stringify(message) + '\\n');\n            } else {\n                reject(new Error('No plugin process'));\n            }\n        });\n    }\n\n    /**\n     * Mock send for browser testing\n     * @private\n     */\n    _sendMock(message) {\n        // Simulate plugin responses\n        setTimeout(() => {\n            let response;\n            switch (message.action) {\n                case 'ping':\n                    response = { id: message.id, success: true, data: { pong: true } };\n                    break;\n                case 'get_capabilities':\n                    response = {\n                        id: message.id,\n                        success: true,\n                        data: {\n                            actions: ['ping', 'analyze', 'deep_analyze', 'report', 'browse', 'shutdown'],\n                            version: '0.1.0',\n                            features: { tui: true, gui: false }\n                        }\n                    };\n                    break;\n                case 'browse':\n                    response = {\n                        id: message.id,\n                        success: true,\n                        data: {\n                            path: message.payload.path || '.',\n                            entries: [\n                                { name: 'example.md', path: './example.md', type: 'file' },\n                                { name: 'docs', path: './docs', type: 'directory' }\n                            ]\n                        }\n                    };\n                    break;\n                case 'analyze':\n                    response = {\n                        id: message.id,\n                        success: true,\n                        data: {\n                            files_analyzed: message.payload.files?.length || 0,\n                            analyses: (message.payload.files || []).map(f => ({\n                                path: f,\n                                size: 1024,\n                                file_type: 'md',\n                                permissions: '644',\n                                is_binary: false\n                            }))\n                        }\n                    };\n                    break;\n                default:\n                    response = {\n                        id: message.id,\n                        success: false,\n                        error: `Mock: Unknown action ${message.action}`\n                    };\n            }\n            this._handleMessage(response);\n        }, 50);\n    }\n\n    /**\n     * Reject all pending requests\n     * @private\n     */\n    _rejectPendingRequests(reason) {\n        for (const [id, pending] of this.pendingRequests) {\n            clearTimeout(pending.timeout);\n            pending.reject(new Error(reason));\n        }\n        this.pendingRequests.clear();\n    }\n\n    /**\n     * Stop the plugin\n     */\n    stop() {\n        this.ready = false;\n\n        if (this.process) {\n            // Send shutdown command\n            try {\n                this.process.stdin.write(JSON.stringify({\n                    id: 'shutdown',\n                    action: 'shutdown',\n                    payload: {}\n                }) + '\\n');\n            } catch (_err) {\n                // Ignore write errors during shutdown\n            }\n\n            // Give it a moment to clean up, then force kill\n            setTimeout(() => {\n                if (this.process) {\n                    this.process.kill();\n                    this.process = null;\n                }\n            }, 1000);\n        }\n\n        this._rejectPendingRequests('Plugin stopped');\n    }\n\n    /**\n     * Check if plugin is ready\n     * @returns {boolean}\n     */\n    isReady() {\n        return this.ready;\n    }\n}\n\nexport default PluginBridge;\n","/**\n * PluginLoader - Lazy-load plugins on demand\n *\n * Supports multiple plugin types:\n * - native: Spawns external binary (e.g., Diamond Drill)\n * - wasm: Loads WebAssembly module\n * - iframe: Loads plugin in sandboxed iframe\n * - worker: Loads plugin in Web Worker\n *\n * @module PluginLoader\n * @version 1.0.0\n */\n\nimport PluginBridge from './PluginBridge.js';\n\n/**\n * Plugin manifest structure\n * @typedef {Object} PluginManifest\n * @property {string} id - Unique plugin identifier\n * @property {string} name - Display name\n * @property {string} version - Semver version\n * @property {string} type - Plugin type: native|wasm|iframe|worker\n * @property {string} description - Plugin description\n * @property {string[]} capabilities - List of capabilities\n * @property {Object} entry - Entry points by type\n * @property {string[]} permissions - Required permissions\n */\n\n/**\n * Loaded plugin instance\n * @typedef {Object} PluginInstance\n * @property {string} id - Plugin ID\n * @property {PluginManifest} manifest - Plugin manifest\n * @property {string} status - Status: loading|ready|error|stopped\n * @property {PluginBridge} bridge - Communication bridge\n * @property {Function} send - Send message to plugin\n * @property {Function} stop - Stop the plugin\n */\n\nclass PluginLoader {\n    constructor(options = {}) {\n        this.pluginsDir = options.pluginsDir || './plugins';\n        this.manifests = new Map(); // id -> manifest\n        this.instances = new Map(); // id -> PluginInstance\n        this.onPluginReady = options.onPluginReady || (() => {});\n        this.onPluginError = options.onPluginError || console.error;\n        this.onPluginMessage = options.onPluginMessage || (() => {});\n    }\n\n    /**\n     * Discover available plugins by scanning manifests\n     * @returns {Promise<PluginManifest[]>}\n     */\n    async discover() {\n        // In browser, we'd fetch from a known list\n        // For now, return hardcoded Diamond Drill\n        const diamondDrill = {\n            id: 'diamond-drill',\n            name: 'Diamond Drill',\n            version: '0.1.0',\n            type: 'native',\n            description: 'Security-focused file analyzer with read-only enforcement',\n            author: 'Diamond Forgemaster',\n            capabilities: ['file:analyze', 'file:report', 'file:browse', 'ui:panel'],\n            entry: {\n                native: { binary: 'diamond', args: ['--plugin-mode'] },\n                wasm: 'diamond_drill.wasm'\n            },\n            permissions: ['read:files', 'write:reports'],\n            settings: {\n                defaultView: { type: 'select', default: 'panel' },\n                readOnlyEnforce: { type: 'boolean', default: true }\n            }\n        };\n\n        this.manifests.set(diamondDrill.id, diamondDrill);\n        return [diamondDrill];\n    }\n\n    /**\n     * Load a plugin by ID\n     * @param {string} pluginId - Plugin identifier\n     * @returns {Promise<PluginInstance>}\n     */\n    async load(pluginId) {\n        // Check if already loaded\n        if (this.instances.has(pluginId)) {\n            return this.instances.get(pluginId);\n        }\n\n        // Get manifest\n        const manifest = this.manifests.get(pluginId);\n        if (!manifest) {\n            throw new Error(`Plugin not found: ${pluginId}`);\n        }\n\n        // Create instance based on type\n        let instance;\n        switch (manifest.type) {\n            case 'native':\n                instance = await this._loadNativePlugin(manifest);\n                break;\n            case 'wasm':\n                instance = await this._loadWasmPlugin(manifest);\n                break;\n            case 'iframe':\n                instance = await this._loadIframePlugin(manifest);\n                break;\n            case 'worker':\n                instance = await this._loadWorkerPlugin(manifest);\n                break;\n            default:\n                throw new Error(`Unknown plugin type: ${manifest.type}`);\n        }\n\n        this.instances.set(pluginId, instance);\n        return instance;\n    }\n\n    /**\n     * Load a native plugin (spawns external process)\n     * @private\n     */\n    async _loadNativePlugin(manifest) {\n        const bridge = new PluginBridge({\n            pluginId: manifest.id,\n            type: 'native',\n            binary: manifest.entry.native.binary,\n            args: manifest.entry.native.args,\n            onMessage: (msg) => this.onPluginMessage(manifest.id, msg),\n            onError: (err) => this.onPluginError(manifest.id, err),\n            onReady: () => this.onPluginReady(manifest.id)\n        });\n\n        await bridge.start();\n\n        return {\n            id: manifest.id,\n            manifest,\n            status: 'ready',\n            bridge,\n            send: (action, payload) => bridge.send(action, payload),\n            stop: () => bridge.stop()\n        };\n    }\n\n    /**\n     * Load a WASM plugin\n     * @private\n     */\n    async _loadWasmPlugin(manifest) {\n        // WASM loading would go here\n        // For now, return a stub\n        console.warn(`WASM plugins not yet implemented: ${manifest.id}`);\n\n        return {\n            id: manifest.id,\n            manifest,\n            status: 'error',\n            bridge: null,\n            send: () => Promise.reject(new Error('WASM not implemented')),\n            stop: () => {}\n        };\n    }\n\n    /**\n     * Load an iframe plugin\n     * @private\n     */\n    async _loadIframePlugin(manifest) {\n        // IFrame loading would go here\n        console.warn(`IFrame plugins not yet implemented: ${manifest.id}`);\n\n        return {\n            id: manifest.id,\n            manifest,\n            status: 'error',\n            bridge: null,\n            send: () => Promise.reject(new Error('IFrame not implemented')),\n            stop: () => {}\n        };\n    }\n\n    /**\n     * Load a worker plugin\n     * @private\n     */\n    async _loadWorkerPlugin(manifest) {\n        // Worker loading would go here\n        console.warn(`Worker plugins not yet implemented: ${manifest.id}`);\n\n        return {\n            id: manifest.id,\n            manifest,\n            status: 'error',\n            bridge: null,\n            send: () => Promise.reject(new Error('Worker not implemented')),\n            stop: () => {}\n        };\n    }\n\n    /**\n     * Unload a plugin\n     * @param {string} pluginId - Plugin identifier\n     */\n    async unload(pluginId) {\n        const instance = this.instances.get(pluginId);\n        if (instance) {\n            instance.stop();\n            this.instances.delete(pluginId);\n        }\n    }\n\n    /**\n     * v13d: Hot reload a plugin (unload + reload without restart)\n     * @param {string} pluginId - Plugin identifier\n     * @returns {Promise<PluginInstance>}\n     */\n    async hotReload(pluginId) {\n        console.log(` Hot reloading plugin: ${pluginId}`);\n\n        // Store current manifest in case we need to refresh it\n        const oldManifest = this.manifests.get(pluginId);\n\n        // Unload if currently loaded\n        if (this.instances.has(pluginId)) {\n            await this.unload(pluginId);\n        }\n\n        // Re-discover plugins to pick up any manifest changes\n        await this.discover();\n\n        // Check if plugin still exists after rediscovery\n        if (!this.manifests.has(pluginId)) {\n            // Restore old manifest if rediscovery failed to find it\n            if (oldManifest) {\n                this.manifests.set(pluginId, oldManifest);\n            } else {\n                throw new Error(`Plugin not found after rediscovery: ${pluginId}`);\n            }\n        }\n\n        // Reload the plugin\n        const instance = await this.load(pluginId);\n\n        console.log(` Hot reload complete: ${pluginId}`);\n        return instance;\n    }\n\n    /**\n     * Get a loaded plugin instance\n     * @param {string} pluginId - Plugin identifier\n     * @returns {PluginInstance|undefined}\n     */\n    get(pluginId) {\n        return this.instances.get(pluginId);\n    }\n\n    /**\n     * Check if a plugin is loaded\n     * @param {string} pluginId - Plugin identifier\n     * @returns {boolean}\n     */\n    isLoaded(pluginId) {\n        return this.instances.has(pluginId);\n    }\n\n    /**\n     * Get all loaded plugin IDs\n     * @returns {string[]}\n     */\n    getLoadedPlugins() {\n        return Array.from(this.instances.keys());\n    }\n\n    /**\n     * Get all available plugin manifests\n     * @returns {PluginManifest[]}\n     */\n    getAvailablePlugins() {\n        return Array.from(this.manifests.values());\n    }\n\n    /**\n     * Stop all plugins\n     */\n    stopAll() {\n        for (const instance of this.instances.values()) {\n            instance.stop();\n        }\n        this.instances.clear();\n    }\n}\n\nexport default PluginLoader;\n","/**\n * PluginPanel - Sidebar panel for plugin UI\n *\n * Provides a collapsible panel that plugins can render into.\n * Diamond Drill uses this to show analysis results.\n *\n * @module PluginPanel\n * @version 1.0.0\n */\n\nclass PluginPanel {\n    constructor(options = {}) {\n        this.container = null;\n        this.contentArea = null;\n        this.isOpen = false;\n        this.currentPlugin = null;\n        this.width = options.width || 350;\n\n        // Callbacks\n        this.onClose = options.onClose || (() => {});\n        this.onPluginAction = options.onPluginAction || (() => {});\n\n        // v13b/c: Analysis history for batch export\n        this._analysisHistory = [];\n        this._maxHistory = 50;\n    }\n\n    /**\n     * Create and mount the panel\n     */\n    mount() {\n        if (this.container) return;\n\n        // Create panel container\n        this.container = document.createElement('div');\n        this.container.id = 'plugin-panel';\n        this.container.className = 'plugin-panel';\n        this.container.style.cssText = `\n            position: fixed;\n            top: 60px;\n            right: 0;\n            bottom: 0;\n            width: ${this.width}px;\n            background: var(--bg-secondary, #1a1a2e);\n            border-left: 2px solid var(--accent, #FFD700);\n            transform: translateX(100%);\n            transition: transform 0.3s ease;\n            z-index: 1000;\n            display: flex;\n            flex-direction: column;\n            box-shadow: -4px 0 20px rgba(0, 0, 0, 0.3);\n        `;\n\n        // Header\n        const header = document.createElement('div');\n        header.className = 'plugin-panel-header';\n        header.style.cssText = `\n            padding: 16px;\n            border-bottom: 1px solid var(--border, #333);\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            background: var(--bg-tertiary, #16162a);\n        `;\n\n        this.titleEl = document.createElement('h3');\n        this.titleEl.style.cssText = `\n            margin: 0;\n            color: var(--accent, #FFD700);\n            font-size: 14px;\n            display: flex;\n            align-items: center;\n            gap: 8px;\n        `;\n        this.titleEl.innerHTML = ' Plugin Panel';\n\n        const closeBtn = document.createElement('button');\n        closeBtn.innerHTML = '';\n        closeBtn.style.cssText = `\n            background: none;\n            border: none;\n            color: #888;\n            font-size: 18px;\n            cursor: pointer;\n            padding: 4px 8px;\n            border-radius: 4px;\n            transition: all 0.2s;\n        `;\n        closeBtn.addEventListener('mouseenter', () => {\n            closeBtn.style.background = 'rgba(255, 0, 0, 0.2)';\n            closeBtn.style.color = '#ff6b6b';\n        });\n        closeBtn.addEventListener('mouseleave', () => {\n            closeBtn.style.background = 'none';\n            closeBtn.style.color = '#888';\n        });\n        closeBtn.addEventListener('click', () => this.close());\n\n        header.appendChild(this.titleEl);\n        header.appendChild(closeBtn);\n\n        // Content area\n        this.contentArea = document.createElement('div');\n        this.contentArea.className = 'plugin-panel-content';\n        this.contentArea.style.cssText = `\n            flex: 1;\n            overflow-y: auto;\n            padding: 16px;\n            color: var(--text, #e0e0e0);\n        `;\n\n        // Default content\n        this.contentArea.innerHTML = `\n            <div style=\"text-align: center; color: #666; padding: 40px 20px;\">\n                <div style=\"font-size: 48px; margin-bottom: 16px;\"></div>\n                <p>No plugin active</p>\n                <p style=\"font-size: 12px;\">Load a plugin from the Plugins menu</p>\n            </div>\n        `;\n\n        this.container.appendChild(header);\n        this.container.appendChild(this.contentArea);\n\n        document.body.appendChild(this.container);\n    }\n\n    /**\n     * Open the panel\n     */\n    open() {\n        if (!this.container) this.mount();\n        this.container.style.transform = 'translateX(0)';\n        this.isOpen = true;\n\n        // Adjust main content\n        const mainContent = document.querySelector('.content');\n        if (mainContent) {\n            mainContent.style.marginRight = `${this.width}px`;\n            mainContent.style.transition = 'margin-right 0.3s ease';\n        }\n    }\n\n    /**\n     * Close the panel\n     */\n    close() {\n        if (!this.container) return;\n        this.container.style.transform = 'translateX(100%)';\n        this.isOpen = false;\n\n        // Reset main content\n        const mainContent = document.querySelector('.content');\n        if (mainContent) {\n            mainContent.style.marginRight = '0';\n        }\n\n        this.onClose();\n    }\n\n    /**\n     * Toggle panel visibility\n     */\n    toggle() {\n        if (this.isOpen) {\n            this.close();\n        } else {\n            this.open();\n        }\n    }\n\n    /**\n     * Set the panel title\n     * @param {string} title\n     * @param {string} icon\n     */\n    setTitle(title, icon = '') {\n        if (this.titleEl) {\n            this.titleEl.innerHTML = `${icon} ${title}`;\n        }\n    }\n\n    /**\n     * Set content as HTML\n     * @param {string} html\n     */\n    setContent(html) {\n        if (this.contentArea) {\n            this.contentArea.innerHTML = html;\n        }\n    }\n\n    /**\n     * Append content\n     * @param {HTMLElement|string} content\n     */\n    appendContent(content) {\n        if (!this.contentArea) return;\n\n        if (typeof content === 'string') {\n            this.contentArea.insertAdjacentHTML('beforeend', content);\n        } else {\n            this.contentArea.appendChild(content);\n        }\n    }\n\n    /**\n     * Clear content\n     */\n    clearContent() {\n        if (this.contentArea) {\n            this.contentArea.innerHTML = '';\n        }\n    }\n\n    /**\n     * Show loading state\n     * @param {string} message\n     */\n    showLoading(message = 'Loading...') {\n        this.setContent(`\n            <div style=\"text-align: center; padding: 40px;\">\n                <div class=\"spinner\" style=\"\n                    width: 40px;\n                    height: 40px;\n                    border: 3px solid #333;\n                    border-top-color: var(--accent, #FFD700);\n                    border-radius: 50%;\n                    animation: spin 1s linear infinite;\n                    margin: 0 auto 16px;\n                \"></div>\n                <p style=\"color: #888;\">${message}</p>\n            </div>\n            <style>\n                @keyframes spin { to { transform: rotate(360deg); } }\n            </style>\n        `);\n    }\n\n    /**\n     * Show error state\n     * @param {string} message\n     */\n    showError(message) {\n        this.setContent(`\n            <div style=\"text-align: center; padding: 40px; color: #ff6b6b;\">\n                <div style=\"font-size: 48px; margin-bottom: 16px;\"></div>\n                <p>${message}</p>\n            </div>\n        `);\n    }\n\n    /**\n     * Show analysis results (Diamond Drill format)\n     * @param {Object} results\n     */\n    showAnalysisResults(results) {\n        // v13c: Add to history\n        this._addToHistory(results);\n        this._lastAnalysisResults = results;\n\n        const { files_analyzed, analyses } = results;\n\n        let html = `\n            <div style=\"margin-bottom: 16px;\">\n                <div style=\"display: flex; justify-content: space-between; align-items: center;\">\n                    <span style=\"color: var(--accent, #FFD700); font-weight: bold;\">\n                         Analysis Complete\n                    </span>\n                    <span style=\"color: #888; font-size: 12px;\">\n                        ${files_analyzed} file(s)\n                    </span>\n                </div>\n            </div>\n        `;\n\n        if (analyses && analyses.length > 0) {\n            html += '<div style=\"display: flex; flex-direction: column; gap: 12px;\">';\n\n            for (const analysis of analyses) {\n                const fileName = analysis.path.split('/').pop();\n                const sizeStr = this._formatSize(analysis.size);\n\n                html += `\n                    <div style=\"\n                        background: rgba(255, 215, 0, 0.05);\n                        border: 1px solid #333;\n                        border-radius: 8px;\n                        padding: 12px;\n                    \">\n                        <div style=\"font-weight: bold; margin-bottom: 8px; color: #fff;\">\n                             ${fileName}\n                        </div>\n                        <div style=\"font-size: 12px; color: #888; display: grid; grid-template-columns: 1fr 1fr; gap: 4px;\">\n                            <span>Type: ${analysis.file_type}</span>\n                            <span>Size: ${sizeStr}</span>\n                            ${analysis.line_count ? `<span>Lines: ${analysis.line_count}</span>` : ''}\n                            ${analysis.word_count ? `<span>Words: ${analysis.word_count}</span>` : ''}\n                        </div>\n                        ${analysis.is_binary ? '<div style=\"color: #ff9800; font-size: 11px; margin-top: 4px;\"> Binary file</div>' : ''}\n                    </div>\n                `;\n            }\n\n            html += '</div>';\n        }\n\n        this.setContent(html);\n    }\n\n    /**\n     * Format file size\n     * @private\n     */\n    _formatSize(bytes) {\n        if (bytes < 1024) return `${bytes} B`;\n        if (bytes < 1024 * 1024) return `${(bytes / 1024).toFixed(1)} KB`;\n        return `${(bytes / (1024 * 1024)).toFixed(1)} MB`;\n    }\n\n    /**\n     * Show deep analysis results (directory analysis)\n     * @param {Object} results - Deep analysis results from analyzer module\n     */\n    showDeepAnalysisResults(results) {\n        const { source_path, total_files, total_size, file_types, files } = results;\n\n        let html = `\n            <div style=\"margin-bottom: 16px;\">\n                <div style=\"color: var(--accent, #FFD700); font-weight: bold; margin-bottom: 8px;\">\n                     Deep Analysis Report\n                </div>\n                <div style=\"font-size: 12px; color: #888;\">\n                    Source: ${source_path || 'Unknown'}\n                </div>\n            </div>\n\n            <div style=\"display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 16px;\">\n                <div style=\"background: rgba(76, 175, 80, 0.1); padding: 12px; border-radius: 8px; text-align: center;\">\n                    <div style=\"font-size: 24px; color: #4caf50;\">${total_files || 0}</div>\n                    <div style=\"font-size: 11px; color: #888;\">Files</div>\n                </div>\n                <div style=\"background: rgba(33, 150, 243, 0.1); padding: 12px; border-radius: 8px; text-align: center;\">\n                    <div style=\"font-size: 24px; color: #2196f3;\">${this._formatSize(total_size || 0)}</div>\n                    <div style=\"font-size: 11px; color: #888;\">Total Size</div>\n                </div>\n            </div>\n        `;\n\n        // File types breakdown\n        if (file_types && Object.keys(file_types).length > 0) {\n            html += `\n                <div style=\"margin-bottom: 16px;\">\n                    <div style=\"font-size: 12px; color: #fff; margin-bottom: 8px;\">File Types</div>\n                    <div style=\"display: flex; flex-wrap: wrap; gap: 6px;\">\n            `;\n\n            for (const [ext, count] of Object.entries(file_types)) {\n                html += `\n                    <span style=\"\n                        background: rgba(255, 215, 0, 0.1);\n                        border: 1px solid #333;\n                        padding: 4px 8px;\n                        border-radius: 12px;\n                        font-size: 11px;\n                        color: #e0e0e0;\n                    \">.${ext} (${count})</span>\n                `;\n            }\n\n            html += '</div></div>';\n        }\n\n        // Export buttons\n        html += `\n            <div style=\"display: flex; gap: 8px; margin-top: 16px;\">\n                <button id=\"export-json-btn\" style=\"\n                    flex: 1; padding: 8px; border: 1px solid #FFD700;\n                    background: transparent; color: #FFD700;\n                    border-radius: 6px; cursor: pointer; font-size: 12px;\n                \"> Export JSON</button>\n                <button id=\"export-md-btn\" style=\"\n                    flex: 1; padding: 8px; border: 1px solid #4caf50;\n                    background: transparent; color: #4caf50;\n                    border-radius: 6px; cursor: pointer; font-size: 12px;\n                \"> Export MD</button>\n            </div>\n        `;\n\n        this.setContent(html);\n        this._lastAnalysisResults = results;\n\n        // Wire up export buttons\n        document.getElementById('export-json-btn')?.addEventListener('click', () => {\n            this.exportReport('json');\n        });\n        document.getElementById('export-md-btn')?.addEventListener('click', () => {\n            this.exportReport('markdown');\n        });\n    }\n\n    /**\n     * Show plugin settings UI\n     * @param {Object} currentSettings\n     * @param {Function} onSave\n     */\n    showSettings(currentSettings, onSave) {\n        const settings = currentSettings || {};\n\n        const html = `\n            <div style=\"padding: 8px 0;\">\n                <h4 style=\"color: var(--accent, #FFD700); margin: 0 0 16px;\"> Plugin Settings</h4>\n\n                <div style=\"margin-bottom: 16px;\">\n                    <label style=\"display: flex; align-items: center; gap: 8px; color: #e0e0e0; cursor: pointer;\">\n                        <input type=\"checkbox\" id=\"setting-auto-analyze\" ${settings.autoAnalyze ? 'checked' : ''}>\n                        <span>Auto-analyze on file load</span>\n                    </label>\n                </div>\n\n                <div style=\"margin-bottom: 16px;\">\n                    <label style=\"display: block; color: #888; font-size: 12px; margin-bottom: 4px;\">\n                        Report Format\n                    </label>\n                    <select id=\"setting-report-format\" style=\"\n                        width: 100%; padding: 8px; background: #252540;\n                        border: 1px solid #333; border-radius: 6px; color: #e0e0e0;\n                    \">\n                        <option value=\"json\" ${settings.reportFormat === 'json' ? 'selected' : ''}>JSON</option>\n                        <option value=\"markdown\" ${settings.reportFormat === 'markdown' ? 'selected' : ''}>Markdown</option>\n                        <option value=\"html\" ${settings.reportFormat === 'html' ? 'selected' : ''}>HTML</option>\n                    </select>\n                </div>\n\n                <div style=\"margin-bottom: 16px;\">\n                    <label style=\"display: block; color: #888; font-size: 12px; margin-bottom: 4px;\">\n                        Theme Sync\n                    </label>\n                    <select id=\"setting-theme\" style=\"\n                        width: 100%; padding: 8px; background: #252540;\n                        border: 1px solid #333; border-radius: 6px; color: #e0e0e0;\n                    \">\n                        <option value=\"auto\" ${settings.theme === 'auto' ? 'selected' : ''}>Auto (follow editor)</option>\n                        <option value=\"dark\" ${settings.theme === 'dark' ? 'selected' : ''}>Dark</option>\n                        <option value=\"light\" ${settings.theme === 'light' ? 'selected' : ''}>Light</option>\n                    </select>\n                </div>\n\n                <div style=\"display: flex; gap: 8px; margin-top: 24px;\">\n                    <button id=\"settings-save-btn\" style=\"\n                        flex: 1; padding: 10px; border: none;\n                        background: #FFD700; color: #000;\n                        border-radius: 6px; cursor: pointer; font-weight: bold;\n                    \">Save Settings</button>\n                    <button id=\"settings-cancel-btn\" style=\"\n                        padding: 10px 16px; border: 1px solid #666;\n                        background: transparent; color: #888;\n                        border-radius: 6px; cursor: pointer;\n                    \">Cancel</button>\n                </div>\n            </div>\n        `;\n\n        this.setContent(html);\n\n        // Wire up save button\n        document.getElementById('settings-save-btn')?.addEventListener('click', () => {\n            const newSettings = {\n                autoAnalyze: document.getElementById('setting-auto-analyze')?.checked || false,\n                reportFormat: document.getElementById('setting-report-format')?.value || 'json',\n                theme: document.getElementById('setting-theme')?.value || 'auto'\n            };\n            if (onSave) onSave(newSettings);\n        });\n\n        document.getElementById('settings-cancel-btn')?.addEventListener('click', () => {\n            this.close();\n        });\n    }\n\n    /**\n     * Export analysis report\n     * @param {string} format - json, markdown, or html\n     */\n    exportReport(format = 'json') {\n        const results = this._lastAnalysisResults;\n        if (!results) {\n            console.warn('No analysis results to export');\n            return;\n        }\n\n        let content, filename, mimeType;\n\n        if (format === 'json') {\n            content = JSON.stringify(results, null, 2);\n            filename = 'analysis-report.json';\n            mimeType = 'application/json';\n        } else if (format === 'markdown') {\n            content = this._generateMarkdownReport(results);\n            filename = 'analysis-report.md';\n            mimeType = 'text/markdown';\n        } else {\n            content = this._generateHtmlReport(results);\n            filename = 'analysis-report.html';\n            mimeType = 'text/html';\n        }\n\n        // Download file\n        const blob = new Blob([content], { type: mimeType });\n        const url = URL.createObjectURL(blob);\n        const a = document.createElement('a');\n        a.href = url;\n        a.download = filename;\n        a.click();\n        URL.revokeObjectURL(url);\n    }\n\n    /**\n     * Generate Markdown report\n     * @private\n     */\n    _generateMarkdownReport(results) {\n        let md = `# Analysis Report\\n\\n`;\n        md += `**Generated:** ${new Date().toISOString()}\\n\\n`;\n\n        if (results.source_path) {\n            md += `**Source:** ${results.source_path}\\n\\n`;\n        }\n\n        md += `## Summary\\n\\n`;\n        md += `| Metric | Value |\\n`;\n        md += `|--------|-------|\\n`;\n        md += `| Files Analyzed | ${results.total_files || results.files_analyzed || 0} |\\n`;\n        md += `| Total Size | ${this._formatSize(results.total_size || 0)} |\\n\\n`;\n\n        if (results.file_types) {\n            md += `## File Types\\n\\n`;\n            for (const [ext, count] of Object.entries(results.file_types)) {\n                md += `- **.${ext}**: ${count} files\\n`;\n            }\n            md += `\\n`;\n        }\n\n        if (results.analyses || results.files) {\n            const files = results.analyses || results.files || [];\n            md += `## Files\\n\\n`;\n            for (const file of files) {\n                md += `### ${file.path}\\n\\n`;\n                md += `- Type: ${file.file_type}\\n`;\n                md += `- Size: ${this._formatSize(file.size)}\\n`;\n                if (file.line_count) md += `- Lines: ${file.line_count}\\n`;\n                if (file.word_count) md += `- Words: ${file.word_count}\\n`;\n                md += `\\n`;\n            }\n        }\n\n        return md;\n    }\n\n    /**\n     * Generate HTML report\n     * @private\n     */\n    _generateHtmlReport(results) {\n        return `<!DOCTYPE html>\n<html>\n<head>\n    <title>Analysis Report</title>\n    <style>\n        body { font-family: system-ui; max-width: 800px; margin: 40px auto; padding: 0 20px; background: #1a1a2e; color: #e0e0e0; }\n        h1 { color: #FFD700; }\n        table { width: 100%; border-collapse: collapse; margin: 20px 0; }\n        th, td { padding: 10px; border: 1px solid #333; text-align: left; }\n        th { background: #252540; }\n    </style>\n</head>\n<body>\n    <h1> Analysis Report</h1>\n    <p>Generated: ${new Date().toISOString()}</p>\n    <table>\n        <tr><th>Metric</th><th>Value</th></tr>\n        <tr><td>Files Analyzed</td><td>${results.total_files || results.files_analyzed || 0}</td></tr>\n        <tr><td>Total Size</td><td>${this._formatSize(results.total_size || 0)}</td></tr>\n    </table>\n    <pre>${JSON.stringify(results, null, 2)}</pre>\n</body>\n</html>`;\n    }\n\n    // === v13b: Batch Export ===\n\n    /**\n     * Export multiple analyses as a batch\n     * @param {string} format - json, markdown, html\n     * @param {number[]} indices - Indices of history items to export (all if empty)\n     */\n    batchExport(format = 'json', indices = []) {\n        const historyToExport = indices.length > 0\n            ? indices.map(i => this._analysisHistory[i]).filter(Boolean)\n            : this._analysisHistory;\n\n        if (historyToExport.length === 0) {\n            console.warn('No analysis history to export');\n            return;\n        }\n\n        const batchReport = {\n            batch_export: true,\n            exported_at: new Date().toISOString(),\n            total_analyses: historyToExport.length,\n            analyses: historyToExport\n        };\n\n        let content, filename, mimeType;\n\n        if (format === 'json') {\n            content = JSON.stringify(batchReport, null, 2);\n            filename = `batch-analysis-${Date.now()}.json`;\n            mimeType = 'application/json';\n        } else if (format === 'markdown') {\n            content = this._generateBatchMarkdown(batchReport);\n            filename = `batch-analysis-${Date.now()}.md`;\n            mimeType = 'text/markdown';\n        } else {\n            content = this._generateBatchHtml(batchReport);\n            filename = `batch-analysis-${Date.now()}.html`;\n            mimeType = 'text/html';\n        }\n\n        // Download file\n        const blob = new Blob([content], { type: mimeType });\n        const url = URL.createObjectURL(blob);\n        const a = document.createElement('a');\n        a.href = url;\n        a.download = filename;\n        a.click();\n        URL.revokeObjectURL(url);\n    }\n\n    /**\n     * Generate batch markdown report\n     * @private\n     */\n    _generateBatchMarkdown(batchReport) {\n        let md = `# Batch Analysis Report\\n\\n`;\n        md += `**Exported:** ${batchReport.exported_at}\\n`;\n        md += `**Total Analyses:** ${batchReport.total_analyses}\\n\\n`;\n        md += `---\\n\\n`;\n\n        batchReport.analyses.forEach((entry, idx) => {\n            md += `## Analysis #${idx + 1}\\n\\n`;\n            md += `**Time:** ${entry.timestamp}\\n\\n`;\n            md += this._generateMarkdownReport(entry.results);\n            md += `\\n---\\n\\n`;\n        });\n\n        return md;\n    }\n\n    /**\n     * Generate batch HTML report\n     * @private\n     */\n    _generateBatchHtml(batchReport) {\n        const analysesHtml = batchReport.analyses.map((entry, idx) => `\n            <section style=\"margin: 20px 0; padding: 20px; border: 1px solid #333; border-radius: 8px;\">\n                <h2>Analysis #${idx + 1}</h2>\n                <p style=\"color: #888;\">Time: ${entry.timestamp}</p>\n                <pre style=\"background: #16162a; padding: 15px; border-radius: 4px; overflow-x: auto;\">\n${JSON.stringify(entry.results, null, 2)}</pre>\n            </section>\n        `).join('');\n\n        return `<!DOCTYPE html>\n<html>\n<head>\n    <title>Batch Analysis Report</title>\n    <style>\n        body { font-family: system-ui; max-width: 900px; margin: 40px auto; padding: 0 20px; background: #1a1a2e; color: #e0e0e0; }\n        h1 { color: #FFD700; }\n        h2 { color: #4CAF50; }\n    </style>\n</head>\n<body>\n    <h1> Batch Analysis Report</h1>\n    <p>Exported: ${batchReport.exported_at}</p>\n    <p>Total Analyses: ${batchReport.total_analyses}</p>\n    ${analysesHtml}\n</body>\n</html>`;\n    }\n\n    // === v13c: Analysis History ===\n\n    /**\n     * Add analysis to history\n     * @private\n     */\n    _addToHistory(results) {\n        const entry = {\n            id: Date.now(),\n            timestamp: new Date().toISOString(),\n            results: results\n        };\n\n        this._analysisHistory.unshift(entry);\n\n        // Trim to max history\n        if (this._analysisHistory.length > this._maxHistory) {\n            this._analysisHistory = this._analysisHistory.slice(0, this._maxHistory);\n        }\n    }\n\n    /**\n     * Get analysis history\n     * @returns {Array}\n     */\n    getHistory() {\n        return [...this._analysisHistory];\n    }\n\n    /**\n     * Clear analysis history\n     */\n    clearHistory() {\n        this._analysisHistory = [];\n    }\n\n    /**\n     * Show analysis history UI\n     */\n    showHistory() {\n        if (this._analysisHistory.length === 0) {\n            this.setContent(`\n                <div style=\"text-align: center; padding: 40px; color: #666;\">\n                    <div style=\"font-size: 48px; margin-bottom: 16px;\"></div>\n                    <p>No analysis history yet</p>\n                    <p style=\"font-size: 12px;\">Analyze some files to build your history</p>\n                </div>\n            `);\n            return;\n        }\n\n        let html = `\n            <div style=\"margin-bottom: 16px;\">\n                <div style=\"display: flex; justify-content: space-between; align-items: center;\">\n                    <span style=\"color: var(--accent, #FFD700); font-weight: bold;\">\n                         Analysis History\n                    </span>\n                    <span style=\"color: #888; font-size: 12px;\">\n                        ${this._analysisHistory.length} entries\n                    </span>\n                </div>\n            </div>\n\n            <div style=\"display: flex; gap: 8px; margin-bottom: 16px;\">\n                <button id=\"batch-export-json\" style=\"\n                    flex: 1; padding: 8px; border: 1px solid #FFD700;\n                    background: transparent; color: #FFD700;\n                    border-radius: 6px; cursor: pointer; font-size: 11px;\n                \">Export All JSON</button>\n                <button id=\"batch-export-md\" style=\"\n                    flex: 1; padding: 8px; border: 1px solid #4caf50;\n                    background: transparent; color: #4caf50;\n                    border-radius: 6px; cursor: pointer; font-size: 11px;\n                \">Export All MD</button>\n                <button id=\"clear-history\" style=\"\n                    padding: 8px 12px; border: 1px solid #ff6b6b;\n                    background: transparent; color: #ff6b6b;\n                    border-radius: 6px; cursor: pointer; font-size: 11px;\n                \">Clear</button>\n            </div>\n\n            <div style=\"display: flex; flex-direction: column; gap: 8px;\">\n        `;\n\n        this._analysisHistory.forEach((entry, idx) => {\n            const results = entry.results;\n            const fileCount = results.files_analyzed || results.total_files || 1;\n            const time = new Date(entry.timestamp).toLocaleString();\n\n            html += `\n                <div class=\"history-item\" data-idx=\"${idx}\" style=\"\n                    background: rgba(255, 215, 0, 0.05);\n                    border: 1px solid #333;\n                    border-radius: 8px;\n                    padding: 12px;\n                    cursor: pointer;\n                    transition: all 0.2s;\n                \">\n                    <div style=\"display: flex; justify-content: space-between; align-items: start;\">\n                        <div>\n                            <div style=\"font-weight: bold; color: #fff; font-size: 13px;\">\n                                ${fileCount} file(s) analyzed\n                            </div>\n                            <div style=\"font-size: 11px; color: #888; margin-top: 2px;\">\n                                ${time}\n                            </div>\n                        </div>\n                        <button class=\"history-view-btn\" data-idx=\"${idx}\" style=\"\n                            padding: 4px 8px; border: 1px solid #666;\n                            background: transparent; color: #888;\n                            border-radius: 4px; cursor: pointer; font-size: 10px;\n                        \">View</button>\n                    </div>\n                </div>\n            `;\n        });\n\n        html += '</div>';\n\n        this.setContent(html);\n\n        // Wire up batch export buttons\n        document.getElementById('batch-export-json')?.addEventListener('click', () => {\n            this.batchExport('json');\n        });\n        document.getElementById('batch-export-md')?.addEventListener('click', () => {\n            this.batchExport('markdown');\n        });\n        document.getElementById('clear-history')?.addEventListener('click', () => {\n            if (confirm('Clear all analysis history?')) {\n                this.clearHistory();\n                this.showHistory();\n            }\n        });\n\n        // Wire up view buttons\n        document.querySelectorAll('.history-view-btn').forEach(btn => {\n            btn.addEventListener('click', (e) => {\n                e.stopPropagation();\n                const idx = parseInt(btn.dataset.idx, 10);\n                const entry = this._analysisHistory[idx];\n                if (entry) {\n                    this._lastAnalysisResults = entry.results;\n                    if (entry.results.source_path || entry.results.total_files) {\n                        this.showDeepAnalysisResults(entry.results);\n                    } else {\n                        this.showAnalysisResults(entry.results);\n                    }\n                }\n            });\n        });\n    }\n\n    /**\n     * Destroy the panel\n     */\n    destroy() {\n        if (this.container) {\n            this.container.remove();\n            this.container = null;\n            this.contentArea = null;\n        }\n    }\n}\n\nexport default PluginPanel;\n","/**\n * Storefront - Local plugin management UI\n *\n * Modal for browsing, installing, and configuring plugins.\n *\n * @module Storefront\n * @version 1.0.0\n */\n\nclass Storefront {\n    constructor(options = {}) {\n        this.modal = null;\n        this.isOpen = false;\n\n        // Plugin system references\n        this.pluginLoader = options.pluginLoader;\n        this.pluginRegistry = options.pluginRegistry;\n        this.settings = options.settings;\n\n        // Callbacks\n        this.onPluginLoad = options.onPluginLoad || (() => {});\n        this.onPluginUnload = options.onPluginUnload || (() => {});\n        this.onClose = options.onClose || (() => {});\n    }\n\n    /**\n     * Open the storefront modal\n     */\n    open() {\n        if (this.modal) {\n            this.modal.remove();\n        }\n\n        this.modal = document.createElement('div');\n        this.modal.id = 'plugin-storefront';\n        this.modal.style.cssText = `\n            position: fixed;\n            top: 0;\n            left: 0;\n            right: 0;\n            bottom: 0;\n            background: rgba(0, 0, 0, 0.85);\n            z-index: 10000;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            backdrop-filter: blur(4px);\n        `;\n\n        const content = document.createElement('div');\n        content.style.cssText = `\n            background: #1a1a2e;\n            border: 2px solid #FFD700;\n            border-radius: 16px;\n            width: 90%;\n            max-width: 800px;\n            max-height: 80vh;\n            overflow: hidden;\n            display: flex;\n            flex-direction: column;\n            box-shadow: 0 20px 60px rgba(255, 215, 0, 0.2);\n        `;\n\n        // Header\n        const header = document.createElement('div');\n        header.style.cssText = `\n            padding: 20px 24px;\n            border-bottom: 1px solid #333;\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            background: #16162a;\n        `;\n\n        header.innerHTML = `\n            <div>\n                <h2 style=\"margin: 0; color: #FFD700; font-size: 20px;\">\n                     Plugin Storefront\n                </h2>\n                <p style=\"margin: 4px 0 0; color: #888; font-size: 12px;\">\n                    Browse and manage local plugins\n                </p>\n            </div>\n        `;\n\n        const closeBtn = document.createElement('button');\n        closeBtn.innerHTML = '';\n        closeBtn.style.cssText = `\n            background: none;\n            border: none;\n            color: #888;\n            font-size: 24px;\n            cursor: pointer;\n            padding: 8px;\n            border-radius: 4px;\n            transition: all 0.2s;\n        `;\n        closeBtn.addEventListener('click', () => this.close());\n        header.appendChild(closeBtn);\n\n        // Body\n        const body = document.createElement('div');\n        body.style.cssText = `\n            flex: 1;\n            overflow-y: auto;\n            padding: 24px;\n        `;\n\n        // Installed section\n        const installedSection = document.createElement('div');\n        installedSection.innerHTML = `\n            <h3 style=\"color: #fff; margin: 0 0 16px; font-size: 14px; text-transform: uppercase; letter-spacing: 1px;\">\n                 Installed Plugins\n            </h3>\n        `;\n\n        const installedGrid = document.createElement('div');\n        installedGrid.id = 'installed-plugins-grid';\n        installedGrid.style.cssText = `\n            display: grid;\n            grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));\n            gap: 16px;\n            margin-bottom: 32px;\n        `;\n\n        // Get available plugins\n        const plugins = this.pluginLoader?.getAvailablePlugins() || [];\n        const enabledPlugins = this.settings?.getEnabledPlugins() || [];\n\n        if (plugins.length === 0) {\n            installedGrid.innerHTML = `\n                <div style=\"color: #666; grid-column: 1 / -1; text-align: center; padding: 40px;\">\n                    No plugins discovered\n                </div>\n            `;\n        } else {\n            plugins.forEach(plugin => {\n                const isEnabled = enabledPlugins.includes(plugin.id);\n                const isLoaded = this.pluginLoader?.isLoaded(plugin.id);\n\n                const card = this._createPluginCard(plugin, isEnabled, isLoaded);\n                installedGrid.appendChild(card);\n            });\n        }\n\n        installedSection.appendChild(installedGrid);\n\n        // Available section (placeholder for future remote plugins)\n        const availableSection = document.createElement('div');\n        availableSection.innerHTML = `\n            <h3 style=\"color: #fff; margin: 0 0 16px; font-size: 14px; text-transform: uppercase; letter-spacing: 1px;\">\n                 Available Plugins\n            </h3>\n            <div style=\"color: #666; text-align: center; padding: 40px; border: 1px dashed #333; border-radius: 8px;\">\n                <div style=\"font-size: 32px; margin-bottom: 8px;\"></div>\n                <p style=\"margin: 0;\">More plugins coming soon...</p>\n            </div>\n        `;\n\n        body.appendChild(installedSection);\n        body.appendChild(availableSection);\n\n        content.appendChild(header);\n        content.appendChild(body);\n        this.modal.appendChild(content);\n\n        // Close on backdrop click\n        this.modal.addEventListener('click', (e) => {\n            if (e.target === this.modal) this.close();\n        });\n\n        // Close on Escape\n        this._escHandler = (e) => {\n            if (e.key === 'Escape') this.close();\n        };\n        document.addEventListener('keydown', this._escHandler);\n\n        document.body.appendChild(this.modal);\n        this.isOpen = true;\n    }\n\n    /**\n     * Create a plugin card element\n     * @private\n     */\n    _createPluginCard(plugin, isEnabled, isLoaded) {\n        const card = document.createElement('div');\n        card.className = 'plugin-card';\n        card.style.cssText = `\n            background: #252540;\n            border: 1px solid ${isLoaded ? '#FFD700' : '#333'};\n            border-radius: 12px;\n            padding: 16px;\n            transition: all 0.2s;\n        `;\n\n        const statusColor = isLoaded ? '#4caf50' : (isEnabled ? '#ff9800' : '#666');\n        const statusText = isLoaded ? 'Active' : (isEnabled ? 'Enabled' : 'Disabled');\n\n        card.innerHTML = `\n            <div style=\"display: flex; justify-content: space-between; align-items: start; margin-bottom: 12px;\">\n                <div>\n                    <h4 style=\"margin: 0; color: #fff; font-size: 14px;\">${plugin.name}</h4>\n                    <span style=\"font-size: 11px; color: #888;\">v${plugin.version}</span>\n                </div>\n                <span style=\"\n                    font-size: 10px;\n                    padding: 2px 8px;\n                    border-radius: 10px;\n                    background: ${statusColor}20;\n                    color: ${statusColor};\n                \">${statusText}</span>\n            </div>\n            <p style=\"margin: 0 0 12px; color: #888; font-size: 12px; line-height: 1.4;\">\n                ${plugin.description || 'No description'}\n            </p>\n            <div style=\"display: flex; gap: 8px;\">\n                ${isLoaded ? `\n                    <button class=\"plugin-unload-btn\" data-plugin=\"${plugin.id}\" style=\"\n                        flex: 1;\n                        padding: 8px;\n                        border: none;\n                        border-radius: 6px;\n                        background: #ff6b6b20;\n                        color: #ff6b6b;\n                        cursor: pointer;\n                        font-size: 12px;\n                    \">Unload</button>\n                ` : `\n                    <button class=\"plugin-load-btn\" data-plugin=\"${plugin.id}\" style=\"\n                        flex: 1;\n                        padding: 8px;\n                        border: none;\n                        border-radius: 6px;\n                        background: #FFD70020;\n                        color: #FFD700;\n                        cursor: pointer;\n                        font-size: 12px;\n                    \">Load</button>\n                `}\n            </div>\n        `;\n\n        // Add button handlers\n        const loadBtn = card.querySelector('.plugin-load-btn');\n        const unloadBtn = card.querySelector('.plugin-unload-btn');\n\n        if (loadBtn) {\n            loadBtn.addEventListener('click', () => {\n                this.onPluginLoad(plugin.id);\n                this.refresh();\n            });\n        }\n\n        if (unloadBtn) {\n            unloadBtn.addEventListener('click', () => {\n                this.onPluginUnload(plugin.id);\n                this.refresh();\n            });\n        }\n\n        return card;\n    }\n\n    /**\n     * Refresh the storefront view\n     */\n    refresh() {\n        if (this.isOpen) {\n            this.close();\n            this.open();\n        }\n    }\n\n    /**\n     * Close the storefront modal\n     */\n    close() {\n        if (this.modal) {\n            this.modal.remove();\n            this.modal = null;\n        }\n        if (this._escHandler) {\n            document.removeEventListener('keydown', this._escHandler);\n            this._escHandler = null;\n        }\n        this.isOpen = false;\n        this.onClose();\n    }\n}\n\nexport default Storefront;\n","/**\n * MD Reader Pro v4.2.0 - Cathedral Edition\n * Enterprise-grade markdown editor with live preview, auto-save, and undo/redo.\n * Now with Plugin System support!\n *\n * v13 Features:\n * - File Drag Analysis: analyze dropped files before loading\n * - Batch Export: export multiple analyses\n * - Analysis History: track previous analyses\n * - Plugin Hot Reload: reload plugins without restart\n * - Custom Themes: user-defined color presets\n * - EditorUI Brain System: modular subsystem architecture\n *\n * Architecture: Thin orchestrator composing EditorState, EditorIO, and EditorUI modules.\n * All cross-module communication flows through callbacks for testability.\n *\n * @module MarkdownEditor\n * @version 4.2.0\n */\nimport AnimationManager from './utils/AnimationManager.js';\nimport NotificationManager from './utils/NotificationManager.js';\nimport ErrorManager from './utils/ErrorManager.js';\nimport EditorState from './core/EditorState.js';\nimport Settings from './core/Settings.js';\nimport EditorIO from './io/EditorIO.js';\nimport EditorUI from './ui/EditorUI.js';\nimport { PluginLoader, PluginRegistry, PluginPanel, Storefront } from './plugins/index.js';\nimport './styles/variables.css';\nimport './styles/base.css';\nimport './styles/layout.css';\nimport './styles/components.css';\nimport './styles/animations.css';\nimport './styles/utilities.css';\n\n/**\n * Main MarkdownEditor class - orchestrates all editor functionality.\n * @class\n */\nclass MarkdownEditor {\n    constructor() {\n        this.version = '4.2.0';\n        this.anim = new AnimationManager();\n        this.notify = new NotificationManager();\n\n        // Settings manager with edit mode toggle\n        this.settings = new Settings({\n            onChange: (key, value) => this._onSettingsChange(key, value)\n        });\n\n        // Plugin system\n        this.pluginRegistry = new PluginRegistry();\n        this.pluginLoader = new PluginLoader({\n            onPluginReady: (id) => this._onPluginReady(id),\n            onPluginError: (id, err) => this._onPluginError(id, err),\n            onPluginMessage: (id, msg) => this._onPluginMessage(id, msg)\n        });\n\n        // Plugin UI\n        this.pluginPanel = new PluginPanel({\n            onClose: () => this._onPluginPanelClose()\n        });\n        this.storefront = new Storefront({\n            pluginLoader: this.pluginLoader,\n            pluginRegistry: this.pluginRegistry,\n            settings: this.settings,\n            onPluginLoad: (id) => this.loadPlugin(id),\n            onPluginUnload: (id) => this.unloadPlugin(id)\n        });\n\n        // Error manager with graceful UI feedback\n        this.errors = new ErrorManager({\n            maxErrors: 100,\n            maxAgeDays: 7,\n            onError: (entry) => this._showErrorToast(entry)\n        });\n\n        // Compose modules with dependency injection\n        this.state = new EditorState({\n            onHistoryChange: () => this._onHistoryChange()\n        });\n\n        this.io = new EditorIO({\n            version: this.version,\n            getEditorValue: () => this.editor?.value || '',\n            setEditorValue: (v) => { if (this.editor) this.editor.value = v; },\n            getPreviewHTML: () => this.preview?.innerHTML || '',\n            triggerFileInput: () => this.fileInput?.click(),\n            notify: this.notify,\n            showNotification: (m, t, d) => this.ui?.showNotification(m, t, d),\n            onContentLoaded: () => this._onContentLoaded(),\n            focusEditor: () => this.editor?.focus()\n        });\n\n        this.ui = new EditorUI({\n            anim: this.anim,\n            notify: this.notify,\n            onEditorInput: () => this._onEditorInput(),\n            onFileSelect: (f) => this.loadFile(f),\n            onSave: () => this.saveMarkdown(),\n            onUndo: () => this.undo(),\n            onRedo: () => this.redo(),\n            onExport: () => this.exportAsHTML(),\n            onCopyMarkdown: () => this.copyMarkdown(),\n            onCopyHTML: () => this.copyHTML(),\n            onCopyToEditor: (t) => this.copyToEditor(t),\n            onSetMode: (m) => this.setMode(m),\n            onUpdatePreview: () => this.updatePreview(),\n            getEditorValue: () => this.editor?.value || '',\n            // v13a: Pre-analyze dropped files before loading\n            onFileDragAnalysis: (f) => this._showFileDragAnalysis(f)\n        });\n\n        // Legacy compatibility - expose state\n        this.history = this.state.history;\n        this.historyIndex = this.state.historyIndex;\n        this.maxHistory = this.state.maxHistory;\n        this.autoSaveTimer = null;\n        this.lastSaveTime = null;\n        this.stats = this.ui.stats;\n        this.currentTheme = this.ui.currentTheme;\n        this.cachedElements = this.ui.cachedElements;\n        this.sanitizeConfig = this.ui.sanitizeConfig;\n        this.debounceTimer = null;\n        this._copyButtonsInitialized = false;\n    }\n\n    // === Static Constants ===\n    static get CONSTANTS() {\n        return {\n            TAB_WIDTH: 4, INDENTATION_SPACES: '    ',\n            FEEDBACK_DURATION: 2000, FEEDBACK_FADE_DURATION: 300,\n            HELP_BAR_TRANSITION_DURATION: 300, MAX_FILE_SIZE: 10 * 1024 * 1024,\n            SUPPORTED_EXTENSIONS: ['.md', '.txt', '.markdown'],\n            HELP_BAR_WIDTH: 400, TOGGLE_BUTTON_SIZE: 50,\n            DEBOUNCE_DELAY: 300, MEMORY_LEAK_THRESHOLD: 1024 * 1024,\n            KEYBOARD_SHORTCUTS: { SAVE: ['Control', 's'], TAB: 'Tab', ESCAPE: 'Escape' }\n        };\n    }\n\n    // === Proxied Element Access (with setters for test compatibility) ===\n    get editor() { return this.ui?.editor; }\n    set editor(v) { if (this.ui) this.ui.editor = v; }\n    get preview() { return this.ui?.preview; }\n    set preview(v) { if (this.ui) this.ui.preview = v; }\n    get fileInput() { return this.ui?.fileInput; }\n    set fileInput(v) { if (this.ui) this.ui.fileInput = v; }\n    get uploadArea() { return this.ui?.uploadArea; }\n    set uploadArea(v) { if (this.ui) this.ui.uploadArea = v; }\n    get statsDisplay() { return this.ui?.statsDisplay; }\n    set statsDisplay(v) { if (this.ui) this.ui.statsDisplay = v; }\n    get saveIndicator() { return this.ui?.saveIndicator; }\n    set saveIndicator(v) { if (this.ui) this.ui.saveIndicator = v; }\n    get undoBtn() { return this.ui?.undoBtn; }\n    set undoBtn(v) { if (this.ui) this.ui.undoBtn = v; }\n    get redoBtn() { return this.ui?.redoBtn; }\n    set redoBtn(v) { if (this.ui) this.ui.redoBtn = v; }\n\n    // === Environment Helpers (delegated) ===\n    isBrowser() { return this.ui.isBrowser(); }\n    isTestEnvironment() { return this.ui.isTestEnvironment(); }\n    hasRequiredElements() { return this.ui.hasRequiredElements(); }\n    getCachedElement(id, sel) { return this.ui.getCachedElement(id, sel); }\n    removeDOMElement(el) { return this.ui.removeDOMElement(el); }\n    getFileReaderResult(e, r) { return this.io._getFileReaderResult(e, r); }\n\n    // === Lifecycle ===\n\n    /**\n     * Initialize the editor. Call this after construction.\n     * Sets up DOM, event listeners, and Cathedral features.\n     */\n    init() {\n        if (!this.isBrowser()) return;\n        console.log(` MD Reader Pro v${this.version} initialized`);\n        console.log(' Professional markdown editor ready');\n        if (document.readyState === 'loading') {\n            document.addEventListener('DOMContentLoaded', () => this.setupEditor());\n        } else {\n            this.setupEditor();\n        }\n    }\n\n    setupEditor() {\n        if (!this.ui.setupDOM()) return;\n        this.ui.setupEventListeners();\n        this.updatePreview();\n        this.initCathedralFeatures();\n        this.ui.setupEnhancedKeyboardShortcuts();\n        console.log(' Markdown editor initialized successfully');\n        console.log(' MD Reader Pro Cathedral Edition v' + this.version);\n    }\n\n    setupEventListeners() { this.ui.setupEventListeners(); }\n\n    // === Preview ===\n    debouncedUpdatePreview() { this.ui.debouncedUpdatePreview(); }\n    updatePreview() { this.ui.updatePreview(); }\n\n    // === File Operations (delegated to IO) ===\n    handleFileSelect(e) { const f = e.target.files[0]; if (f) this.loadFile(f); }\n    loadFile(file) { this.io.loadFile(file); }\n    readFile(file) { this.io.readFile(file); }\n    saveMarkdown() { this.io.saveMarkdown(); }\n    exportAsHTML() { this.io.exportAsHTML(); }\n\n    // === History (delegated to State) ===\n    saveToHistory(content) {\n        this.state.saveToHistory(content);\n        this.history = this.state.history;\n        this.historyIndex = this.state.historyIndex;\n    }\n\n    undo() {\n        const content = this.state.undo();\n        if (content !== null && this.editor) {\n            this.editor.value = content;\n            this.updatePreview();\n            this.showNotification(' Undo', 'success', 1000);\n        }\n        this._syncHistoryState();\n    }\n\n    redo() {\n        const content = this.state.redo();\n        if (content !== null && this.editor) {\n            this.editor.value = content;\n            this.updatePreview();\n            this.showNotification(' Redo', 'success', 1000);\n        }\n        this._syncHistoryState();\n    }\n\n    _syncHistoryState() {\n        this.history = this.state.history;\n        this.historyIndex = this.state.historyIndex;\n        this.updateUndoRedoButtons();\n    }\n\n    _onHistoryChange() { this.updateUndoRedoButtons(); }\n\n    _onEditorInput() {\n        if (this.editor) this.state.debouncedSave(this.editor.value);\n        this._handleAutoSave();\n    }\n\n    /**\n     * Called when file content is loaded\n     * @private\n     */\n    _onContentLoaded() {\n        this.updatePreview();\n\n        // Auto-analyze if enabled\n        if (this.settings.get('autoAnalyze') && this.pluginLoader.isLoaded('diamond-drill')) {\n            setTimeout(() => this.analyzeCurrentDocument(), 500);\n        }\n    }\n\n    // === UI Setup (delegated) ===\n    setupTabs() { this.ui.setupTabs(); }\n    setMode(m) { this.ui.setMode(m); }\n    updateStatus(m) { this.ui.updateStatus(m); }\n    setupHelpBar() { this.ui.setupHelpBar(); }\n    setupCopyButtons() { this.ui.setupCopyButtons(); }\n    setupDragAndDrop() { this.ui.setupDragAndDrop(); }\n    handleKeyboardShortcuts(e) { this.ui.handleKeyboardShortcuts(e); }\n    preventDefaults(e) { e.preventDefault(); e.stopPropagation(); }\n    updateHelpBarState(v, i, t, b) { this.ui._updateHelpBarState(v, i, t, b); }\n\n    // === Notifications ===\n    showNotification(m, t, d) { this.ui.showNotification(m, t, d); }\n    showCopyFeedback() { this.showNotification(' Example copied!', 'success'); }\n    showClipboardError(t) { this.ui.showClipboardError(t); }\n\n    // === Copy Operations ===\n    copyToEditor(example) {\n        this.ui.copyToEditor(example);\n        this.copyToClipboard(example);\n        console.log(' Example copied to clipboard and editor');\n    }\n\n    async copyToClipboard(text) {\n        const success = await this.io.copyToClipboard(text);\n        if (success) {\n            this.notify.success('Example copied to editor and clipboard!', {\n                duration: NotificationManager.CONSTANTS.DURATION.SHORT\n            });\n        } else {\n            this.showClipboardError(text);\n        }\n        return success;\n    }\n\n    async copyMarkdown() {\n        const success = await this.io.copyMarkdown();\n        this.showNotification(success ? ' Markdown copied to clipboard!' : ' Failed to copy', success ? 'success' : 'error');\n    }\n\n    async copyHTML() {\n        const success = await this.io.copyHTML();\n        this.showNotification(success ? ' HTML copied to clipboard!' : ' Failed to copy', success ? 'success' : 'error');\n    }\n\n    createCopyDropdown() { return this.ui._createCopyDropdown(); }\n    createDropdownItem(t, c) { /* legacy - handled internally */ }\n\n    // === Cathedral Features ===\n    initCathedralFeatures() {\n        this.setupStatsCounter();\n        this.setupAutoSave();\n        this.setupUndoRedo();\n        this.ui.setupSaveButton();\n        this.ui.setupToolbarCopyDropdown();\n        this.ui.setupExportButton();\n        this.ui.setupKeyboardShortcutsModal();\n        this.ui.setupThemeToggle();\n        this.ui.setupHelpBar();\n        this.ui.setupTabs();\n        this.setupPluginMenu();\n        this.setupClickCatcher();\n        this.setupGlobalErrorHandling();\n        console.log(' Cathedral features initialized!');\n    }\n\n    // === Plugin Menu ===\n    setupPluginMenu() {\n        const headerControls = document.querySelector('.header-controls');\n        if (!headerControls) return;\n\n        // Create plugin menu container\n        const menuContainer = document.createElement('div');\n        menuContainer.style.cssText = 'position: relative; display: inline-block;';\n\n        // Plugin button\n        const pluginBtn = document.createElement('button');\n        pluginBtn.className = 'toolbar-btn btn-interactive';\n        pluginBtn.id = 'plugin-menu-btn';\n        pluginBtn.innerHTML = ' Plugins';\n        pluginBtn.title = 'Plugin options';\n\n        // Dropdown menu\n        const dropdown = document.createElement('div');\n        dropdown.id = 'plugin-dropdown';\n        dropdown.style.cssText = `\n            display: none;\n            position: absolute;\n            top: 100%;\n            right: 0;\n            background: #1a1a2e;\n            border: 1px solid #FFD700;\n            border-radius: 8px;\n            min-width: 200px;\n            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4);\n            z-index: 1001;\n            overflow: hidden;\n        `;\n\n        const menuItems = [\n            { icon: '', label: 'Diamond Drill', action: () => this.toggleDiamondDrill() },\n            { icon: '', label: 'Analyze Document', action: () => this.analyzeCurrentDocument() },\n            { icon: '', label: 'Deep Analysis', action: () => this.runDeepAnalysis() },\n            { divider: true },\n            { icon: '', label: 'Analysis History', action: () => this.showAnalysisHistory() },\n            { icon: '', label: 'Batch Export', action: () => this.batchExportAnalyses() },\n            { icon: '', label: 'Hot Reload Plugin', action: () => this.hotReloadPlugin('diamond-drill') },\n            { divider: true },\n            { icon: '', label: 'Theme Customizer', action: () => this.openThemeCustomizer() },\n            { icon: '', label: 'Plugin Settings', action: () => this.openPluginSettings() },\n            { icon: '', label: 'Plugin Storefront', action: () => this.openStorefront() },\n            { icon: '', label: 'Toggle Panel', action: () => this.pluginPanel.toggle() }\n        ];\n\n        menuItems.forEach(item => {\n            if (item.divider) {\n                const divider = document.createElement('div');\n                divider.style.cssText = 'height: 1px; background: #333; margin: 4px 0;';\n                dropdown.appendChild(divider);\n            } else {\n                const menuItem = document.createElement('button');\n                menuItem.style.cssText = `\n                    display: block;\n                    width: 100%;\n                    padding: 10px 16px;\n                    border: none;\n                    background: none;\n                    color: #e0e0e0;\n                    text-align: left;\n                    cursor: pointer;\n                    font-size: 13px;\n                    transition: background 0.2s;\n                `;\n                menuItem.innerHTML = `${item.icon} ${item.label}`;\n                menuItem.addEventListener('mouseenter', () => {\n                    menuItem.style.background = 'rgba(255, 215, 0, 0.1)';\n                });\n                menuItem.addEventListener('mouseleave', () => {\n                    menuItem.style.background = 'none';\n                });\n                menuItem.addEventListener('click', () => {\n                    dropdown.style.display = 'none';\n                    item.action();\n                });\n                dropdown.appendChild(menuItem);\n            }\n        });\n\n        // Toggle dropdown on click\n        pluginBtn.addEventListener('click', (e) => {\n            e.stopPropagation();\n            dropdown.style.display = dropdown.style.display === 'none' ? 'block' : 'none';\n        });\n\n        // Close on outside click\n        document.addEventListener('click', () => {\n            dropdown.style.display = 'none';\n        });\n\n        menuContainer.appendChild(pluginBtn);\n        menuContainer.appendChild(dropdown);\n\n        // Insert after theme toggle\n        const themeBtn = document.getElementById('theme-toggle');\n        if (themeBtn && themeBtn.nextSibling) {\n            headerControls.insertBefore(menuContainer, themeBtn.nextSibling);\n        } else {\n            headerControls.appendChild(menuContainer);\n        }\n    }\n\n    // === Error Handling & Click Catcher ===\n\n    /**\n     * Setup click catcher to prevent errors on void clicks\n     */\n    setupClickCatcher() {\n        const catcher = document.getElementById('app-click-catcher');\n        if (!catcher) return;\n\n        // Store handler reference for cleanup\n        this._clickCatcherHandler = (e) => {\n            // If clicking on the background, focus the editor\n            if (e.target === catcher && this.editor) {\n                this.editor.focus();\n            }\n        };\n        catcher.addEventListener('click', this._clickCatcherHandler);\n\n        // Also catch any unhandled clicks on the background layer\n        const background = document.getElementById('app-background');\n        if (background) {\n            this._backgroundClickHandler = () => {\n                if (this.editor) this.editor.focus();\n            };\n            background.addEventListener('click', this._backgroundClickHandler);\n        }\n    }\n\n    /**\n     * Setup global error handling with graceful UI feedback\n     */\n    setupGlobalErrorHandling() {\n        if (!this.isBrowser()) return;\n\n        // Store handler references for cleanup\n        this._globalErrorHandler = (e) => {\n            this.errors.capture(e.error || e.message, {\n                component: 'global',\n                action: 'unhandled-error',\n                filename: e.filename,\n                lineno: e.lineno\n            }, true); // silent - don't show toast for all global errors\n        };\n\n        this._unhandledRejectionHandler = (e) => {\n            this.errors.capture(e.reason || 'Unhandled promise rejection', {\n                component: 'global',\n                action: 'unhandled-rejection'\n            }, true);\n        };\n\n        // Catch unhandled errors\n        window.addEventListener('error', this._globalErrorHandler);\n\n        // Catch unhandled promise rejections\n        window.addEventListener('unhandledrejection', this._unhandledRejectionHandler);\n    }\n\n    /**\n     * Show a non-intrusive error toast\n     * @param {Object} entry - Error entry from ErrorManager\n     */\n    _showErrorToast(entry) {\n        if (!this.isBrowser()) return;\n\n        const container = document.getElementById('error-toast-container');\n        if (!container) return;\n\n        // Limit visible toasts to 3\n        const existingToasts = container.querySelectorAll('.error-toast');\n        if (existingToasts.length >= 3) {\n            existingToasts[0]?.remove();\n        }\n\n        const toast = document.createElement('div');\n        toast.className = 'error-toast';\n        toast.innerHTML = `\n            <div class=\"error-toast-header\">\n                <span class=\"error-toast-title\">Something went wrong</span>\n                <button class=\"error-toast-close\" aria-label=\"Dismiss\">&times;</button>\n            </div>\n            <div class=\"error-toast-message\">${this._escapeHtml(entry.message)}</div>\n            <div class=\"error-toast-meta\">\n                <span class=\"error-toast-component\">${this._escapeHtml(String(entry.context?.component || 'app'))}</span>\n                <span>${new Date(entry.timestamp).toLocaleTimeString()}</span>\n            </div>\n            <div class=\"error-toast-progress\"></div>\n        `;\n\n        container.appendChild(toast);\n\n        // Trigger show animation\n        requestAnimationFrame(() => {\n            toast.classList.add('show');\n        });\n\n        // Close button\n        toast.querySelector('.error-toast-close')?.addEventListener('click', () => {\n            this._dismissErrorToast(toast);\n        });\n\n        // Auto-dismiss after 5s\n        const timeoutId = setTimeout(() => {\n            this._dismissErrorToast(toast);\n        }, 5000);\n        \n        // Store timeout ID on toast element so it can be cleared\n        toast._autoDismissTimeout = timeoutId;\n    }\n\n    /**\n     * Dismiss an error toast with animation\n     * @param {HTMLElement} toast - Toast element to dismiss\n     */\n    _dismissErrorToast(toast) {\n        if (!toast || toast.classList.contains('hiding')) return;\n        \n        // Clear auto-dismiss timeout if it exists\n        if (toast._autoDismissTimeout) {\n            clearTimeout(toast._autoDismissTimeout);\n            toast._autoDismissTimeout = null;\n        }\n        \n        toast.classList.add('hiding');\n        toast.classList.remove('show');\n        setTimeout(() => toast.remove(), 300);\n    }\n\n    /**\n     * Escape HTML to prevent XSS in error messages\n     * @param {string} str - String to escape\n     * @returns {string} Escaped string\n     */\n    _escapeHtml(str) {\n        const div = document.createElement('div');\n        div.textContent = str || '';\n        return div.innerHTML;\n    }\n\n    /**\n     * Get error statistics for debugging\n     * @returns {Object} Error stats\n     */\n    getErrorStats() {\n        return this.errors.getStats();\n    }\n\n    /**\n     * Get recent errors for debugging\n     * @param {number} count - Number of errors to return\n     * @returns {Array} Recent errors\n     */\n    getRecentErrors(count = 10) {\n        return this.errors.getRecent(count);\n    }\n\n    /**\n     * Clear all stored errors\n     */\n    clearErrors() {\n        this.errors.clearAll();\n        this.showNotification('Errors cleared', 'success');\n    }\n\n    setupStatsCounter() { this.ui.setupStatsCounter(); }\n    updateStats() { this.ui.updateStats(); this.stats = this.ui.stats; }\n\n    setupAutoSave() {\n        this.loadFromAutoSave();\n        window.addEventListener('beforeunload', () => this.saveToLocalStorage());\n        this.ui.createSaveIndicator();\n    }\n\n    _handleAutoSave() {\n        if (this.autoSaveTimer) clearTimeout(this.autoSaveTimer);\n        this.autoSaveTimer = setTimeout(() => this.saveToLocalStorage(), 30000);\n    }\n\n    saveToLocalStorage() {\n        if (this.io.saveToLocalStorage()) {\n            this.lastSaveTime = this.io.lastSaveTime;\n            this.updateSaveIndicator();\n        }\n    }\n\n    loadFromAutoSave() {\n        if (!this.editor) return;\n        const data = this.io.getAutoSaveData();\n        if (data?.content && data.content !== this.editor.value) {\n            const restore = confirm(`Restore auto-saved content from ${new Date(data.timestamp).toLocaleString()}?`);\n            if (restore) {\n                this.editor.value = data.content;\n                this.updatePreview();\n                this.showNotification(' Content restored from auto-save', 'success');\n            }\n        }\n    }\n\n    createSaveIndicator() { this.ui.createSaveIndicator(); }\n    updateSaveIndicator() { this.ui.updateSaveIndicator(this.lastSaveTime, (d) => this.io.getTimeAgo(d)); }\n    getTimeAgo(d) { return this.io.getTimeAgo(d); }\n\n    setupUndoRedo() {\n        if (!this.editor) return;\n        this.saveToHistory(this.editor.value);\n        this.ui.addUndoRedoButtons();\n    }\n\n    addUndoRedoButtons() { this.ui.addUndoRedoButtons(); }\n    updateUndoRedoButtons() { this.ui.updateUndoRedoButtons(this.state.canUndo(), this.state.canRedo()); }\n\n    setupExportButton() { this.ui.setupExportButton(); }\n    setupKeyboardShortcutsModal() { this.ui.setupKeyboardShortcutsModal(); }\n    showKeyboardShortcutsModal() { this.ui.showKeyboardShortcutsModal(); }\n    setupThemeToggle() { this.ui.setupThemeToggle(); }\n    toggleTheme() { this.ui.toggleTheme(); this.currentTheme = this.ui.currentTheme; }\n    enhanceKeyboardShortcuts() { this.ui.setupEnhancedKeyboardShortcuts(); }\n\n    // === Settings & Edit Mode ===\n\n    /**\n     * Toggle edit mode (enable/disable editing)\n     * @returns {boolean} - New edit mode value\n     */\n    toggleEditMode() {\n        const enabled = this.settings.toggleEditMode();\n        this._applyEditMode(enabled);\n        return enabled;\n    }\n\n    /**\n     * Set edit mode\n     * @param {boolean} enabled\n     */\n    setEditMode(enabled) {\n        this.settings.setEditMode(enabled);\n        this._applyEditMode(enabled);\n    }\n\n    /**\n     * Check if edit mode is enabled\n     * @returns {boolean}\n     */\n    isEditModeEnabled() {\n        return this.settings.isEditModeEnabled();\n    }\n\n    /**\n     * Apply edit mode to UI\n     * @private\n     */\n    _applyEditMode(enabled) {\n        if (!this.editor) return;\n\n        this.editor.readOnly = !enabled;\n        this.editor.classList.toggle('readonly-mode', !enabled);\n\n        // Update status\n        if (this.ui) {\n            this.ui.showNotification(\n                enabled ? 'Edit mode enabled' : 'Read-only mode enabled',\n                'info',\n                2000\n            );\n        }\n    }\n\n    /**\n     * Handle settings changes\n     * @private\n     */\n    _onSettingsChange(key, value) {\n        if (key === 'editMode') {\n            this._applyEditMode(value);\n        } else if (key === 'theme') {\n            if (this.ui && this.ui.currentTheme !== value) {\n                this.ui.toggleTheme();\n            }\n            // Sync theme to all loaded plugins\n            this._syncThemeToAllPlugins(value);\n        }\n    }\n\n    /**\n     * Sync theme to all loaded plugins\n     * @private\n     */\n    _syncThemeToAllPlugins(theme) {\n        const loadedPlugins = this.pluginLoader?.getLoadedPlugins() || [];\n        for (const pluginId of loadedPlugins) {\n            this.syncThemeToPlugin(pluginId);\n        }\n    }\n\n    // === Plugin System ===\n\n    /**\n     * Initialize plugin system\n     * @returns {Promise<void>}\n     */\n    async initPlugins() {\n        try {\n            // Discover available plugins\n            await this.pluginLoader.discover();\n\n            // Auto-load enabled plugins\n            if (this.settings.get('plugins.autoLoad')) {\n                const enabled = this.settings.getEnabledPlugins();\n                for (const pluginId of enabled) {\n                    await this.loadPlugin(pluginId);\n                }\n            }\n        } catch (err) {\n            console.error('Failed to initialize plugins:', err);\n        }\n    }\n\n    /**\n     * Load a plugin by ID\n     * @param {string} pluginId\n     * @returns {Promise<Object>}\n     */\n    async loadPlugin(pluginId) {\n        const instance = await this.pluginLoader.load(pluginId);\n        if (!this.pluginRegistry.isRegistered(pluginId)) {\n            this.pluginRegistry.register(pluginId);\n        }\n        this.settings.enablePlugin(pluginId);\n        return instance;\n    }\n\n    /**\n     * Unload a plugin\n     * @param {string} pluginId\n     */\n    async unloadPlugin(pluginId) {\n        await this.pluginLoader.unload(pluginId);\n        this.settings.disablePlugin(pluginId);\n    }\n\n    /**\n     * Send action to a plugin\n     * @param {string} pluginId\n     * @param {string} action\n     * @param {Object} payload\n     * @returns {Promise<any>}\n     */\n    async sendToPlugin(pluginId, action, payload = {}) {\n        const instance = this.pluginLoader.get(pluginId);\n        if (!instance) {\n            throw new Error(`Plugin not loaded: ${pluginId}`);\n        }\n        return instance.send(action, payload);\n    }\n\n    /**\n     * Get list of available plugins\n     * @returns {Object[]}\n     */\n    getAvailablePlugins() {\n        return this.pluginLoader.getAvailablePlugins();\n    }\n\n    /**\n     * Plugin ready callback\n     * @private\n     */\n    _onPluginReady(pluginId) {\n        console.log(`Plugin ready: ${pluginId}`);\n        this.notify.success(`Plugin loaded: ${pluginId}`);\n    }\n\n    /**\n     * v13d: Hot reload a plugin (unload + reload without restart)\n     * @param {string} pluginId - Plugin identifier\n     */\n    async hotReloadPlugin(pluginId) {\n        if (!this.pluginLoader.isLoaded(pluginId)) {\n            this.notify.error('Plugin not loaded');\n            return;\n        }\n\n        this.pluginPanel.open();\n        this.pluginPanel.setTitle('Hot Reload', '');\n        this.pluginPanel.showLoading('Reloading plugin...');\n\n        try {\n            await this.pluginLoader.hotReload(pluginId);\n\n            // Sync theme after reload\n            await this.syncThemeToPlugin(pluginId);\n\n            this.pluginPanel.setContent(`\n                <div style=\"text-align: center; padding: 40px;\">\n                    <div style=\"font-size: 48px; margin-bottom: 16px;\"></div>\n                    <p style=\"color: #4CAF50; margin-bottom: 8px; font-weight: bold;\">\n                        Plugin Reloaded Successfully\n                    </p>\n                    <p style=\"color: #888; font-size: 12px;\">\n                        ${pluginId} has been hot-reloaded\n                    </p>\n                </div>\n            `);\n\n            this.notify.success('Plugin reloaded!');\n        } catch (err) {\n            this.pluginPanel.showError(`Hot reload failed: ${err.message}`);\n            console.error('Hot reload failed:', err);\n        }\n    }\n\n    /**\n     * Plugin error callback\n     * @private\n     */\n    _onPluginError(pluginId, err) {\n        console.error(`Plugin error (${pluginId}):`, err);\n        this.notify.error(`Plugin error: ${pluginId}`);\n    }\n\n    /**\n     * Plugin message callback\n     * @private\n     */\n    _onPluginMessage(pluginId, msg) {\n        console.log(`Plugin message (${pluginId}):`, msg);\n    }\n\n    /**\n     * Plugin panel close callback\n     * @private\n     */\n    _onPluginPanelClose() {\n        console.log('Plugin panel closed');\n    }\n\n    // === Plugin UI Actions ===\n\n    /**\n     * Toggle Diamond Drill plugin\n     */\n    async toggleDiamondDrill() {\n        const pluginId = 'diamond-drill';\n\n        if (this.pluginLoader.isLoaded(pluginId)) {\n            // Show panel if loaded\n            this.pluginPanel.open();\n            this.pluginPanel.setTitle('Diamond Drill', '');\n            this.pluginPanel.setContent(`\n                <div style=\"text-align: center; padding: 20px;\">\n                    <div style=\"font-size: 48px; margin-bottom: 16px;\"></div>\n                    <p style=\"color: var(--accent, #FFD700); margin-bottom: 16px;\">Diamond Drill Active</p>\n                    <button id=\"dd-analyze-btn\" style=\"\n                        padding: 12px 24px;\n                        background: #FFD70020;\n                        border: 1px solid #FFD700;\n                        color: #FFD700;\n                        border-radius: 8px;\n                        cursor: pointer;\n                        font-size: 14px;\n                    \"> Analyze Current Document</button>\n                </div>\n            `);\n\n            document.getElementById('dd-analyze-btn')?.addEventListener('click', () => {\n                this.analyzeCurrentDocument();\n            });\n        } else {\n            // Load the plugin\n            try {\n                this.pluginPanel.open();\n                this.pluginPanel.setTitle('Diamond Drill', '');\n                this.pluginPanel.showLoading('Loading Diamond Drill...');\n\n                await this.loadPlugin(pluginId);\n\n                this.notify.success('Diamond Drill loaded!');\n                this.toggleDiamondDrill(); // Recurse to show panel\n            } catch (err) {\n                this.pluginPanel.showError('Failed to load Diamond Drill');\n                console.error('Failed to load Diamond Drill:', err);\n            }\n        }\n    }\n\n    /**\n     * Analyze the current document with Diamond Drill\n     */\n    async analyzeCurrentDocument() {\n        const pluginId = 'diamond-drill';\n        const content = this.editor?.value || '';\n\n        if (!content.trim()) {\n            this.notify.error('No content to analyze');\n            return;\n        }\n\n        this.pluginPanel.open();\n        this.pluginPanel.setTitle('Diamond Drill', '');\n        this.pluginPanel.showLoading('Analyzing document...');\n\n        try {\n            // Ensure plugin is loaded\n            if (!this.pluginLoader.isLoaded(pluginId)) {\n                await this.loadPlugin(pluginId);\n            }\n\n            // Send analysis request\n            const result = await this.sendToPlugin(pluginId, 'analyze', {\n                files: ['current-document.md']\n            });\n\n            // Create a synthetic analysis for the current document\n            const lines = content.split('\\n').length;\n            const words = content.split(/\\s+/).filter(w => w).length;\n            const chars = content.length;\n\n            this.pluginPanel.showAnalysisResults({\n                files_analyzed: 1,\n                analyses: [{\n                    path: 'Current Document',\n                    size: new Blob([content]).size,\n                    file_type: 'md',\n                    line_count: lines,\n                    word_count: words,\n                    char_count: chars,\n                    is_binary: false\n                }]\n            });\n\n            this.notify.success('Analysis complete!');\n        } catch (err) {\n            this.pluginPanel.showError(`Analysis failed: ${err.message}`);\n            console.error('Analysis failed:', err);\n        }\n    }\n\n    /**\n     * v13a: Show file drag analysis modal before loading\n     * @param {File} file - The dropped file\n     * @returns {Promise<boolean>} - true to proceed with load, false to cancel\n     */\n    async _showFileDragAnalysis(file) {\n        return new Promise((resolve) => {\n            // Analyze the file\n            const reader = new FileReader();\n\n            reader.onload = async (e) => {\n                const content = e.target.result;\n                const lines = content.split('\\n').length;\n                const words = content.split(/\\s+/).filter(w => w).length;\n                const chars = content.length;\n                const ext = file.name.split('.').pop()?.toLowerCase() || 'txt';\n\n                // Create modal\n                const modal = document.createElement('div');\n                modal.id = 'file-drag-analysis-modal';\n                modal.style.cssText = `\n                    position: fixed;\n                    top: 0;\n                    left: 0;\n                    right: 0;\n                    bottom: 0;\n                    background: rgba(0, 0, 0, 0.85);\n                    z-index: 10001;\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                    backdrop-filter: blur(4px);\n                `;\n\n                const content_html = `\n                    <div style=\"\n                        background: #1a1a2e;\n                        border: 2px solid #FFD700;\n                        border-radius: 16px;\n                        width: 90%;\n                        max-width: 500px;\n                        overflow: hidden;\n                        box-shadow: 0 20px 60px rgba(255, 215, 0, 0.2);\n                    \">\n                        <div style=\"\n                            padding: 20px 24px;\n                            border-bottom: 1px solid #333;\n                            background: #16162a;\n                        \">\n                            <h2 style=\"margin: 0; color: #FFD700; font-size: 18px; display: flex; align-items: center; gap: 10px;\">\n                                <span></span> File Analysis Preview\n                            </h2>\n                        </div>\n\n                        <div style=\"padding: 24px;\">\n                            <div style=\"\n                                background: #252540;\n                                border-radius: 12px;\n                                padding: 20px;\n                                margin-bottom: 20px;\n                            \">\n                                <div style=\"display: flex; align-items: center; gap: 12px; margin-bottom: 16px;\">\n                                    <span style=\"font-size: 32px;\"></span>\n                                    <div>\n                                        <h3 style=\"margin: 0; color: #fff; font-size: 16px;\">${this._escapeHtml(file.name)}</h3>\n                                        <span style=\"color: #888; font-size: 12px;\">${ext.toUpperCase()} file</span>\n                                    </div>\n                                </div>\n\n                                <div style=\"display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px;\">\n                                    <div style=\"\n                                        background: #1a1a2e;\n                                        padding: 12px;\n                                        border-radius: 8px;\n                                        text-align: center;\n                                    \">\n                                        <div style=\"font-size: 20px; color: #FFD700; font-weight: bold;\">${this._formatNumber(file.size)}</div>\n                                        <div style=\"font-size: 11px; color: #888;\">Bytes</div>\n                                    </div>\n                                    <div style=\"\n                                        background: #1a1a2e;\n                                        padding: 12px;\n                                        border-radius: 8px;\n                                        text-align: center;\n                                    \">\n                                        <div style=\"font-size: 20px; color: #4CAF50; font-weight: bold;\">${this._formatNumber(lines)}</div>\n                                        <div style=\"font-size: 11px; color: #888;\">Lines</div>\n                                    </div>\n                                    <div style=\"\n                                        background: #1a1a2e;\n                                        padding: 12px;\n                                        border-radius: 8px;\n                                        text-align: center;\n                                    \">\n                                        <div style=\"font-size: 20px; color: #2196F3; font-weight: bold;\">${this._formatNumber(words)}</div>\n                                        <div style=\"font-size: 11px; color: #888;\">Words</div>\n                                    </div>\n                                    <div style=\"\n                                        background: #1a1a2e;\n                                        padding: 12px;\n                                        border-radius: 8px;\n                                        text-align: center;\n                                    \">\n                                        <div style=\"font-size: 20px; color: #9C27B0; font-weight: bold;\">${this._formatNumber(chars)}</div>\n                                        <div style=\"font-size: 11px; color: #888;\">Characters</div>\n                                    </div>\n                                </div>\n                            </div>\n\n                            <div style=\"display: flex; gap: 12px; justify-content: flex-end;\">\n                                <button id=\"fda-cancel-btn\" style=\"\n                                    padding: 10px 20px;\n                                    border: 1px solid #666;\n                                    background: transparent;\n                                    color: #888;\n                                    border-radius: 8px;\n                                    cursor: pointer;\n                                    font-size: 14px;\n                                \">Cancel</button>\n                                <button id=\"fda-load-btn\" style=\"\n                                    padding: 10px 20px;\n                                    border: 1px solid #FFD700;\n                                    background: #FFD70020;\n                                    color: #FFD700;\n                                    border-radius: 8px;\n                                    cursor: pointer;\n                                    font-size: 14px;\n                                    font-weight: bold;\n                                \">Load File</button>\n                            </div>\n                        </div>\n                    </div>\n                `;\n\n                modal.innerHTML = content_html;\n                document.body.appendChild(modal);\n\n                // Handle buttons\n                const cancelBtn = document.getElementById('fda-cancel-btn');\n                const loadBtn = document.getElementById('fda-load-btn');\n\n                const cleanup = () => {\n                    modal.remove();\n                };\n\n                cancelBtn?.addEventListener('click', () => {\n                    cleanup();\n                    resolve(false);\n                });\n\n                loadBtn?.addEventListener('click', () => {\n                    cleanup();\n                    resolve(true);\n                });\n\n                // Close on backdrop click\n                modal.addEventListener('click', (e) => {\n                    if (e.target === modal) {\n                        cleanup();\n                        resolve(false);\n                    }\n                });\n\n                // Close on Escape\n                const escHandler = (e) => {\n                    if (e.key === 'Escape') {\n                        cleanup();\n                        document.removeEventListener('keydown', escHandler);\n                        resolve(false);\n                    }\n                };\n                document.addEventListener('keydown', escHandler);\n            };\n\n            reader.onerror = () => {\n                // On error, proceed with load\n                resolve(true);\n            };\n\n            reader.readAsText(file);\n        });\n    }\n\n    /**\n     * Format number with commas\n     * @private\n     */\n    _formatNumber(num) {\n        if (num === undefined || num === null) return '0';\n        return num.toLocaleString();\n    }\n\n    /**\n     * Open the plugin storefront\n     */\n    openStorefront() {\n        this.storefront.open();\n    }\n\n    /**\n     * Get current theme (for theme sync)\n     * @returns {string}\n     */\n    getTheme() {\n        return this.ui?.currentTheme || 'dark';\n    }\n\n    /**\n     * Sync theme to plugin\n     * @param {string} pluginId\n     */\n    async syncThemeToPlugin(pluginId) {\n        if (!this.pluginLoader.isLoaded(pluginId)) return;\n\n        try {\n            await this.sendToPlugin(pluginId, 'set_theme', {\n                theme: this.getTheme()\n            });\n        } catch (err) {\n            console.warn('Failed to sync theme to plugin:', err);\n        }\n    }\n\n    /**\n     * Open plugin settings\n     * @param {string} pluginId\n     */\n    openPluginSettings(pluginId = 'diamond-drill') {\n        const currentSettings = this.settings.get(pluginId) || {};\n\n        this.pluginPanel.open();\n        this.pluginPanel.setTitle('Settings', '');\n        this.pluginPanel.showSettings(currentSettings, (newSettings) => {\n            // Save to settings\n            for (const [key, value] of Object.entries(newSettings)) {\n                this.settings.set(`${pluginId}.${key}`, value);\n            }\n\n            // Update global auto-analyze setting\n            if (newSettings.autoAnalyze !== undefined) {\n                this.settings.set('autoAnalyze', newSettings.autoAnalyze);\n            }\n\n            // Sync theme if changed\n            if (newSettings.theme && newSettings.theme !== 'auto') {\n                this.syncThemeToPlugin(pluginId);\n            }\n\n            this.notify.success('Settings saved!');\n            this.pluginPanel.close();\n        });\n    }\n\n    /**\n     * Run deep analysis (directory mode)\n     * @param {string} path - Path to analyze\n     */\n    async runDeepAnalysis(path = '.') {\n        const pluginId = 'diamond-drill';\n\n        this.pluginPanel.open();\n        this.pluginPanel.setTitle('Deep Analysis', '');\n        this.pluginPanel.showLoading('Running deep analysis...');\n\n        try {\n            if (!this.pluginLoader.isLoaded(pluginId)) {\n                await this.loadPlugin(pluginId);\n            }\n\n            const result = await this.sendToPlugin(pluginId, 'deep_analyze', { path });\n\n            this.pluginPanel.showDeepAnalysisResults(result);\n            this.notify.success('Deep analysis complete!');\n        } catch (err) {\n            this.pluginPanel.showError(`Deep analysis failed: ${err.message}`);\n            console.error('Deep analysis failed:', err);\n        }\n    }\n\n    /**\n     * Export current analysis report\n     * @param {string} format - json, markdown, html\n     */\n    exportAnalysisReport(format = 'json') {\n        this.pluginPanel.exportReport(format);\n    }\n\n    /**\n     * v13c: Show analysis history\n     */\n    showAnalysisHistory() {\n        this.pluginPanel.open();\n        this.pluginPanel.setTitle('Analysis History', '');\n        this.pluginPanel.showHistory();\n    }\n\n    /**\n     * v13e: Open theme customizer\n     */\n    openThemeCustomizer() {\n        this.pluginPanel.open();\n        this.pluginPanel.setTitle('Theme Customizer', '');\n\n        const presets = this.ui.getThemePresets();\n        const currentSettings = this.settings.get('customTheme') || {};\n        const currentPreset = currentSettings.preset || 'default';\n\n        let html = `\n            <div style=\"padding: 8px 0;\">\n                <h4 style=\"color: var(--accent, #FFD700); margin: 0 0 16px;\"> Theme Presets</h4>\n\n                <div style=\"display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; margin-bottom: 24px;\">\n        `;\n\n        Object.entries(presets).forEach(([key, preset]) => {\n            const isSelected = key === currentPreset;\n            html += `\n                <button class=\"theme-preset-btn\" data-preset=\"${key}\" style=\"\n                    padding: 16px 12px;\n                    border: 2px solid ${isSelected ? preset.accent : '#333'};\n                    background: linear-gradient(135deg, ${preset.bgPrimary}, ${preset.bgSecondary});\n                    border-radius: 12px;\n                    cursor: pointer;\n                    text-align: center;\n                    transition: all 0.2s;\n                \">\n                    <div style=\"\n                        width: 24px;\n                        height: 24px;\n                        background: ${preset.accent};\n                        border-radius: 50%;\n                        margin: 0 auto 8px;\n                        box-shadow: 0 0 10px ${preset.accent}66;\n                    \"></div>\n                    <div style=\"color: ${preset.textPrimary}; font-size: 12px; font-weight: bold;\">\n                        ${preset.name}\n                    </div>\n                </button>\n            `;\n        });\n\n        html += `\n                </div>\n\n                <h4 style=\"color: var(--accent, #FFD700); margin: 0 0 12px;\"> Custom Colors</h4>\n\n                <div style=\"display: grid; gap: 12px; margin-bottom: 20px;\">\n                    <div style=\"display: flex; align-items: center; gap: 12px;\">\n                        <label style=\"flex: 1; color: #888; font-size: 12px;\">Accent Color</label>\n                        <input type=\"color\" id=\"custom-accent\" value=\"${currentSettings.colors?.accent || '#FFD700'}\" style=\"\n                            width: 40px; height: 30px; border: none; border-radius: 4px; cursor: pointer;\n                        \">\n                    </div>\n                    <div style=\"display: flex; align-items: center; gap: 12px;\">\n                        <label style=\"flex: 1; color: #888; font-size: 12px;\">Background Primary</label>\n                        <input type=\"color\" id=\"custom-bgPrimary\" value=\"${currentSettings.colors?.bgPrimary || '#0a0a0a'}\" style=\"\n                            width: 40px; height: 30px; border: none; border-radius: 4px; cursor: pointer;\n                        \">\n                    </div>\n                    <div style=\"display: flex; align-items: center; gap: 12px;\">\n                        <label style=\"flex: 1; color: #888; font-size: 12px;\">Text Primary</label>\n                        <input type=\"color\" id=\"custom-textPrimary\" value=\"${currentSettings.colors?.textPrimary || '#ffffff'}\" style=\"\n                            width: 40px; height: 30px; border: none; border-radius: 4px; cursor: pointer;\n                        \">\n                    </div>\n                </div>\n\n                <div style=\"display: flex; gap: 8px;\">\n                    <button id=\"apply-custom-theme\" style=\"\n                        flex: 1; padding: 10px; border: none;\n                        background: var(--accent, #FFD700); color: #000;\n                        border-radius: 6px; cursor: pointer; font-weight: bold;\n                    \">Apply Custom</button>\n                    <button id=\"reset-theme\" style=\"\n                        padding: 10px 16px; border: 1px solid #666;\n                        background: transparent; color: #888;\n                        border-radius: 6px; cursor: pointer;\n                    \">Reset</button>\n                </div>\n            </div>\n        `;\n\n        this.pluginPanel.setContent(html);\n\n        // Wire up preset buttons\n        document.querySelectorAll('.theme-preset-btn').forEach(btn => {\n            btn.addEventListener('click', () => {\n                const presetName = btn.dataset.preset;\n                this.ui.applyThemePreset(presetName);\n                this.settings.set('customTheme.preset', presetName);\n                this.settings.set('customTheme.enabled', true);\n                this.notify.success(`${presets[presetName].name} theme applied!`);\n                this.openThemeCustomizer(); // Refresh to show selection\n            });\n        });\n\n        // Wire up custom color application\n        document.getElementById('apply-custom-theme')?.addEventListener('click', () => {\n            const customColors = {\n                accent: document.getElementById('custom-accent')?.value || '#FFD700',\n                bgPrimary: document.getElementById('custom-bgPrimary')?.value || '#0a0a0a',\n                bgSecondary: this._darkenColor(document.getElementById('custom-bgPrimary')?.value || '#0a0a0a', 10),\n                bgTertiary: this._darkenColor(document.getElementById('custom-bgPrimary')?.value || '#0a0a0a', 20),\n                textPrimary: document.getElementById('custom-textPrimary')?.value || '#ffffff',\n                textSecondary: this._lightenColor(document.getElementById('custom-textPrimary')?.value || '#ffffff', 20),\n                textMuted: '#888888',\n                border: '#333333'\n            };\n\n            this.ui.applyCustomTheme(customColors);\n            this.settings.set('customTheme.colors', customColors);\n            this.settings.set('customTheme.preset', 'custom');\n            this.settings.set('customTheme.enabled', true);\n            this.notify.success('Custom theme applied!');\n        });\n\n        // Wire up reset button\n        document.getElementById('reset-theme')?.addEventListener('click', () => {\n            this.ui.resetToDefaultTheme();\n            this.settings.set('customTheme.preset', 'default');\n            this.settings.set('customTheme.enabled', false);\n            this.notify.success('Theme reset to default');\n            this.openThemeCustomizer(); // Refresh\n        });\n    }\n\n    /**\n     * Darken a hex color\n     * @private\n     */\n    _darkenColor(hex, percent) {\n        const num = parseInt(hex.replace('#', ''), 16);\n        const amt = Math.round(2.55 * percent);\n        const R = Math.max((num >> 16) - amt, 0);\n        const G = Math.max((num >> 8 & 0x00FF) - amt, 0);\n        const B = Math.max((num & 0x0000FF) - amt, 0);\n        return '#' + (0x1000000 + R * 0x10000 + G * 0x100 + B).toString(16).slice(1);\n    }\n\n    /**\n     * Lighten a hex color\n     * @private\n     */\n    _lightenColor(hex, percent) {\n        const num = parseInt(hex.replace('#', ''), 16);\n        const amt = Math.round(2.55 * percent);\n        const R = Math.min((num >> 16) + amt, 255);\n        const G = Math.min((num >> 8 & 0x00FF) + amt, 255);\n        const B = Math.min((num & 0x0000FF) + amt, 255);\n        return '#' + (0x1000000 + R * 0x10000 + G * 0x100 + B).toString(16).slice(1);\n    }\n\n    /**\n     * v13b: Batch export analyses\n     */\n    batchExportAnalyses() {\n        const history = this.pluginPanel.getHistory();\n        if (history.length === 0) {\n            this.notify.error('No analysis history to export');\n            return;\n        }\n\n        // Show format selection modal\n        this._showBatchExportModal();\n    }\n\n    /**\n     * Show batch export format selection modal\n     * @private\n     */\n    _showBatchExportModal() {\n        const modal = document.createElement('div');\n        modal.id = 'batch-export-modal';\n        modal.style.cssText = `\n            position: fixed;\n            top: 0;\n            left: 0;\n            right: 0;\n            bottom: 0;\n            background: rgba(0, 0, 0, 0.85);\n            z-index: 10001;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            backdrop-filter: blur(4px);\n        `;\n\n        const historyCount = this.pluginPanel.getHistory().length;\n\n        modal.innerHTML = `\n            <div style=\"\n                background: #1a1a2e;\n                border: 2px solid #FFD700;\n                border-radius: 16px;\n                width: 90%;\n                max-width: 400px;\n                padding: 24px;\n                box-shadow: 0 20px 60px rgba(255, 215, 0, 0.2);\n            \">\n                <h2 style=\"margin: 0 0 16px; color: #FFD700; font-size: 18px;\">\n                     Batch Export\n                </h2>\n                <p style=\"color: #888; margin-bottom: 20px; font-size: 14px;\">\n                    Export ${historyCount} analysis${historyCount !== 1 ? 'es' : ''} from history\n                </p>\n\n                <div style=\"display: flex; flex-direction: column; gap: 12px;\">\n                    <button id=\"batch-json\" style=\"\n                        padding: 14px 20px;\n                        border: 1px solid #FFD700;\n                        background: #FFD70010;\n                        color: #FFD700;\n                        border-radius: 8px;\n                        cursor: pointer;\n                        font-size: 14px;\n                        text-align: left;\n                    \">\n                        <strong> JSON</strong>\n                        <div style=\"font-size: 11px; color: #888; margin-top: 4px;\">Machine-readable format</div>\n                    </button>\n                    <button id=\"batch-md\" style=\"\n                        padding: 14px 20px;\n                        border: 1px solid #4CAF50;\n                        background: #4CAF5010;\n                        color: #4CAF50;\n                        border-radius: 8px;\n                        cursor: pointer;\n                        font-size: 14px;\n                        text-align: left;\n                    \">\n                        <strong> Markdown</strong>\n                        <div style=\"font-size: 11px; color: #888; margin-top: 4px;\">Documentation-friendly</div>\n                    </button>\n                    <button id=\"batch-html\" style=\"\n                        padding: 14px 20px;\n                        border: 1px solid #2196F3;\n                        background: #2196F310;\n                        color: #2196F3;\n                        border-radius: 8px;\n                        cursor: pointer;\n                        font-size: 14px;\n                        text-align: left;\n                    \">\n                        <strong> HTML</strong>\n                        <div style=\"font-size: 11px; color: #888; margin-top: 4px;\">Shareable report</div>\n                    </button>\n                </div>\n\n                <button id=\"batch-cancel\" style=\"\n                    margin-top: 16px;\n                    width: 100%;\n                    padding: 10px;\n                    border: 1px solid #666;\n                    background: transparent;\n                    color: #888;\n                    border-radius: 8px;\n                    cursor: pointer;\n                \">Cancel</button>\n            </div>\n        `;\n\n        document.body.appendChild(modal);\n\n        const cleanup = () => modal.remove();\n\n        document.getElementById('batch-json')?.addEventListener('click', () => {\n            this.pluginPanel.batchExport('json');\n            cleanup();\n            this.notify.success('Batch export complete!');\n        });\n\n        document.getElementById('batch-md')?.addEventListener('click', () => {\n            this.pluginPanel.batchExport('markdown');\n            cleanup();\n            this.notify.success('Batch export complete!');\n        });\n\n        document.getElementById('batch-html')?.addEventListener('click', () => {\n            this.pluginPanel.batchExport('html');\n            cleanup();\n            this.notify.success('Batch export complete!');\n        });\n\n        document.getElementById('batch-cancel')?.addEventListener('click', cleanup);\n\n        modal.addEventListener('click', (e) => {\n            if (e.target === modal) cleanup();\n        });\n\n        const escHandler = (e) => {\n            if (e.key === 'Escape') {\n                cleanup();\n                document.removeEventListener('keydown', escHandler);\n            }\n        };\n        document.addEventListener('keydown', escHandler);\n    }\n\n    /**\n     * Clean up all resources and event listeners\n     * Call this method when destroying the editor instance to prevent memory leaks\n     */\n    destroy() {\n        if (!this.isBrowser()) return;\n\n        // Remove global error handlers\n        if (this._globalErrorHandler) {\n            window.removeEventListener('error', this._globalErrorHandler);\n            this._globalErrorHandler = null;\n        }\n        if (this._unhandledRejectionHandler) {\n            window.removeEventListener('unhandledrejection', this._unhandledRejectionHandler);\n            this._unhandledRejectionHandler = null;\n        }\n\n        // Remove click catcher handlers\n        const catcher = document.getElementById('app-click-catcher');\n        if (catcher && this._clickCatcherHandler) {\n            catcher.removeEventListener('click', this._clickCatcherHandler);\n            this._clickCatcherHandler = null;\n        }\n\n        const background = document.getElementById('app-background');\n        if (background && this._backgroundClickHandler) {\n            background.removeEventListener('click', this._backgroundClickHandler);\n            this._backgroundClickHandler = null;\n        }\n\n        // Clean up any active error toasts\n        const toastContainer = document.getElementById('error-toast-container');\n        if (toastContainer) {\n            const toasts = toastContainer.querySelectorAll('.error-toast');\n            toasts.forEach(toast => {\n                if (toast._autoDismissTimeout) {\n                    clearTimeout(toast._autoDismissTimeout);\n                }\n            });\n            toastContainer.innerHTML = '';\n        }\n\n        // Stop all plugins\n        if (this.pluginLoader) {\n            this.pluginLoader.stopAll();\n        }\n\n        // Clean up plugin panel\n        if (this.pluginPanel) {\n            this.pluginPanel.destroy();\n        }\n    }\n\n    showCollaborationStory() {\n        console.log('');\n        console.log(' ======================================');\n        console.log(' THE DEVELOPMENT JOURNEY');\n        console.log(' ======================================');\n        console.log('');\n        console.log(' Phase 1: Professional tooling setup');\n        console.log(' Phase 2: Comprehensive testing suite');\n        console.log(' Phase 3: Real markdown functionality!');\n        console.log(' Result: From demo to actual working editor');\n        console.log('');\n        console.log(' Features now working:');\n        console.log('    Real-time markdown parsing');\n        console.log('    File upload & drag-drop');\n        console.log('    Professional split-pane UI');\n        console.log('    Keyboard shortcuts (Tab, Ctrl+S)');\n        console.log('    Live preview with styling');\n        console.log('');\n        console.log(' This is now a REAL markdown editor! ');\n    }\n}\n\nexport default MarkdownEditor;\n\n// Browser initialization\nif (typeof window !== 'undefined' && typeof jest === 'undefined') {\n    const markdownEditor = new MarkdownEditor();\n    markdownEditor.init();\n    window.markdownEditor = markdownEditor;\n\n    try {\n        if (window.markdownEditor?.constructor?.name !== 'MarkdownEditor') {\n            Object.defineProperty(window.markdownEditor, 'constructor', {\n                value: { name: 'MarkdownEditor' }, configurable: true, enumerable: false, writable: false\n            });\n        }\n    } catch (_) { }\n\n    window.showCollabStory = () => markdownEditor.showCollaborationStory();\n    window.getAnimationFPS = () => { try { return Math.round(markdownEditor?.anim?.getFPS() ?? 0); } catch (_) { return 0; } };\n\n    console.log(' Console commands available:');\n    console.log('    MDReaderPro.editor - Editor instance');\n    console.log('    MDReaderPro.showCollabStory() - Development journey!');\n    console.log('    MDReaderPro.getAnimationFPS() - Current animation FPS estimate');\n    console.log('    MDReaderPro.destroy() - Clean up all resources');\n}\n"],"names":["Prism","string","languages","css","pattern","RegExp","source","inside","lookbehind","alias","greedy","rest","markup","tag","addInlined","addAttribute","javascript","extend","clike","insertBefore","regex","js","json","webmanifest","inner","createInline","replace","tableCell","tableRow","tableLine","markdown","yaml","punctuation","forEach","token","content","hooks","add","env","language","walkTokens","tokens","i","l","length","type","codeLang","codeBlock","lang","exec","toLowerCase","push","classes","cls","match","grammar","highlight","tagPattern","m","code","value","parseInt","slice","Number","fromCodePoint","KNOWN_ENTITY_NAMES","plugins","autoloader","id","Date","valueOf","Math","floor","random","attributes","loadLanguages","ele","document","getElementById","innerHTML","textContent","String","fromCharCode","md","Object","defineProperty","tagName","includedCdataInside","def","attrName","html","mathml","svg","xml","ssml","atom","rss","python","py","_self","uniqueId","plainTextGrammar","_","manual","disableWorkerMessageHandler","util","encode","Token","Array","isArray","map","o","prototype","toString","call","objId","obj","clone","deepClone","visited","key","hasOwnProperty","v","getLanguage","element","className","parentElement","setLanguage","classList","currentScript","Error","err","src","stack","scripts","getElementsByTagName","isActive","defaultActivation","no","contains","plain","plaintext","text","txt","redef","before","insert","root","ret","newToken","old","DFS","this","callback","property","propertyType","highlightAll","async","highlightAllUnder","container","selector","run","elements","apply","querySelectorAll","highlightElement","parent","nodeName","insertHighlightedCode","highlightedCode","hasAttribute","setAttribute","Worker","worker","filename","onmessage","evt","data","postMessage","JSON","stringify","immediateClose","tokenize","tokenList","LinkedList","addAfter","head","matchGrammar","list","array","node","next","tail","toArray","all","name","callbacks","matchedStr","matchPattern","pos","lastIndex","lookbehindLength","index","startNode","startPos","rematch","patterns","j","cause","patternObj","global","flags","currentNode","reach","str","removeCount","from","to","p","k","matchStr","after","removeFrom","prev","removeRange","nestedRematch","newNode","count","s","e","aliases","join","addEventListener","message","parse","close","script","highlightAutomaticallyCallback","readyState","defer","window","requestAnimationFrame","setTimeout","WorkerGlobalScope","self","module","exports","g","Element","matches","msMatchesSelector","webkitMatchesSelector","EXTENSIONS","STATUS_ATTR","STATUS_LOADING","STATUS_LOADED","SELECTOR","pre","appendChild","createElement","getAttribute","extension","success","error","xhr","XMLHttpRequest","open","onreadystatechange","status","responseText","range","start","comma","end","undefined","parseRange","lines","split","max","min","statusText","send","loadFile","fileHighlight","logged","console","warn","arguments","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","globalThis","Function","AnimationManager","constructor","animations","Set","metrics","lastFrameTime","_getPerformanceNow","samples","lastFPS","_tick","bind","_rafId","_isRunning","_hasRAF","_hasCAF","cancelAnimationFrame","performance","now","_setStyle","style","_startLoop","_stopLoop","ts","delta","isFinite","fps","shift","sum","reduce","a","b","round","anim","canceled","delete","duration","progress","updater","onComplete","size","animate","delay","fadeOut","options","startOpacity","_getOpacity","translateY","t","opacity","y","fadeIn","cancelAll","clear","getFPS","el","cs","getComputedStyle","op","parseFloat","isNaN","NotificationManager","notifications","initContainer","CONSTANTS","DURATION","SHORT","MEDIUM","LONG","PERSISTENT","TYPE","SUCCESS","ERROR","WARNING","INFO","ANIMATION_DURATION","MAX_NOTIFICATIONS","Z_INDEX","cssText","body","show","actions","onDismiss","dismissOldest","notification","createNotification","timeoutId","dismiss","getBackgroundColor","icon","getIcon","messageContainer","iconSpan","messageText","closeBtn","closeBtnEnterHandler","background","closeBtnLeaveHandler","eventHandlers","event","handler","actionsContainer","action","btn","label","primary","btnEnterHandler","transform","boxShadow","btnLeaveHandler","onClick","dismissAfter","handlers","clearTimeout","removeEventListener","remove","parentNode","removeChild","indexOf","splice","dismissAll","colors","warning","info","icons","ErrorManager","static","maxErrors","MAX_ERRORS","cleanupPercent","CLEANUP_PERCENT","maxAgeDays","MAX_AGE_DAYS","lastError","lastErrorTime","dedupeWindow","onError","onErrorCleared","_runDailyCleanup","capture","context","silent","errorMessage","errorStack","_isDuplicate","entry","_generateId","component","url","location","href","userAgent","navigator","timestamp","toISOString","epochMs","sessionId","_getSessionId","_store","hostname","wrap","fn","args","result","Promise","catch","getAll","filters","_load","filter","since","getRecent","getCurrentSession","clearAll","_save","clearOlderThan","days","cutoff","filtered","getStats","errors","sessionErrors","byComponent","comp","total","currentSession","oldestError","newestError","capacityUsed","substring","sessionStorage","getItem","setItem","localStorage","STORAGE_KEY","_isCleaningUp","_forceCleanup","_cleanup","ceil","cleaned","half","removeItem","lastCleanup","history","historyIndex","maxHistory","historyDebounce","onHistoryChange","saveToHistory","debouncedSave","canUndo","canRedo","undo","redo","getCurrentContent","DEFAULT_SETTINGS","editMode","theme","autoSave","autoSaveInterval","syncScroll","autoAnalyze","enabled","autoLoad","reportFormat","showLineNumbers","showWordCount","showCharCount","customTheme","preset","accent","bgPrimary","bgSecondary","bgTertiary","textPrimary","textSecondary","textMuted","border","storage","onChange","settings","parsed","_merge","defaults","overrides","keys","defaultVal","overrideVal","get","parts","part","set","isUnsafeKey","segment","lastSegment","reset","isEditModeEnabled","toggleEditMode","setEditMode","getTheme","setTheme","isAutoSaveEnabled","getEnabledPlugins","enablePlugin","pluginId","includes","disablePlugin","idx","version","autoSaveTimer","lastSaveTime","getEditorValue","setEditorValue","getPreviewHTML","triggerFileInput","notify","showNotification","focusEditor","onContentLoaded","isTestEnvironment","jest","MAX_FILE_SIZE","SUPPORTED_EXTENSIONS","file","toFixed","ext","lastIndexOf","readFile","reader","FileReader","cleanup","onload","onerror","onabort","_getFileReaderResult","log","readAsText","saveMarkdown","trim","blob","Blob","URL","createObjectURL","download","click","revokeObjectURL","exportAsHTML","previewHTML","saveToLocalStorage","getAutoSaveData","saved","copyToClipboard","clipboard","writeText","copyMarkdown","copyHTML","getTimeAgo","date","seconds","minutes","target","T","breaks","extensions","gfm","pedantic","renderer","tokenizer","H","u","n","r","caret","getRegex","Re","codeRemoveIndent","outputLinkReplace","indentCodeCompensation","beginningSpace","endingHash","startingSpaceChar","endingSpaceChar","nonSpaceChar","newLineCharGlobal","tabCharGlobal","multipleSpaceGlobal","blankLine","doubleBlankLine","blockquoteStart","blockquoteSetextReplace","blockquoteSetextReplace2","listReplaceNesting","listIsTask","listReplaceTask","listTaskCheckbox","anyLine","hrefBrackets","tableDelimiter","tableAlignChars","tableRowBlankLine","tableAlignRight","tableAlignCenter","tableAlignLeft","startATag","endATag","startPreScriptTag","endPreScriptTag","startAngleBracket","endAngleBracket","pedanticHrefTitle","unicodeAlphaNumeric","escapeTest","escapeReplace","escapeTestNoEncode","escapeReplaceNoEncode","unescapeTest","percentDecode","findPipe","splitPipe","slashPipe","carriageReturn","spaceLine","notSpaceStart","endingNewline","listItemRegex","nextBulletRegex","hrRegex","fencesBeginRegex","headingBeginRegex","htmlBeginRegex","blockquoteBeginRegex","I","N","re","se","Pe","Q","F","$e","_e","q","Le","ie","U","blockquote","fences","heading","hr","lheading","newline","paragraph","table","te","ze","Ce","oe","K","ae","Be","le","ue","He","pe","Ze","Ne","ce","Qe","Fe","je","Ue","We","Xe","Je","Ve","Ye","D","et","he","ke","ne","W","_backpedal","anyPunctuation","autolink","blockSkip","br","del","delLDelim","delRDelim","emStrongLDelim","emStrongRDelimAst","emStrongRDelimUnd","escape","link","nolink","reflink","reflinkSearch","nt","Z","rt","E","normal","z","st","de","O","test","X","encodeURI","J","at","pop","C","charAt","fe","repeat","me","title","other","state","inLink","raw","inlineTokens","w","rules","lexer","space","block","codeBlockStyle","it","inline","depth","c","d","top","blockTokens","h","R","f","S","ordered","loose","items","trimStart","search","V","Y","ee","xe","be","A","G","task","trimEnd","inlineQueue","checked","unshift","some","header","align","rows","inRawBlock","ge","emStrong","codespan","inlineText","escaped","x","links","create","lex","lexInline","endsWith","startBlock","charCodeAt","emStrongMask","startInline","parser","parseInline","listitem","checkbox","tablecell","tablerow","strong","em","image","textRenderer","$","renderers","P","preprocess","postprocess","processAllTokens","provideLexer","provideParser","L","setOptions","parseMarkdown","Parser","Renderer","TextRenderer","Lexer","Tokenizer","Hooks","use","concat","childTokens","flat","level","passThroughHooks","has","passThroughHooksRespectAsync","resolve","reject","getDefaults","entries","setPrototypeOf","isFrozen","getPrototypeOf","getOwnPropertyDescriptor","freeze","seal","construct","Reflect","func","thisArg","_len","_key","Func","_len2","_key2","arrayForEach","unapply","arrayLastIndexOf","arrayPop","arrayPush","arraySplice","stringToLowerCase","stringToString","stringMatch","stringReplace","stringIndexOf","stringTrim","objectHasOwnProperty","regExpTest","typeErrorCreate","TypeError","_len4","_key4","_len3","_key3","addToSet","transformCaseFunc","lcElement","cleanArray","object","newObject","lookupGetter","prop","desc","html$1","svg$1","svgFilters","svgDisallowed","mathMl$1","mathMlDisallowed","mathMl","MUSTACHE_EXPR","ERB_EXPR","TMPLIT_EXPR","DATA_ATTR","ARIA_ATTR","IS_ALLOWED_URI","IS_SCRIPT_OR_DATA","ATTR_WHITESPACE","DOCTYPE_NAME","CUSTOM_ELEMENT","EXPRESSIONS","__proto__","getGlobal","purify","createDOMPurify","DOMPurify","removed","nodeType","isSupported","originalDocument","DocumentFragment","HTMLTemplateElement","Node","NodeFilter","NamedNodeMap","MozNamedAttrMap","HTMLFormElement","DOMParser","trustedTypes","ElementPrototype","cloneNode","getNextSibling","getChildNodes","getParentNode","template","ownerDocument","trustedTypesPolicy","emptyHTML","implementation","createNodeIterator","createDocumentFragment","importNode","afterSanitizeAttributes","afterSanitizeElements","afterSanitizeShadowDOM","beforeSanitizeAttributes","beforeSanitizeElements","beforeSanitizeShadowDOM","uponSanitizeAttribute","uponSanitizeElement","uponSanitizeShadowNode","createHTMLDocument","IS_ALLOWED_URI$1","ALLOWED_TAGS","DEFAULT_ALLOWED_TAGS","ALLOWED_ATTR","DEFAULT_ALLOWED_ATTR","CUSTOM_ELEMENT_HANDLING","tagNameCheck","writable","configurable","enumerable","attributeNameCheck","allowCustomizedBuiltInElements","FORBID_TAGS","FORBID_ATTR","EXTRA_ELEMENT_HANDLING","tagCheck","attributeCheck","ALLOW_ARIA_ATTR","ALLOW_DATA_ATTR","ALLOW_UNKNOWN_PROTOCOLS","ALLOW_SELF_CLOSE_IN_ATTR","SAFE_FOR_TEMPLATES","SAFE_FOR_XML","WHOLE_DOCUMENT","SET_CONFIG","FORCE_BODY","RETURN_DOM","RETURN_DOM_FRAGMENT","RETURN_TRUSTED_TYPE","SANITIZE_DOM","SANITIZE_NAMED_PROPS","KEEP_CONTENT","IN_PLACE","USE_PROFILES","FORBID_CONTENTS","DEFAULT_FORBID_CONTENTS","DATA_URI_TAGS","DEFAULT_DATA_URI_TAGS","URI_SAFE_ATTRIBUTES","DEFAULT_URI_SAFE_ATTRIBUTES","MATHML_NAMESPACE","SVG_NAMESPACE","HTML_NAMESPACE","NAMESPACE","IS_EMPTY_INPUT","ALLOWED_NAMESPACES","DEFAULT_ALLOWED_NAMESPACES","MATHML_TEXT_INTEGRATION_POINTS","HTML_INTEGRATION_POINTS","COMMON_SVG_AND_HTML_ELEMENTS","PARSER_MEDIA_TYPE","SUPPORTED_PARSER_MEDIA_TYPES","CONFIG","formElement","isRegexOrFunction","testValue","_parseConfig","cfg","ADD_URI_SAFE_ATTR","ADD_DATA_URI_TAGS","ALLOWED_URI_REGEXP","ADD_TAGS","ADD_ATTR","ADD_FORBID_CONTENTS","tbody","TRUSTED_TYPES_POLICY","createHTML","createScriptURL","purifyHostElement","createPolicy","suffix","ATTR_NAME","policyName","scriptUrl","_createTrustedTypesPolicy","ALL_SVG_TAGS","ALL_MATHML_TAGS","_forceRemove","_removeAttribute","attribute","getAttributeNode","removeAttribute","_initDocument","dirty","doc","leadingWhitespace","dirtyPayload","parseFromString","documentElement","createDocument","createTextNode","childNodes","_createNodeIterator","SHOW_ELEMENT","SHOW_COMMENT","SHOW_TEXT","SHOW_PROCESSING_INSTRUCTION","SHOW_CDATA_SECTION","_isClobbered","namespaceURI","hasChildNodes","_isNode","_executeHooks","hook","_sanitizeElements","allowedTags","firstElementChild","_isBasicCustomElement","childClone","__removalCount","parentTagName","Boolean","_checkValidNamespace","expr","_isValidAttribute","lcTag","lcName","_sanitizeAttributes","hookEvent","attrValue","keepAttr","allowedAttributes","forceKeepAttr","attr","initValue","getAttributeType","setAttributeNS","_sanitizeShadowDOM","fragment","shadowNode","shadowIterator","nextNode","sanitize","importedNode","returnNode","firstChild","nodeIterator","shadowroot","shadowrootmode","serializedHTML","outerHTML","doctype","setConfig","clearConfig","isValidAttribute","addHook","entryPoint","hookFunction","removeHook","removeHooks","removeAllHooks","EditorUI","_brainState","initialized","mode","focused","subsystems","Map","_eventBus","listeners","emit","_emitEvent","on","_addEventListener","off","_removeEventListener","editor","preview","fileInput","uploadArea","statsDisplay","saveIndicator","undoBtn","redoBtn","cachedElements","debounceTimer","_copyButtonsInitialized","eventListeners","cachedTabs","cachedPanes","statsDebounceTimer","onEditorInput","onFileSelect","onSave","onUndo","onRedo","onExport","onCopyMarkdown","onCopyHTML","onCopyToEditor","onSetMode","setMode","onUpdatePreview","updatePreview","onFileDragAnalysis","currentTheme","stats","words","characters","readingTime","sanitizeConfig","TAB_WIDTH","INDENTATION_SPACES","FEEDBACK_DURATION","FEEDBACK_FADE_DURATION","HELP_BAR_TRANSITION_DURATION","HELP_BAR_WIDTH","DEBOUNCE_DELAY","registerSubsystem","config","init","destroy","onModeChange","onThemeChange","initializeSubsystems","subsystem","getBrainState","setBrainState","oldValue","newValue","_notifySubsystemsOfModeChange","_notifySubsystemsOfThemeChange","isBrowser","hasRequiredElements","getCachedElement","querySelector","removeDOMElement","addTrackedListener","setupDOM","_registerCoreSubsystems","headerIds","setupEventListeners","debouncedUpdatePreview","files","setupDragAndDrop","handleKeyboardShortcuts","preventDefaults","preventDefault","stopPropagation","dataTransfer","fns","rawHtml","cleanHtml","errorDiv","ctrlKey","metaKey","modes","selectionStart","selectionEnd","setupEnhancedKeyboardShortcuts","activeElement","shiftKey","setupTabs","editorContainer","previousMode","editorPane","previewPane","display","hide","animateSwap","outEl","inEl","updateStatus","statusIndicator","statusDot","color","setupHelpBar","helpToggle","helpBar","helpIcon","helpText","toggle","isVisible","_updateHelpBarState","clickOutsideHandler","setupCopyButtons","setupStatsCounter","updateStats","trimmedText","charactersNoSpaces","statElements","time","createSaveIndicator","indicator","updateSaveIndicator","addUndoRedoButtons","toolbar","updateUndoRedoButtons","disabled","setupToolbarCopyDropdown","existingCopyBtn","find","replaceWith","_createCopyDropdown","mainBtn","dropdown","createItem","item","setupSaveButton","saveBtn","setupExportButton","exportBtn","setupThemeToggle","headerControls","themeBtn","toggleTheme","default","ocean","forest","sunset","midnight","rose","applyCustomTheme","themeColors","setProperty","applyThemePreset","presetName","THEME_PRESETS","resetToDefaultTheme","getThemePresets","setupKeyboardShortcutsModal","altKey","showKeyboardShortcutsModal","existing","modal","closeModal","closeOnEsc","feedbackDuration","isError","copyToEditor","example","cursorPos","currentValue","beforeCursor","afterCursor","spacing","newCursorPos","setSelectionRange","focus","showClipboardError","values","register","installedAt","unregister","isRegistered","isEnabled","enable","disable","updateSettings","binary","onMessage","onReady","onExit","process","ready","pendingRequests","buffer","isNode","versions","_startNativeNode","_startNativeBrowser","spawn","import","stdio","stdout","_handleData","stderr","_rejectPendingRequests","readyTimeout","originalOnMessage","msg","mockMode","line","_handleMessage","pending","timeout","payload","_sendMock","stdin","write","response","pong","features","tui","gui","path","files_analyzed","analyses","file_type","permissions","is_binary","reason","stop","_err","kill","isReady","pluginsDir","manifests","instances","onPluginReady","onPluginError","onPluginMessage","discover","diamondDrill","description","author","capabilities","native","wasm","defaultView","readOnlyEnforce","load","manifest","instance","_loadNativePlugin","_loadWasmPlugin","_loadIframePlugin","_loadWorkerPlugin","bridge","unload","hotReload","oldManifest","isLoaded","getLoadedPlugins","getAvailablePlugins","stopAll","contentArea","isOpen","currentPlugin","width","onClose","onPluginAction","_analysisHistory","_maxHistory","mount","titleEl","mainContent","marginRight","transition","setTitle","setContent","appendContent","insertAdjacentHTML","clearContent","showLoading","showError","showAnalysisResults","results","_addToHistory","_lastAnalysisResults","analysis","fileName","sizeStr","_formatSize","line_count","word_count","bytes","showDeepAnalysisResults","source_path","total_files","total_size","file_types","exportReport","showSettings","currentSettings","newSettings","format","mimeType","_generateMarkdownReport","_generateHtmlReport","batchExport","indices","historyToExport","batchReport","batch_export","exported_at","total_analyses","_generateBatchMarkdown","_generateBatchHtml","analysesHtml","getHistory","clearHistory","showHistory","fileCount","toLocaleString","confirm","dataset","pluginLoader","pluginRegistry","onPluginLoad","onPluginUnload","installedSection","installedGrid","enabledPlugins","plugin","card","_createPluginCard","availableSection","_escHandler","statusColor","loadBtn","unloadBtn","refresh","MarkdownEditor","_onSettingsChange","_onPluginReady","_onPluginError","_onPluginMessage","pluginPanel","_onPluginPanelClose","storefront","loadPlugin","unloadPlugin","_showErrorToast","_onHistoryChange","io","ui","_onContentLoaded","_onEditorInput","_showFileDragAnalysis","TOGGLE_BUTTON_SIZE","MEMORY_LEAK_THRESHOLD","KEYBOARD_SHORTCUTS","SAVE","TAB","ESCAPE","sel","getFileReaderResult","setupEditor","initCathedralFeatures","handleFileSelect","_syncHistoryState","_handleAutoSave","analyzeCurrentDocument","updateHelpBarState","showCopyFeedback","createCopyDropdown","createDropdownItem","setupAutoSave","setupUndoRedo","setupPluginMenu","setupClickCatcher","setupGlobalErrorHandling","menuContainer","pluginBtn","toggleDiamondDrill","runDeepAnalysis","divider","showAnalysisHistory","batchExportAnalyses","hotReloadPlugin","openThemeCustomizer","openPluginSettings","openStorefront","menuItem","nextSibling","catcher","_clickCatcherHandler","_backgroundClickHandler","_globalErrorHandler","lineno","_unhandledRejectionHandler","existingToasts","toast","_escapeHtml","toLocaleTimeString","_dismissErrorToast","_autoDismissTimeout","div","getErrorStats","getRecentErrors","clearErrors","loadFromAutoSave","enhanceKeyboardShortcuts","_applyEditMode","readOnly","_syncThemeToAllPlugins","loadedPlugins","syncThemeToPlugin","initPlugins","sendToPlugin","chars","char_count","content_html","toUpperCase","_formatNumber","cancelBtn","escHandler","num","exportAnalysisReport","presets","currentPreset","customColors","_darkenColor","_lightenColor","hex","percent","amt","_showBatchExportModal","historyCount","toastContainer","showCollaborationStory","markdownEditor","showCollabStory","getAnimationFPS"],"sourceRoot":""}